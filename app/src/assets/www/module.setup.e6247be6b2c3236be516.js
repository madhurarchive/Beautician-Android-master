(window.webpackJsonp=window.webpackJsonp||[]).push([[285,6],{"1EZC":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var a=n("VkAN"),r=n.n(a),o=n("ePPS"),i=n("q9fD");function c(){var e=r()(["No tax"]);return c=function(){return e},e}function s(e){return e?"".concat(e.name," (").concat(e.taxRates.map(e=>e.rate).join("%, "),"%)"):Object(o.c)(c())}var l=(e,t)=>({taxRate:e===i.a?null:e,useDefault:e===i.a,location:t})},"35RN":function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g}));var a=n("lSNA"),r=n.n(a),o=n("q1tI"),i=n.n(o),c=n("i8i4"),s=n("pVnL"),l=n.n(s),u=n("17x9"),d=n.n(u);function p({text:e,link:t,last:n,history:a}){var r={className:n?"":"top-nav__title--link",children:e};return t&&!n?function(e,t,n){return i.a.createElement("a",l()({onClick:n=>function(e,t,n){e.preventDefault(),t.push(n)}(n,t,e),href:e},n))}(t,a,r):i.a.createElement("span",r)}function m(){return i.a.createElement("span",{className:"top-nav__title--separator"},"/")}function b({paths:e,history:t}){var n=e.length,a=null;if(n>0){var r=n-1,o=[];e.forEach((e,n)=>{var a=n===r;o.push(i.a.createElement(p,l()({key:"crumb-".concat(n)},e,{last:a,history:t}))),a||o.push(i.a.createElement(m,{key:"separator-".concat(n)}))}),a=i.a.createElement("div",null,o)}return a}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}p.propTypes={history:d.a.object.isRequired,text:d.a.string.isRequired,link:d.a.string,last:d.a.bool},b.propTypes={history:d.a.object.isRequired,paths:d.a.arrayOf(d.a.shape({text:d.a.string.isRequired,link:d.a.string}))};class h extends i.a.Component{constructor(e){super(e),this.containerEl=document.querySelector("header .top-nav .top-nav__title--item"),this.renderBreadcrumbs=this.renderBreadcrumbs.bind(this)}componentDidMount(){this.renderBreadcrumbs()}componentDidUpdate(){this.renderBreadcrumbs()}renderBreadcrumbs(){this.containerEl instanceof HTMLElement&&Object(c.render)(i.a.createElement(b,this.props),this.containerEl)}render(){return null}}function g(e,t){return{text:e,link:t}}r()(h,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},b.propTypes))},"4FHX":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a,r,o,i=n("lSNA"),c=n.n(i),s=n("VkAN"),l=n.n(s),u=n("q1tI"),d=n.n(u),p=n("17x9"),m=n.n(p),b=n("TSYQ"),f=n.n(b),h=n("PhEd"),g=n("/MKj"),E=n("ePPS"),y=n("Qs7Y"),v=n("Jje6"),O=n("dhJQ"),j=n("7QJG"),T=n("nbpM"),S=n("av5J"),x=n.n(S);function C(){var e=l()(["No tax"]);return C=function(){return e},e}var N=Object(E.c)(C()),w=Object(O.g)()(a=Object(g.b)(e=>({isReshedulEnabled:T.a.isReshedulEnabled(e)}))((o=r=class extends u.PureComponent{render(){var{locations:e,taxes:t,isMatch:n,handleTaxDefaultClick:a,isReshedulEnabled:r}=this.props;return d.a.createElement(v.b,{className:f()(x.a.self,!n&&x.a.deskstopList)},e.map(({id:e,name:o,defaultProductTaxRate:i,defaultServiceTaxRate:c})=>d.a.createElement(j.a,{title:o,className:x.a.item,subtitle:d.a.createElement(v.b,{className:n?x.a.mobileSubtitle:x.a.subtitle},r?d.a.createElement(h.Text,{type:"fresha-caption",color:"gray50"},Object(E.c)("Products Default: %{productDefault}",{productDefault:i?i.name:N})):d.a.createElement(y.d,{className:n?x.a.mobileText:x.a.text},Object(E.c)("Products Default: %{productDefault}",{productDefault:i?i.name:N})),!n&&d.a.createElement(v.b,null," ・ "),r?d.a.createElement(h.Text,{type:"fresha-caption",color:"gray50"},Object(E.c)("Services Default: %{serviceDefault}",{serviceDefault:c?c.name:N})):d.a.createElement(y.d,{className:n?x.a.mobileText:x.a.text},Object(E.c)("Services Default: %{serviceDefault}",{serviceDefault:c?c.name:N}))),handleEdit:t.length>0?()=>a(e):void 0,onAction:t.length>0?()=>a(e):void 0,key:e})))}},c()(r,"propTypes",{taxes:m.a.arrayOf(m.a.object).isRequired,locations:m.a.arrayOf(m.a.object).isRequired,isMatch:m.a.bool,handleTaxDefaultClick:m.a.func,isReshedulEnabled:m.a.bool}),a=o))||a)||a},"6Lyp":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={ADD:"add",EDIT:"edit"}},"79hK":function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return E})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return O})),n.d(t,"g",(function(){return j}));var a=n("lSNA"),r=n.n(a),o=n("JZM8"),i=n.n(o),c=n("mwIZ"),s=n.n(c),l=n("G4qV"),u=n("nbpM"),d=n("eMT7");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=Object(l.a)([({locations:e})=>e],e=>({items:e.items.filter(e=>e.accessible),isFetching:e.isFetching,didFail:e.didFail})),f=Object(l.a)([({locations:e})=>e],e=>m(m({},e),{},{items:e.items.filter(e=>!e.deletedAt)})),h=e=>e.locations.selectedBusinessTypes,g=(e,t)=>e.locations.items.find(e=>e.id===t),E=Object(l.a)([e=>e.locations.items,h,(e,t)=>t],(e,t,n)=>{var a;if(!e.length)return{};if(s()(t,"".concat(n||d.a,".primaryId"))){var r=t[n||d.a];a={primaryBusinessTypeId:r.primaryId,secondaryBusinessTypeIds:r.secondaryIds}}else n?a=e.find(e=>e.id===n):[a]=(e=>e.sort((e,t)=>e.id-t.id))([...e]);return{primaryId:a.primaryBusinessTypeId,secondaryIds:a.secondaryBusinessTypeIds}}),y=Object(l.a)([e=>e.locations.items,u.a.getBusinessTypeDictByIds],(e,t)=>Object.keys(t).length?e.reduce((e,n)=>{var{primaryBusinessTypeId:a,secondaryBusinessTypeIds:r}=n,o=t[a].name,i=r.map(e=>t[e].name);return e.push(m(m({},n),{},{primaryBusinessType:o,secondaryBusinessTypes:i})),e},[]):[]),v=Object(l.a)([u.a.getLocationProfiles],e=>e.reduce((e,t)=>(e[t.locationId]=i()(t,"address","addressDetails","city","state","zipCode"),e),{})),O=(e,t)=>{var n=v(e),a=g(e,t);if(!a)return{};var r=n[a.id];return m(m({},a),r)},j=Object(l.a)([e=>e.locations.items,u.a.getBusinessTypeDictByIds,h,v],(e,t,n,a)=>Object.keys(t).length?e.reduce((e,r)=>{var o=n[r.id]||{},i=o.primaryId?o.primaryId:r.primaryBusinessTypeId,c=o.primaryId?o.secondaryIds:r.secondaryBusinessTypeIds,s=t[i].name,l=c.map(e=>t[e].name),u=a[r.id];return e.push(m(m({},r),{},{primaryBusinessType:s,primaryBusinessTypeId:i,secondaryBusinessTypes:l,secondaryBusinessTypeIds:c},u)),e},[]):[])},"7QJG":function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var a,r,o,i=n("VkAN"),c=n.n(i),s=n("lSNA"),l=n.n(s),u=n("N1om"),d=n.n(u),p=n("vN+2"),m=n.n(p),b=n("q1tI"),f=n.n(b),h=n("17x9"),g=n.n(h),E=n("TSYQ"),y=n.n(E),v=n("PhEd"),O=n("/MKj"),j=n("ePPS"),T=n("Qs7Y"),S=n("Jje6"),x=n("TSDZ"),C=n("jgWq"),N=n("dhJQ"),w=n("nbpM"),A=n("y8FL"),P=n.n(A);function I(){var e=c()(["Delete"]);return I=function(){return e},e}function k(){var e=c()(["Edit"]);return k=function(){return e},e}var R=Object(N.g)()(a=Object(O.b)(e=>({isReshedulEnabled:w.a.isReshedulEnabled(e)}))((o=r=class extends b.PureComponent{constructor(...e){super(...e),l()(this,"renderSuffix",e=>{var{handleEdit:t,handleDelete:n,bulkSortingMode:a,iconDropDownMenuActions:r}=this.props;return a?"drag":t||n||r?f.a.createElement(x.f,{icon:x.f.ICON.OPTIONS,align:"right",qaType:"list-item-dropdown",transparent:!0,onClose:e},t&&f.a.createElement(x.c,{onAction:t,qaType:"button-edit-item"},Object(j.c)(k())),n&&f.a.createElement(x.b,{onAction:n,qaType:"button-delete-item"},Object(j.c)(I())),r):null})}render(){var{prefix:e,title:t,subtitle:n,isMatch:a,bulkSortingMode:r,className:o,onAction:i,titleQaType:c,subtitleQaType:s,children:l,isReshedulEnabled:u}=this.props;return f.a.createElement(C.a,{className:y()(P.a.self,o),prefix:e,suffix:a?this.renderSuffix:void 0,suffixOnHover:this.renderSuffix,suffixClassName:r?P.a.drag:P.a.suffix,onAction:i||m.a,suffixSize:"standard",qaType:"list-item-row-button-".concat(d()(t)),propagateEvents:r},f.a.createElement(S.b,{flex:"column",justifyContent:"space-between"},u?f.a.createElement(v.Text,{type:"fresha-h4",color:"gray100",qaType:c},t):f.a.createElement(T.d,{className:P.a.title,qaType:c},t),f.a.createElement(T.d,{className:P.a.subtitle,qaType:s},n)),l)}},l()(r,"propTypes",{title:g.a.node,subtitle:g.a.node,prefix:g.a.node,children:g.a.node,handleEdit:g.a.func,handleDelete:g.a.func,iconDropDownMenuActions:g.a.element,isMatch:g.a.bool,bulkSortingMode:g.a.bool,className:g.a.string,onAction:g.a.func,titleQaType:g.a.string,subtitleQaType:g.a.string,isReshedulEnabled:g.a.bool}),a=o))||a)||a},"9ArU":function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var a,r,o,i=n("lSNA"),c=n.n(i),s=n("VkAN"),l=n.n(s),u=n("q1tI"),d=n.n(u),p=n("/MKj"),m=n("17x9"),b=n.n(m),f=n("5ZU+"),h=n("XOD0"),g=n("ePPS"),E=n("3wSE"),y=n("/Q2I"),v=n("Qs7Y"),O=n("dhJQ"),j=n("+hsN"),T=n("cE5c");function S(){var e=l()(["Delete"]);return S=function(){return e},e}function x(){var e=l()(["Delete Tax Group"]);return x=function(){return e},e}function C(){var e=l()(["Tax group cannot be deleted"]);return C=function(){return e},e}function N(){var e=l()(["Tax group"]);return N=function(){return e},e}function w(){var e=l()(["Are you sure you want to delete this tax group?"]);return w=function(){return e},e}var A=d.a.createElement(v.d,{type:"body-1"},Object(g.c)(w())),P=Object(p.b)((e,t)=>({taxGroupId:Object(T.c)(t)}),{})(a=Object(O.g)("tablet")((o=r=class extends u.PureComponent{constructor(...e){super(...e),c()(this,"handleClose",()=>{Object(h.b)(j.O)}),c()(this,"handleDelete",()=>{var{taxGroupId:e}=this.props;return f.a.deleteTaxGroup(e).then(()=>{f.a.addDeletedToast(Object(g.c)(N())),f.a.deleteTaxRateFromORM(e),Object(h.f)(j.O)}).catch(()=>{f.a.addErrorToast(Object(g.c)(C()))})})}render(){var{tablet:e}=this.props;return d.a.createElement(y.i,{size:"small"},d.a.createElement(y.g,{onClose:this.handleClose,subheader:e&&A},Object(g.c)(x())),d.a.createElement(y.c,{onlyBottomPadding:e},!e&&A),d.a.createElement(y.e,{noPadding:!0},d.a.createElement(y.b,null,d.a.createElement(E.g,{onAction:this.handleDelete,withPending:!0,"data-qa":"confirm-delete-tax-group-button"},Object(g.c)(S())))))}},c()(r,"propTypes",{taxGroupId:b.a.string.isRequired,tablet:b.a.bool}),a=o))||a)||a},Ciiq:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n("pVnL"),r=n.n(a),o=n("QILm"),i=n.n(o),c=n("lSNA"),s=n.n(c),l=n("q1tI"),u=n.n(l),d=n("17x9"),p=n.n(d),m=n("TSYQ"),b=n.n(m),f=n("Jje6"),h=n("SaZb"),g=n.n(h);class E extends l.PureComponent{render(){var e=this.props,{className:t,checked:n,isDisabled:a}=e,o=i()(e,["className","checked","isDisabled"]);return u.a.createElement(f.b,r()({},o,{className:b()(g.a.self,t,{[g.a.checked]:n,[g.a.disabled]:a})}))}}s()(E,"propTypes",{as:p.a.node,className:p.a.string,checked:p.a.bool,isDisabled:p.a.bool}),s()(E,"defaultProps",{checked:!1,as:"button"})},"F/Zl":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("lSNA"),r=n.n(a),o=n("q1tI"),i=n.n(o),c=n("17x9"),s=n.n(c);class l extends i.a.Component{constructor(e){super(e),this.containerEl=document.querySelector("header .sidebar__toggle.visible-mobile .page-title"),this.setTopNavigationText=this.setTopNavigationText.bind(this)}componentDidMount(){this.setTopNavigationText()}componentDidUpdate(){this.setTopNavigationText()}setTopNavigationText(){this.containerEl instanceof HTMLElement&&(this.containerEl.textContent=this.props.text)}render(){return null}}r()(l,"propTypes",{text:s.a.string.isRequired})},FYHr:function(e,t,n){"use strict";n.d(t,"a",(function(){return te}));var a,r,o,i=n("lSNA"),c=n.n(i),s=n("VkAN"),l=n.n(s),u=n("q1tI"),d=n.n(u),p=n("/MKj"),m=n("PhEd"),b=n("17x9"),f=n.n(b),h=n("HTL0"),g=n("5ZU+"),E=n("dhJQ"),y=n("nbpM"),v=n("XOD0"),O=n("ePPS"),j=n("Jje6"),T=n("Qs7Y"),S=n("SFs4"),x=n("3wSE"),C=n("kZhr"),N=n("/Q2I"),w=n("+hsN"),A=n("SozQ"),P=n.n(A);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(){var e=l()(["Save"]);return R=function(){return e},e}function M(){var e=l()(["For example: 20% tax on a $10.00 item comes to $1.67"]);return M=function(){return e},e}function L(){var e=l()(["Tax = (Tax Rate * Retail Price) / (1 + Tax Rate)"]);return L=function(){return e},e}function D(){var e=l()(["If selected, all taxes will be calculated using this formula:"]);return D=function(){return e},e}function q(){var e=l()(["Retail Prices Include Tax"]);return q=function(){return e},e}function B(){var e=l()(["For example: 20% tax on a $10.00 item comes to $2.00"]);return B=function(){return e},e}function F(){var e=l()(["Tax = Retail * Tax"]);return F=function(){return e},e}function G(){var e=l()(["If selected, all taxes will be calculated using this formula:"]);return G=function(){return e},e}function U(){var e=l()(["Retail Prices Exclude Tax"]);return U=function(){return e},e}function _(){var e=l()(["For example: 20% tax on a $10.00 item comes to $1.67"]);return _=function(){return e},e}function z(){var e=l()(["Tax = (Tax Rate * Retail Price) / (1 + Tax Rate)"]);return z=function(){return e},e}function V(){var e=l()(["If selected, all taxes will be calculated using this formula:"]);return V=function(){return e},e}function Q(){var e=l()(["Retail Prices Include Tax"]);return Q=function(){return e},e}function Y(){var e=l()(["For example: 20% tax on a $10.00 item comes to $2.00"]);return Y=function(){return e},e}function H(){var e=l()(["Tax = Retail * Tax"]);return H=function(){return e},e}function W(){var e=l()(["If selected, all taxes will be calculated using this formula:"]);return W=function(){return e},e}function J(){var e=l()(["Retail Prices Exclude Tax"]);return J=function(){return e},e}function K(){var e=l()(["This change will have a big impact on your sales. Make sure you understand all implications"]);return K=function(){return e},e}function Z(){var e=l()(["Change Tax Calculation"]);return Z=function(){return e},e}function X(){var e=l()(["Tax calculation logic has been changed successfully."]);return X=function(){return e},e}var $="include",ee="exclude";var te=Object(p.b)(e=>({reshedulEnabled:y.a.isReshedulEnabled(e),initialValues:{pricesIncludeTax:y.a.getProvider(e).pricesIncludeTax?$:ee}}))(a=Object(C.q)({form:"change-tax-calculation",onSubmit:function({pricesIncludeTax:e}){return g.a.updateProviderPricesIncludeTax(h.a.createProviderPricesIncludeTaxUpdateRequest({pricesIncludeTax:e===$})).then(()=>{g.a.addGlobalSuccessToast(Object(O.c)(X())),Object(v.b)(w.O)}).catch(()=>g.a.addErrorToast())}})(a=Object(E.g)()((o=r=class extends u.PureComponent{constructor(...e){super(...e),c()(this,"handleCancel",()=>{Object(v.b)(w.O)})}render(){var{submitting:e,submit:t,isMatch:n,reshedulEnabled:a}=this.props;return d.a.createElement(N.i,null,d.a.createElement(N.g,{onClose:this.handleCancel,noBottomPadding:!0},Object(O.c)(Z())),d.a.createElement(N.c,{className:P.a.self,wrapperClassName:P.a.wrapper,onlyBottomPadding:n},d.a.createElement(S.b,{icon:"light-bulb-yellow",title:Object(O.c)(K())}),a?d.a.createElement(m.ReduxForm.RadioGroup,{direction:"column",name:"pricesIncludeTax",xpos:n?void 0:"single"},d.a.createElement(m.ReduxForm.RadioGroupItem,{as:m.Form.RadioField,className:P.a.dsRadioField,value:ee,label:Object(O.c)(J()),helperText:d.a.createElement(j.b,{className:P.a.helperText},d.a.createElement(T.d,{type:"body-1"},Object(O.c)(W())),d.a.createElement(T.d,{className:P.a.formula,type:"body-1",weight:T.c.BOLD},Object(O.c)(H())),d.a.createElement(T.d,{type:"body-1"},Object(O.c)(Y())))}),d.a.createElement(m.ReduxForm.RadioGroupItem,{as:m.Form.RadioField,className:P.a.dsRadioField,value:$,label:Object(O.c)(Q()),helperText:d.a.createElement(j.b,{className:P.a.helperText},d.a.createElement(T.d,{type:"body-1"},Object(O.c)(V())),d.a.createElement(T.d,{className:P.a.formula,type:"body-1",weight:T.c.BOLD},Object(O.c)(z())),d.a.createElement(T.d,{type:"body-1"},Object(O.c)(_())))})):d.a.createElement(d.a.Fragment,null,d.a.createElement(j.b,{className:P.a.radioItemBox},d.a.createElement(C.B,{name:"pricesIncludeTax",className:P.a.radioItem,labelClassName:P.a.radioItemLabel,value:ee,label:Object(O.c)(U()),hint:d.a.createElement(j.b,null,d.a.createElement(T.d,{type:"body-1"},Object(O.c)(G())),d.a.createElement(T.d,{className:P.a.formula,type:"body-1",weight:T.c.BOLD},Object(O.c)(F())),d.a.createElement(T.d,{type:"body-1"},Object(O.c)(B()))),withBorder:!0})),d.a.createElement(j.b,{className:P.a.radioItemBox},d.a.createElement(C.B,{name:"pricesIncludeTax",className:P.a.radioItem,labelClassName:P.a.radioItemLabel,value:$,label:Object(O.c)(q()),hint:d.a.createElement(j.b,null,d.a.createElement(T.d,{type:"body-1"},Object(O.c)(D())),d.a.createElement(T.d,{className:P.a.formula,type:"body-1",weight:T.c.BOLD},Object(O.c)(L())),d.a.createElement(T.d,{type:"body-1"},Object(O.c)(M()))),withBorder:!0})))),d.a.createElement(N.e,null,d.a.createElement(x.f,{isPending:e,onAction:t,"data-qa":"save-tax-calculation-button"},Object(O.c)(R()))))}},c()(r,"propTypes",k(k({},C.Q),{},{reshedulEnabled:f.a.bool})),a=o))||a)||a)||a},GjOE:function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var a,r,o,i=n("lSNA"),c=n.n(i),s=n("QILm"),l=n.n(s),u=n("VkAN"),d=n.n(u),p=n("q1tI"),m=n.n(p),b=n("17x9"),f=n.n(b),h=n("/MKj"),g=n("nbpM"),E=n("XOD0"),y=n("ePPS"),v=n("cm9/"),O=n("ZO1O"),j=n("kZhr"),T=n("uZ2f"),S=n("tPh7"),x=n("dhJQ"),C=n("3wSE"),N=n("/Q2I"),w=n("cE5c"),A=n("+hsN"),P=n("6Lyp"),I=n("ypCz"),k=n.n(I);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function M(){var e=d()(["Save"]);return M=function(){return e},e}function L(){var e=d()(["New Tax"]);return L=function(){return e},e}function D(){var e=d()(["Edit Tax"]);return D=function(){return e},e}function q(){var e=d()(["Set the tax name and percentage rate. To apply this to your products\n          and services, adjust your tax defaults settings."]);return q=function(){return e},e}function B(){var e=d()(["Tax rate"]);return B=function(){return e},e}function F(){var e=d()(["Tax name"]);return F=function(){return e},e}var G=Object(y.c)(F()),U=Object(y.c)(B()),_=[j.kb.rangeOfNumbers(U,0,100,!0)],z=[j.kb.required(G),j.kb.minLength(1,G),j.kb.maxLength(100)];var V=Object(x.g)()(a=Object(h.b)((e,t)=>{var n=Object(w.c)(t),a=Object(w.f)(t),r=g.a.getTaxRate(e,n);return{mode:a,id:n,taxRate:r,initialValues:r?{id:n,mode:a,name:r.name,rate:r.rate}:{}}},{})(a=Object(j.q)({form:"tax",immutableProps:["taxRate"],onSubmit:function(e){var{mode:t}=e,n=l()(e,["mode"]);return t===P.a.EDIT?Object(v.q)(n):Object(v.d)(n)}})((o=r=class extends p.PureComponent{constructor(e){super(e),c()(this,"handleCancel",()=>{Object(E.b)(A.O)});var{mode:t,taxRate:n}=e;t===P.a.EDIT&&!n&&Object(E.f)(A.O)}render(){var{isMatch:e,mode:t,submit:n,submitting:a}=this.props,r=t===P.a.EDIT,o=Object(y.c)(q());return m.a.createElement(N.i,null,m.a.createElement(N.g,{onClose:this.handleCancel,subheader:e&&o},r?Object(y.c)(D()):Object(y.c)(L())),m.a.createElement(N.c,{noPadding:e,className:k.a.content},!e&&m.a.createElement(S.a,{forceShow:!0},o),m.a.createElement(O.d,{type:"plain popup-form bottom-space",flex:e?"column":"row"},m.a.createElement(T.s,{noEditError:!0,validate:z,name:"name",label:G,className:k.a.leftColumn}),m.a.createElement(T.a,{validate:_,currencySymbol:"%",name:"rate",label:U,noEditError:!0,precision:3,className:k.a.rightColumn}))),m.a.createElement(N.e,null,m.a.createElement(C.f,{isPending:a,onAction:n,"data-qa":"save-tax-button"},Object(y.c)(M()))))}},c()(r,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({isMatch:f.a.bool.isRequired,mode:f.a.oneOf(Object.values(P.a)),taxRate:f.a.object},j.Q)),a=o))||a)||a)||a},"Ix++":function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var a,r,o,i=n("lSNA"),c=n.n(i),s=n("q1tI"),l=n.n(s),u=n("17x9"),d=n.n(u),p=n("PhEd"),m=n("/MKj"),b=n("Jje6"),f=n("Qs7Y"),h=n("+Krm"),g=n("3wSE"),E=n("dhJQ"),y=n("9wjN"),v=n("nbpM"),O=n("pxbq"),j=n.n(O),T=Object(E.g)()(a=Object(m.b)(e=>({isReshedulEnabled:v.a.isReshedulEnabled(e)}))((o=r=class extends s.PureComponent{render(){var{header:e,subheader:t,goBackText:n,handleBack:a,isReshedulEnabled:r}=this.props;return l.a.createElement(b.b,{className:j.a.self},l.a.createElement(b.b,{className:j.a.linkContainer},!Object(y.f)()&&n&&(r?l.a.createElement(p.Text,{type:"fresha-caption"},l.a.createElement(p.Link,{onAction:a,className:j.a.link,inheritFont:!0},l.a.createElement(h.a,{name:"arrow-left",size:"tiny",className:j.a.icon}),n)):l.a.createElement(g.n,{onAction:a,className:j.a.link},l.a.createElement(h.a,{name:"arrow-left",size:"tiny",className:j.a.icon}),n))),r?l.a.createElement(p.Text,{type:"fresha-h2",className:j.a.title},e):l.a.createElement(f.d,{type:"landingTitle",className:j.a.title},e),r?l.a.createElement(p.Text,{type:"fresha-caption",color:"gray50"},t):l.a.createElement(f.d,{type:"body1"},t))}},c()(r,"propTypes",{header:d.a.node,subheader:d.a.node,goBackText:d.a.string,handleBack:d.a.func,isReshedulEnabled:d.a.bool}),a=o))||a)||a},Qhey:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var a,r,o,i=n("VkAN"),c=n.n(i),s=n("lSNA"),l=n.n(s),u=n("q1tI"),d=n.n(u),p=n("17x9"),m=n.n(p),b=n("/MKj"),f=n("5ZU+"),h=n("XOD0"),g=n("ePPS"),E=n("Qs7Y"),y=n("ZO1O"),v=n("3wSE"),O=n("/Q2I"),j=n("dhJQ"),T=n("+hsN"),S=n("cE5c");function x(){var e=c()(["Apply"]);return x=function(){return e},e}function C(){var e=c()(["Apply Default Taxes To All"]);return C=function(){return e},e}function N(){var e=c()(["and"]);return N=function(){return e},e}function w(){var e=c()(["Are you sure?"]);return w=function(){return e},e}function A(){var e=c()(["Default taxes applied"]);return A=function(){return e},e}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var I=Object(j.g)()(a=Object(b.b)((e,t)=>function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(S.b)(t)),{})((o=r=class extends u.PureComponent{constructor(...e){super(...e),l()(this,"handleApply",()=>f.a.applyDefaultTaxRates().then(()=>{f.a.addGlobalSuccessToast(Object(g.c)(A())),Object(h.b)(T.O)}).catch(()=>f.a.addErrorToast())),l()(this,"handleCancel",()=>{Object(h.b)(T.O)})}render(){var{affectedProductsCount:e,affectedServicesCount:t,isMatch:n}=this.props,a=e||t?Object(g.c)("Are you sure? You have %{products}%{and}%{services} without default taxes,\n                        this action will update their settings to apply default taxes instead",{products:e?d.a.createElement(E.d,{key:"products",as:"span",type:"body-1",weight:E.c.BOLD},Object(g.g)("%{affectedProductsCount} Product","%{affectedProductsCount} Products",e,{affectedProductsCount:e})):"",and:t&&e?" ".concat(Object(g.c)(N())," "):"",services:t?d.a.createElement(E.d,{key:"services",as:"span",type:"body-1",weight:E.c.BOLD},Object(g.g)("%{affectedServicesCount} Service","%{affectedServicesCount} Services",t,{affectedServicesCount:t})):""}):Object(g.c)(w());return d.a.createElement(O.i,{size:"small"},d.a.createElement(O.g,{onClose:this.handleCancel,subheader:n&&a},Object(g.c)(C())),d.a.createElement(O.c,{onlyBottomPadding:!0},d.a.createElement(y.d,{type:"plain"},d.a.createElement(E.d,{type:"body-1"},!n&&a))),d.a.createElement(O.e,null,d.a.createElement(v.f,{basis:"100%",withPending:!0,onAction:this.handleApply,"data-qa":"apply-to-all-button"},Object(g.c)(x()))))}},l()(r,"propTypes",{affectedProductsCount:m.a.number,affectedServicesCount:m.a.number,isMatch:m.a.bool}),a=o))||a)||a},RBzI:function(e,t,n){"use strict";n.d(t,"a",(function(){return ee}));var a,r,o,i=n("lSNA"),c=n.n(i),s=n("QILm"),l=n.n(s),u=n("VkAN"),d=n.n(u),p=n("WjpJ"),m=n.n(p),b=n("xweI"),f=n.n(b),h=n("wig9"),g=n.n(h),E=n("q1tI"),y=n.n(E),v=n("17x9"),O=n.n(v),j=n("/MKj"),T=n("cm9/"),S=n("nbpM"),x=n("XOD0"),C=n("ePPS"),N=n("ZO1O"),w=n("Jje6"),A=n("kZhr"),P=n("uZ2f"),I=n("tPh7"),k=n("dhJQ"),R=n("3wSE"),M=n("/Q2I"),L=n("cE5c"),D=n("+hsN"),q=n("6Lyp"),B=n("CpoK"),F=n.n(B);function G(){var e=d()(["Save"]);return G=function(){return e},e}function U(){var e=d()(["New Tax Group"]);return U=function(){return e},e}function _(){var e=d()(["Edit Tax Group"]);return _=function(){return e},e}function z(){var e=d()(["Combine multiple taxes into a group, each tax still shows individually\n            on invoices and reports. To apply this group to your products and services,\n             adjust your tax default settings."]);return z=function(){return e},e}function V(){var e=d()(["Select another tax"]);return V=function(){return e},e}function Q(){var e=d()(["Select another tax (optional)"]);return Q=function(){return e},e}function Y(){var e=d()(["Select tax"]);return Y=function(){return e},e}function H(){var e=d()(["Tax rate is required"]);return H=function(){return e},e}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(){var e=d()(["Tax group name"]);return K=function(){return e},e}var Z=Object(C.c)(K()),X=[A.kb.required(Z),A.kb.minLength(1,Z),A.kb.maxLength(100)];var $=Object(C.c)(H());var ee=Object(k.g)()(a=Object(j.b)((e,t)=>{var n=Object(L.c)(t),a=Object(L.f)(t),r=S.a.getTaxRate(e,n),o=f()(S.a.getSingleTaxRatesList(e),"name"),i=r?{id:n,mode:a,name:r.name,taxRates:r.taxRates.map(({id:e})=>e).concat(Array(Math.min(3-r.taxRates.length,o.length-r.taxRates.length))).fill("",r.taxRates.length,3)}:{taxRates:m()(Math.min(o.length,3)).map(()=>"")};return{mode:a,id:n,taxGroup:r,singleTaxRatesList:o,initialValues:i}},{})(a=Object(A.q)({form:"taxGroup",immutableProps:["taxGroup","singleTaxRatesList"],onSubmit:function(e){var{mode:t}=e,n=l()(e,["mode"]),a=t===q.a.EDIT,r=J(J({},n),{},{taxRates:g()(n.taxRates)});return a?Object(T.p)(r):Object(T.c)(r)},validate:function(e){var t={taxRates:[]},n=g()(e.taxRates);return 0===n.length&&(t.taxRates[0]=$,t.taxRates[1]=$),1===n.length&&(t.taxRates[e.taxRates.indexOf("")]=$),t}})((o=r=class extends E.PureComponent{constructor(e){super(e),c()(this,"handleCancel",()=>{Object(x.b)(D.O)}),c()(this,"renderTaxSelects",({fields:e})=>{var{singleTaxRatesList:t,isMatch:n}=this.props,a=g()(e.getAll()),r=e.map((r,o)=>{var i,c=e.get(o),s=t.filter(({id:e})=>e===c||!a.includes(e)).map(({id:e,name:t,rate:n})=>y.a.createElement("option",{value:e,key:e},t," (",n,"%)"));return i=0===o&&0===a.length?Object(C.c)(Y()):2===a.length?Object(C.c)(Q()):Object(C.c)(V()),y.a.createElement(P.r,{key:r,name:r,resetButton:!0,label:n&&c||!n?Object(C.c)("Tax %{number}",{number:n?a.indexOf(c)+1:o+1}):void 0,invalidValueLabel:i,className:F.a.field},s)});return y.a.createElement(w.b,null,r)});var{mode:t,taxGroup:n}=e;t===q.a.EDIT&&!n&&Object(x.f)(D.O)}render(){var{isMatch:e,mode:t,submit:n,submitting:a}=this.props,r=t===q.a.EDIT,o=Object(C.c)(z());return y.a.createElement(M.i,null,y.a.createElement(M.g,{onClose:this.handleCancel,subheader:e&&o},r?Object(C.c)(_()):Object(C.c)(U())),y.a.createElement(M.c,{noPadding:e},!e&&y.a.createElement(I.a,{forceShow:!0},o),y.a.createElement(N.d,{type:"plain popup-form bottom-space",className:F.a.contentCard},y.a.createElement(P.s,{noEditError:!0,validate:X,name:"name",label:Z,className:F.a.field}),y.a.createElement(A.o,{name:"taxRates",component:this.renderTaxSelects}))),y.a.createElement(M.e,null,y.a.createElement(R.f,{isPending:a,onAction:n,"data-qa":"save-tax-group-button"},Object(C.c)(G()))))}},c()(r,"propTypes",J({isMatch:O.a.bool.isRequired,mode:O.a.oneOf(Object.values(q.a)),taxGroup:O.a.object,singleTaxRatesList:O.a.arrayOf(O.a.object)},A.Q)),a=o))||a)||a)||a},TtEy:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var a,r,o,i=n("pVnL"),c=n.n(i),s=n("QILm"),l=n.n(s),u=n("lSNA"),d=n.n(u),p=n("q1tI"),m=n.n(p),b=n("17x9"),f=n.n(b),h=n("TSYQ"),g=n.n(h),E=n("PhEd"),y=n("/MKj"),v=n("Jje6"),O=n("I+E4"),j=n("L8xJ"),T=n("aAma"),S=n("3wSE"),x=n("/Q2I"),C=n("dhJQ"),N=n("XOuL"),w=n("nbpM"),A=n("Kl+5"),P=n.n(A),I=Object(C.g)()(a=Object(y.b)(e=>({isReshedulEnabled:w.a.isReshedulEnabled(e)}))((o=r=class extends p.PureComponent{render(){var e=this.props,{title:t,textAbove:n,children:a,backLink:r,backAction:o,closeLink:i,closeAction:s,isMatch:u,withEntryAnimation:d,loading:p,standardModalColors:b,footer:f,scrollableContainerRef:h,shouldCoverModalPortal:y,containerSize:C,isReshedulEnabled:w,containerType:A,className:I,footerClassName:k}=e,R=l()(e,["title","textAbove","children","backLink","backAction","closeLink","closeAction","isMatch","withEntryAnimation","loading","standardModalColors","footer","scrollableContainerRef","shouldCoverModalPortal","containerSize","isReshedulEnabled","containerType","className","footerClassName"]),M=o?{onAction:o}:{linkTo:r},L=s?{onAction:s}:{linkTo:i},D=m.a.createElement(O.a,c()({flex:"column"},R,{className:g()(P.a.self,{[P.a.shouldCoverModalPortal]:y,[P.a.standardModalColors]:b},I)}),m.a.createElement(j.b,{selfRef:h},m.a.createElement(v.b,{flex:"row",justifyContent:"space-between",className:P.a.header},m.a.createElement(S.l,c()({qaSuffix:"back",className:g()({[P.a.hidden]:!r&&!o}),name:"fresha-arrow-left",size:"big"},M)),m.a.createElement(S.l,c()({qaSuffix:"close",name:"fresha-close"},L,{size:"standard"}))),m.a.createElement(T.b,{className:P.a.container,flex:"column",shrink:0,type:A},n&&(w?m.a.createElement(E.Text,{type:"fresha-caption",qaType:"above-title-text",className:P.a.textAbove,color:"gray100"},n):m.a.createElement(v.b,{qaType:"above-title-text",className:P.a.textAbove},n)),w?m.a.createElement(E.Text,{qaType:"fullscreen-view-title",type:"fresha-temporary-28",className:P.a.title,color:"gray100"},t):m.a.createElement(v.b,{qaType:"fullscreen-view-title",className:P.a.title},t),p?m.a.createElement(N.a,{static:!0}):a)),f&&m.a.createElement(v.b,{className:g()(P.a.footer,k),flex:"row",shrink:0,justifyContent:"flex-end"},f));return u&&d?m.a.createElement(x.d,null,D):D}},d()(r,"propTypes",{title:f.a.string,textAbove:f.a.string,backLink:f.a.string,backAction:f.a.func,closeLink:f.a.string,closeAction:f.a.func,isMatch:f.a.bool,withEntryAnimation:f.a.bool,children:f.a.node,loading:f.a.bool,standardModalColors:f.a.bool,shouldCoverModalPortal:f.a.bool,footer:f.a.node,scrollableContainerRef:f.a.func,containerSize:f.a.oneOf(Object.values({LARGE:"large",MEDIUM:"medium"})),className:f.a.string,footerClassName:f.a.string,containerType:f.a.string,isReshedulEnabled:f.a.bool}),a=o))||a)||a},UhKs:function(e,t,n){"use strict";n.d(t,"b",(function(){return ye})),n.d(t,"a",(function(){return E.a}));var a,r,o,i=n("pVnL"),c=n.n(i),s=n("lSNA"),l=n.n(s),u=n("q1tI"),d=n.n(u),p=n("17x9"),m=n.n(p),b=n("vfnK"),f=n("dhJQ"),h=n("XOuL"),g=n("Jje6"),E=n("z141"),y=n.p+"45c28d158ca2685e057b94fc8b01f235.png",v=n.p+"6e1b98306d46f37d6e40ae1cccb4c1ed.png",O=n.p+"cd274ed6c8e53db4fb0e4f25e5693d82.png",j=n.p+"3aa24113d864c35259497de35cd258a6.png",T=n.p+"7aa76bcd6855efdc38cdb930e9f5392f.png",S=n.p+"f44092f2910352b365e8075229fddba5.png",x=n.p+"b834dec7542895e5ef1adbe0d9f59b1b.png",C=n.p+"de9a7c9c880d03460619bef6004ce81e.png",N=n.p+"289801400464cabf485344ca1cbd2a18.png",w=n.p+"d04aa30aa49793fd3320621f7798a149.png",A=n.p+"a9f5e6172c743712fafc346d3a057d89.png",P=n.p+"a959f9c521c56edc2bd6f657842d1bf9.png",I=n.p+"76422e34f273ae55a467a39cc6e18683.png",k=n.p+"9682db0ce2605ab22f6037f69349a33b.png",R=n.p+"798a126fccfa94834fa3c463966351fe.png",M=n("QILm"),L=n.n(M),D=n("TSYQ"),q=n.n(D),B=n("L8xJ"),F=n("510Z"),G=n("Qs7Y"),U=n("Mt89"),_=n.n(U),z=Object(f.g)()((o=r=class extends u.PureComponent{constructor(...e){super(...e),l()(this,"onScroll",({scrollTop:e,scrollHeight:t})=>{var n=this.imgForeground.current,a=this.imgBackground.current;if(n){var{inverted:r,invertedAnimation:o,switchAnimationLayer:i}=this.props,c=this.containerRef.current,{top:s,height:l}=c.getBoundingClientRect(),u=(e+t/2-(s+l/2))/l;if(u>=-1.3&&u<=1.3){var d=40*u*(r?1:-1)*(o?-1:1);(i?a:n).style.transform="translateX(".concat(parseInt(d,10),"px)")}}}),l()(this,"getImages",()=>{var{isMatch:e,card:t}=this.props;return[].concat(t[e?"imgMobileSrc":"imgSrc"])}),l()(this,"containerRef",d.a.createRef()),l()(this,"imgForeground",d.a.createRef()),l()(this,"imgBackground",d.a.createRef())}componentDidMount(){this.context.registerScrollListener(this.onScroll)}componentWillUnmount(){this.context.unRegisterScrollListener(this.onScroll)}render(){var e=this.props,{card:{title:t,description:n},inverted:a,isMatch:r,switchAnimationLayer:o,invertedAnimation:i}=e,s=L()(e,["card","inverted","isMatch","switchAnimationLayer","invertedAnimation"]),[l,u]=this.getImages();return d.a.createElement(g.b,c()({className:_.a.self,selfRef:this.containerRef},s),d.a.createElement(g.b,{className:q()(_.a.contentWrapper,{[_.a.inverted]:a})},d.a.createElement(g.b,{className:_.a.textSection},d.a.createElement(G.d,{className:_.a.title},t),d.a.createElement(G.d,{className:_.a.description},n)),d.a.createElement(g.b,{className:_.a.imgContainer},d.a.createElement(F.a,{src:l,className:_.a.imgBackground,selfRef:this.imgBackground}),!r&&u&&d.a.createElement(F.a,{src:u,className:_.a.imgForeground,selfRef:this.imgForeground}))))}},l()(r,"contextType",B.a),l()(r,"propTypes",{card:m.a.shape({imgSrc:m.a.oneOfType([m.a.string,m.a.arrayOf(m.a.string)]),imgMobileSrc:m.a.string,title:m.a.string,description:m.a.oneOfType([m.a.string,m.a.array,m.a.node])}),inverted:m.a.bool,invertedAnimation:m.a.bool,isMatch:m.a.bool,switchAnimationLayer:m.a.bool}),a=o))||a,V=n("VkAN"),Q=n.n(V),Y=n("ePPS"),H=n("rWNv"),W=n.n(H);function J(){var e=Q()(["Plus"]);return J=function(){return e},e}function K(){var e=Q()(["Soon on"]);return K=function(){return e},e}class Z extends u.PureComponent{render(){var e=this.props,{className:t,isComingSoon:n}=e,a=L()(e,["className","isComingSoon"]);return d.a.createElement(g.b,c()({className:q()(W.a.self,t)},a),Object(Y.c)("%{soon} Fresha %{plus}",{soon:n?Object(Y.c)(K()):"",plus:d.a.createElement(g.b,{key:"plus",className:W.a.plus,as:"span"},Object(Y.c)(J()))}))}}l()(Z,"propTypes",{className:m.a.string,isComingSoon:m.a.bool});var X=n("uk/U"),$=n.n(X),ee=n("hHaU");class te extends u.PureComponent{render(){var e=this.props,{header:t,description:n,onAction:a,type:r,isComingSoon:o,isComingSoonButton:i}=e,s=L()(e,["header","description","onAction","type","isComingSoon","isComingSoonButton"]);return d.a.createElement(g.b,c()({className:q()($.a.self,$.a[r])},s),d.a.createElement(g.b,{className:$.a.contentWrapper},d.a.createElement(g.b,{className:$.a.textContent},d.a.createElement(Z,{isComingSoon:o&&r!==E.a.FRESHA_PLUS,className:$.a.freshaPlusLogo}),d.a.createElement(g.b,{className:$.a.header},t),d.a.createElement(g.b,{className:$.a.description},n),d.a.createElement(ee.a,{isComingSoon:o||i,onAction:a,type:r,qaType:"overview-top-button"})),d.a.createElement(g.b,{className:q()($.a.photo,$.a[r],{[$.a.isComingSoon]:o})})))}}l()(te,"propTypes",{header:m.a.string,description:m.a.oneOfType([m.a.string,m.a.object]),onAction:m.a.func,type:m.a.oneOf(Object.values(E.a)),isComingSoon:m.a.bool,isComingSoonButton:m.a.bool});var ne=n("Fz0S"),ae=n.n(ne);function re(){var e=Q()(["Take your business to the next level with powerful booking features, automated marketing tools and integrated payment processing. Fresha Plus makes managing and maximizing your business so much easier – so you have more time to do what you do best"]);return re=function(){return e},e}function oe(){var e=Q()(["Elevate your business to its full potential"]);return oe=function(){return e},e}function ie(){var e=Q()(["Gather your clients details and store them securely on their client profile with our fully customisable consultation forms."]);return ie=function(){return e},e}function ce(){var e=Q()(["Consultation forms"]);return ce=function(){return e},e}function se(){var e=Q()(["Set yourself up for success with powerful booking features, automated marketing tools and integrated payment processing. Free yourself to do what you do best"]);return se=function(){return e},e}function le(){var e=Q()(["Take your business to the next level"]);return le=function(){return e},e}function ue(){var e=Q()(["Join our waiting list for a Fresha card terminal"]);return ue=function(){return e},e}function de(){var e=Q()(["Secure card processing no extra cost"]);return de=function(){return e},e}class pe extends u.PureComponent{render(){var e,t,n=this.props,{onAction:a,isComingSoon:r,isComingSoonButton:o,type:i}=n,s=L()(n,["onAction","isComingSoon","isComingSoonButton","type"]);switch(i){case E.a.CARD_TERMINALS:e=Object(Y.c)(de()),t=Object(Y.c)(ue());break;case E.a.FRESHA_PAY:e=Object(Y.c)(le()),t=Object(Y.c)(se());break;case E.a.CONSULTATION_FORMS:e=Object(Y.c)(ce()),t=Object(Y.c)(ie());break;default:e=Object(Y.c)(oe()),t=Object(Y.c)(re())}return d.a.createElement(g.b,c()({className:ae.a.self},s),d.a.createElement(g.b,{className:ae.a.wrapper},d.a.createElement(Z,{isComingSoon:r&&i!==E.a.FRESHA_PLUS,className:ae.a.freshaPlusLogo}),d.a.createElement(g.b,{className:ae.a.header},e),d.a.createElement(g.b,{className:ae.a.description},t),d.a.createElement(ee.a,{isComingSoon:r||o,className:ae.a.button,onAction:a,type:i,qaType:"overview-footer-button"})))}}l()(pe,"propTypes",{onAction:m.a.func,isComingSoon:m.a.bool,isComingSoonButton:m.a.bool,type:m.a.oneOf(Object.values(E.a))});var me,be,fe,he=n("GZOb"),ge=n.n(he),Ee={[E.a.FRESHA_PLUS]:{MOBILE:y,DESKTOP:v},[E.a.FRESHA_PAY]:{MOBILE:O,DESKTOP:j},[E.a.CARD_TERMINALS]:{MOBILE:k,DESKTOP:I},[E.a.FRESHA_PAY+"COMING_SOON"]:{MOBILE:T,DESKTOP:S},[E.a.MARKETING]:{MOBILE:x,DESKTOP:C},[E.a.MARKETING+"COMING_SOON"]:{MOBILE:N,DESKTOP:w},[E.a.ONLINE_BOOKING]:{MOBILE:A,DESKTOP:P},[E.a.CONSULTATION_FORMS+"COMING_SOON"]:{MOBILE:R,DESKTOP:w}},ye=Object(f.g)()((fe=be=class extends u.PureComponent{constructor(...e){super(...e),l()(this,"state",{loading:!0})}isLoading(){return this.props.loading||this.state.loading}componentDidMount(){var{type:e,isMatch:t,isComingSoon:n}=this.props,a=n&&e!==E.a.FRESHA_PLUS?"".concat(e).concat("COMING_SOON"):e,r=t?Ee[a].MOBILE:Ee[a].DESKTOP,o=new Image;o.onload=()=>{this.setState({loading:!1})},o.src=r}render(){var{topSectionProps:e,cards:t,onAction:n,isComingSoon:a,isComingSoonButton:r,type:o,children:i}=this.props;return d.a.createElement(g.b,{className:ge.a.self},this.isLoading()?d.a.createElement(h.a,{type:"color-gray-2",static:!0}):d.a.createElement(d.a.Fragment,null,d.a.createElement(b.a,{hideFreshaPlusInactive:!0}),i,d.a.createElement(te,c()({},e,{onAction:n,isComingSoon:a,isComingSoonButton:r,type:o})),t.map((e,t)=>d.a.createElement(z,{key:e.title,card:e,inverted:t%2==0,invertedAnimation:!!e.invertedAnimation,switchAnimationLayer:!!e.switchAnimationLayer})),d.a.createElement(pe,{onAction:n,isComingSoon:a,isComingSoonButton:r,type:o})))}},l()(be,"propTypes",{topSectionProps:m.a.object,onAction:m.a.func,isComingSoon:m.a.bool,isComingSoonButton:m.a.bool,isMatch:m.a.bool,type:m.a.oneOf(Object.values(E.a)),cards:m.a.array,loading:m.a.bool,children:m.a.node}),me=fe))||me},cE5c:function(e,t,n){"use strict";n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return b}));var a=n("CxY0"),r=n("G4qV"),o=n("mwIZ"),i=n.n(o),c=n("nbpM"),s=n("rzmg"),l=e=>i()(e,"match.params.mode"),u=e=>i()(e,"match.params.id"),d=e=>i()(e,"match.params.locationId"),p=Object(r.a)(e=>Object(a.parse)(Object(a.format)(e.location),!0),e=>({affectedProductsCount:Number(e.query.products||0),affectedServicesCount:Number(e.query.services||0)})),m=Object(r.a)([c.a.getProvider,c.a.getProviderCommunicationLanguageCode,c.a.getProviderDefaultEmployeeLanguageCode],(e,t,n)=>{var{name:a,countryCode:r,currencyCode:o,timeZone:i,timeFormat:c,weekStart:l,website:u,facebookPage:d,instagramPage:p,appointmentColorSource:m}=e;return{name:a,countryCode:r,currencyCode:o,timeZone:i,timeFormat:c,weekStart:l,website:u,facebookPage:d,instagramPage:p,appointmentColorSource:m,communicationLanguageCode:t||s.a,employeeLanguageCode:n||s.b}}),b=Object(r.a)(c.a.getProvider,e=>{var{customInvoiceTitle:t,printReceipts:n,receiptMessage:a,saleCustomHeader1:r,saleCustomHeader2:o,saleShowCustomerInfo:i,saleShowCustomerAddress:c}=e;return{customInvoiceTitle:t,printReceipts:n,receiptMessage:a,saleCustomHeader1:r,saleCustomHeader2:o,saleShowCustomerInfo:i,saleShowCustomerAddress:c}})},"cm9/":function(e,t,n){"use strict";n.d(t,"m",(function(){return _})),n.d(t,"a",(function(){return z})),n.d(t,"f",(function(){return V})),n.d(t,"c",(function(){return Y})),n.d(t,"p",(function(){return H})),n.d(t,"d",(function(){return W})),n.d(t,"q",(function(){return J})),n.d(t,"i",(function(){return K})),n.d(t,"n",(function(){return Z})),n.d(t,"l",(function(){return X})),n.d(t,"j",(function(){return $})),n.d(t,"k",(function(){return ee})),n.d(t,"o",(function(){return ne})),n.d(t,"b",(function(){return ae})),n.d(t,"e",(function(){return re})),n.d(t,"h",(function(){return oe})),n.d(t,"g",(function(){return ie}));var a=n("9oTK"),r=n("QILm"),o=n.n(r),i=n("VkAN"),c=n.n(i),s=n("Q2AE"),l=n("5ZU+"),u=n("nbpM"),d=n("HTL0"),p=n("XOD0"),m=n("JY9u"),b=n("bUIN"),f=n("LyRY"),h=n("vAJ4"),g=n("zsI5"),E=n("ePPS"),y=n("kZhr"),v=n("unan"),O=n("6Ox+"),j=n("+hsN");function T(){var e=c()(["Discount has been deleted."]);return T=function(){return e},e}function S(){var e=c()(["Discount has been created."]);return S=function(){return e},e}function x(){var e=c()(["Discount has been updated."]);return x=function(){return e},e}function C(){var e=c()(["Discounts must have a unique name"]);return C=function(){return e},e}function N(){var e=c()(["Invoices & Receipts"]);return N=function(){return e},e}function w(){var e=c()(["Account settings"]);return w=function(){return e},e}function A(){var e=c()(["Tax"]);return A=function(){return e},e}function P(){var e=c()(["Tax"]);return P=function(){return e},e}function I(){var e=c()(["Tax group"]);return I=function(){return e},e}function k(){var e=c()(["Tax group"]);return k=function(){return e},e}function R(){var e=c()(["tax group"]);return R=function(){return e},e}function M(){var e=c()(["tax"]);return M=function(){return e},e}function L(){var e=c()(["Tax group"]);return L=function(){return e},e}function D(){var e=c()(["Tax"]);return D=function(){return e},e}var q="create",B="update";function F(e){var{cache:t}=e;t&&t.clear()}function G(){var e=s.a.getState(),{newBusinessTypeConfirmed:t}=u.a.getProvider(e)||{};return t?Object(a.resolve)():(F(l.a.readProvider),l.a.readProvider())}function U(){F(l.a.readLocationList),F(l.a.readLocationProfilesList),Object(g.h)(f.a.jsonApiType),Object(g.h)(b.b.jsonApiType)}function _(...e){return t=>v.i(...e)(t).then(()=>(U(),G()))}function z(...e){return t=>v.b(...e)(t).then(()=>(U(),G()))}function V(...e){return t=>v.c(...e)(t).then(e=>(U(),F(l.a.readEmployeeList),Object(g.h)(h.a.jsonApiType),O.b.remove(O.a.calendarSearch),l.a.resetCalendarModel(),e))}function Q(e,t,n){Object(y.ib)(e,{fields:[{code:"not-unique",jsonPointer:/\/name$/,message:Object(E.c)("%{taxType} should be unique",{taxType:t===m.a.SINGLE?Object(E.c)(D()):Object(E.c)(L())})}],globalMessage:Object(E.c)("Unable to %{actionType} %{taxType}, please try again later",{actionType:n,taxType:t===m.a.SINGLE?Object(E.c)(M()):Object(E.c)(R())})})}function Y(e){return l.a.createTaxGroup(d.a.taxGroupCreateRequest(e)).then(()=>{l.a.addCreatedToast(Object(E.c)(k())),Object(p.b)(j.O)}).catch(e=>Q(e,m.a.GROUP,q))}function H(e){return l.a.updateTaxGroup(e.id,d.a.taxGroupUpdateRequest(e)).then(()=>{l.a.addUpdatedToast(Object(E.c)(I())),Object(p.b)(j.O)}).catch(e=>Q(e,m.a.GROUP,B))}function W(e){return l.a.createTaxRate(d.a.taxRateCreateRequest(e)).then(()=>{l.a.addCreatedToast(Object(E.c)(P())),Object(p.b)(j.O)}).catch(e=>Q(e,m.a.SINGLE,q))}function J(e){return l.a.updateTaxRate(e.id,d.a.taxRateUpdateRequest(e)).then(t=>{l.a.addUpdatedToast(Object(E.c)(A())),t.body.data.id!==e.id&&l.a.deleteTaxRateFromORM(e.id),Object(p.b)(j.O)}).catch(e=>Q(e,m.a.SINGLE,B))}function K(){return l.a.readItemsWithoutDefaultTax().then(e=>{var{body:{data:{attributes:t}}}=e;return t})}function Z(e){return l.a.updateProviderAccountSettings(d.a.accountSettingsUpdateRequest(e)).then(()=>{l.a.addUpdatedToast(Object(E.c)(w()))}).catch(()=>{l.a.addErrorToast()})}function X(e){return l.a.patchProviderInvoiceSettings(d.a.invoiceSettingsFromForm(e)).then(()=>{l.a.addUpdatedToast(Object(E.c)(N()))}).catch(()=>{l.a.addErrorToast()})}function $(){return l.a.readProvider.cache.clear(),l.a.readProvider()}function ee(e){var{id:t}=e,n=o()(e,["id"]);return l.a.patchInvoiceSequence(t,d.a.invoiceSequenceUpdateRequest(n))}function te(e){Object(y.ib)(e,{fields:[{code:"already-exists",jsonPointer:/\/data\/attributes\/name$/,message:Object(E.c)(C())}]})}function ne(e){return l.a.updateDiscount(e.id,d.a.systemDiscountUpdateRequest(e)).then(()=>{l.a.addGlobalSuccessToast(Object(E.c)(x())),Object(p.b)(j.h)}).catch(te)}function ae(e){return l.a.createDiscount(d.a.systemDiscountCreateRequest(e)).then(()=>{l.a.addGlobalSuccessToast(Object(E.c)(S())),Object(p.b)(j.h)}).catch(te)}function re(e){return l.a.deleteDiscount(e).then(()=>{l.a.addGlobalSuccessToast(Object(E.c)(T())),l.a.deleteDiscountModel(e),Object(p.b)(j.h)}).catch(()=>{l.a.addErrorToast()})}function oe(){return Object(a.all)([l.a.readFreshaLocationProfilesList(),l.a.readLocationList().then(()=>{var e=u.a.getExistingLocationList(s.a.getState()).map(e=>e.id);return l.a.readLocationAvatarsList({locationIds:e})})])}function ie(e){return Object(a.all)([l.a.readFreshaLocationProfilesList(),l.a.readLocation(e),l.a.readBusinessTypesList()]).catch(e=>{if(404===e.status)return Object(p.f)(j.r);throw e})}},e64n:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Pe}));var a,r,o,i=n("pVnL"),c=n.n(i),s=n("lSNA"),l=n.n(s),u=n("VkAN"),d=n.n(u),p=n("q1tI"),m=n.n(p),b=n("17x9"),f=n.n(b),h=n("/MKj"),g=n("Ty5D"),E=n("TSYQ"),y=n.n(E),v=n("PhEd"),O=n("ePPS"),j=n("5ZU+"),T=n("nbpM"),S=n("XOD0"),x=n("uopA"),C=n("Jje6"),N=n("Qs7Y"),w=n("aAma"),A=n("3wSE"),P=n("L8xJ"),I=n("eTjC"),k=n("dhJQ"),R=n("TSDZ"),M=n("MoLQ"),L=n("Ix++"),D=n("6kH+"),q=n("qGVk"),B=n("i6OX"),F=n("SFs4"),G=n("4FHX"),U=n("h3xf"),_=n("+hsN"),z=n("cm9/"),V=n("u33m"),Q=n("6Lyp"),Y=n("GjOE"),H=n("r+ji"),W=n("RBzI"),J=n("9ArU"),K=n("k3j+"),Z=n("Qhey"),X=n("FYHr"),$=n("/jRY"),ee=n.n($);function te(){var e=d()(["Add New"]);return te=function(){return e},e}function ne(){var e=d()(["Back to Setup"]);return ne=function(){return e},e}function ae(){var e=d()(["Change this setting"]);return ae=function(){return e},e}function re(){var e=d()(["excluding taxes"]);return re=function(){return e},e}function oe(){var e=d()(["including taxes"]);return oe=function(){return e},e}function ie(){var e=d()(["Tax Calculation"]);return ie=function(){return e},e}function ce(){var e=d()(["Apply defaults"]);return ce=function(){return e},e}function se(){var e=d()(["Apply defaults"]);return se=function(){return e},e}function le(){var e=d()(["Setup the default taxes for your business, you can still override defaults in the\n              settings of individual products and services"]);return le=function(){return e},e}function ue(){var e=d()(["Setup the default taxes for your business, you can still override defaults in the\n              settings of individual products and services"]);return ue=function(){return e},e}function de(){var e=d()(["Tax Defaults"]);return de=function(){return e},e}function pe(){var e=d()(["Tax Defaults"]);return pe=function(){return e},e}function me(){var e=d()(["Apply defaults to all items"]);return me=function(){return e},e}function be(){var e=d()(["Setup the default taxes for your business, you can still override defaults in the\n              settings of individual products and services"]);return be=function(){return e},e}function fe(){var e=d()(["Tax Defaults"]);return fe=function(){return e},e}function he(){var e=d()(["Tax Rates"]);return he=function(){return e},e}function ge(){var e=d()(["Tax Rates"]);return ge=function(){return e},e}function Ee(){var e=d()(["Add Tax"]);return Ee=function(){return e},e}function ye(){var e=d()(["Add Tax"]);return ye=function(){return e},e}function ve(){var e=d()(["Add your tax rates and use groups for multiple taxes, for example combining city and state taxes"]);return ve=function(){return e},e}function Oe(){var e=d()(["Tax Rates"]);return Oe=function(){return e},e}function je(){var e=d()(["Tax Rates"]);return je=function(){return e},e}function Te(){var e=d()(["Tax Rates"]);return Te=function(){return e},e}function Se(){var e=d()(["New tax group"]);return Se=function(){return e},e}function xe(){var e=d()(["New tax"]);return xe=function(){return e},e}function Ce(){var e=d()(["All products and services have their default taxes set up at the moment"]);return Ce=function(){return e},e}function Ne(){var e=d()(["Add your tax rates and use groups for multiple taxes, for example combining city\n    and state taxes"]);return Ne=function(){return e},e}function we(){var e=d()(["Taxes"]);return we=function(){return e},e}var Ae={header:Object(O.c)(we()),subheader:Object(O.c)(Ne())},Pe=Object(k.g)()(a=Object(h.b)(e=>({taxes:T.a.getTaxRatesList(e),singleTaxRatesList:T.a.getSingleTaxRatesList(e),locations:T.a.getExistingLocationList(e),pricesIncludeTax:T.a.getProvider(e).pricesIncludeTax,isReshedulEnabled:T.a.isReshedulEnabled(e)}))((o=r=class extends p.PureComponent{constructor(...t){super(...t),l()(this,"state",{loading:!0,isFetchingApplyConflicts:!1,error:null}),l()(this,"handleNewTax",()=>{Object(S.c)(_.nb(Q.a.ADD))}),l()(this,"handleNewTaxGroup",()=>{var{singleTaxRatesList:e}=this.props;e.length<2?j.a.addGlobalInfoToast("There must be at least 2 taxes defined to create a group"):Object(S.c)(_.mb(Q.a.ADD))}),l()(this,"handleEditTax",e=>{Object(S.c)(_.nb(Q.a.EDIT,e))}),l()(this,"handleEditGroup",e=>{Object(S.c)(_.mb(Q.a.EDIT,e))}),l()(this,"handleDeleteTax",e=>{Object(S.c)(_.X(e))}),l()(this,"handleDeleteGroup",e=>{Object(S.c)(_.W(e))}),l()(this,"applyDefaultsToAll",()=>{this.setState({isFetchingApplyConflicts:!0},()=>{Object(z.i)().then(e=>{e.productsCount>0||e.servicesCount>0?Object(S.c)(_.U(e.productsCount,e.servicesCount)):j.a.addGlobalSuccessToast(Object(O.c)(Ce()))}).catch(()=>j.a.addErrorToast()).finally(()=>{this.setState({isFetchingApplyConflicts:!1})})})}),l()(this,"handleTaxDefaultClick",e=>{this.props.taxes.length&&Object(S.c)(_.ab(e))}),l()(this,"retryFetch",()=>{e.location.reload(!0)}),l()(this,"openEditTaxCalculationModal",()=>{Object(S.c)(_.m)}),l()(this,"menuActions",[{tooltip:Object(O.c)(xe()),onAction:this.handleNewTax,content:m.a.createElement(B.b,{name:"package-fab"})},{tooltip:Object(O.c)(Se()),onAction:this.handleNewTaxGroup,content:m.a.createElement(B.b,{name:"package-fab"})}])}componentDidMount(){this.fetchData()}fetchData(){j.a.bulk([j.a.readTaxRateList,j.a.readLocationList]).then(()=>{this.setState({loading:!1})}).catch(e=>{this.setState({loading:!1,error:e})})}renderContent(){var{taxes:e,locations:t,pricesIncludeTax:n,isMatch:a,isReshedulEnabled:r}=this.props,{isFetchingApplyConflicts:o}=this.state;return m.a.createElement(C.b,{className:ee.a.self},0===e.length?m.a.createElement(m.a.Fragment,null,a?m.a.createElement(D.b,{label:Object(O.c)(Te())}):r?m.a.createElement(v.Text,{className:y()(ee.a.wrapper,ee.a.firstWrapper),type:"fresha-h3",color:"gray100"},Object(O.c)(je())):m.a.createElement(N.d,{className:y()(ee.a.wrapper,ee.a.firstWrapper),type:"group-title"},Object(O.c)(Oe())),m.a.createElement(C.b,{flex:"column",alignContent:"center",className:a?ee.a.wrapper:ee.a.placeholder},m.a.createElement(x.a,{icon:"no-tax",iconColor:"original",text:Object(O.c)(ve()),paddingTop:0,paddingBottom:0}),r?m.a.createElement(v.Button,{variant:"primary",onAction:this.handleNewTax,"data-qa":"add-tax-button",className:ee.a.button},Object(O.c)(ye())):m.a.createElement(A.f,{marginTop:24,marginLeft:a?0:"auto",marginRight:a?0:"auto",onAction:this.handleNewTax,"data-qa":"add-tax-button"},Object(O.c)(Ee())))):m.a.createElement(C.b,{flex:"column"},a?m.a.createElement(D.b,{label:Object(O.c)(ge())}):m.a.createElement(N.d,{className:y()(ee.a.wrapper,ee.a.firstWrapper),type:"group-title"},Object(O.c)(he())),m.a.createElement(U.a,{taxes:e,handleEditTax:this.handleEditTax,handleEditGroup:this.handleEditGroup,handleDeleteTax:this.handleDeleteTax,handleDeleteGroup:this.handleDeleteGroup})),m.a.createElement(C.b,{flex:"column"},a?m.a.createElement(D.b,{label:Object(O.c)(fe()),sublabel:Object(O.c)(be()),suffix:m.a.createElement(R.f,{icon:R.f.ICON.OPTIONS,isPending:o,qaType:"tax-defaults-menu",align:"right",noPadding:!0},m.a.createElement(R.c,{onAction:this.applyDefaultsToAll,"data-qa":"apply-default-to-all"},Object(O.c)(me())))}):m.a.createElement(C.b,{flex:"row",className:ee.a.wrapper,justifyContent:"space-between",alignItems:"center"},m.a.createElement(C.b,{flex:"column",basis:"60%"},m.a.createElement(C.b,{className:ee.a.taxTitle},r?m.a.createElement(v.Text,{type:"fresha-h3",color:"gray100"},Object(O.c)(pe())):m.a.createElement(N.d,{type:"group-title"},Object(O.c)(de()))),r?m.a.createElement(v.Text,{type:"fresha-caption",color:"gray50"},Object(O.c)(ue())):m.a.createElement(N.d,{type:"body-1"},Object(O.c)(le()))),r?m.a.createElement(v.Button,{variant:"secondary",qaType:"tax-defaults-menu",isPending:o,onAction:this.applyDefaultsToAll,"data-qa":"apply-default-to-all"},Object(O.c)(se())):m.a.createElement(A.a,{qaType:"tax-defaults-menu",isPending:o,onAction:this.applyDefaultsToAll,"data-qa":"apply-default-to-all"},Object(O.c)(ce()))),m.a.createElement(G.a,{locations:t,taxes:e,handleTaxDefaultClick:this.handleTaxDefaultClick})),m.a.createElement(F.b,{title:Object(O.c)(ie()),type:"typeInfo",description:Object(O.c)("Your retail prices are %{taxes}. %{link}",{taxes:n?Object(O.c)(oe()):Object(O.c)(re()),link:m.a.createElement(A.n,{inheritFontSize:!0,linkTo:_.m,qaType:"change-tax-calculation-link"},Object(O.c)(ae()))}),className:ee.a.note,icon:"info-circle"}),m.a.createElement(g.d,null,m.a.createElement(g.b,{path:_.g,exact:!0,component:H.a}),m.a.createElement(g.b,{path:_.f,exact:!0,component:J.a}),m.a.createElement(g.b,{path:_.P,component:W.a}),m.a.createElement(g.b,{path:_.Q,component:Y.a}),m.a.createElement(g.b,{path:_.l,exact:!0,component:K.a}),m.a.createElement(g.b,{path:_.b,exact:!0,component:Z.a}),m.a.createElement(g.b,{path:_.m,exact:!0,component:X.a})))}render(){var{error:e,loading:t}=this.state,{isMatch:n}=this.props,a=e||t?m.a.createElement(C.b,{flex:"column",justifyContent:"center",grow:1},m.a.createElement(I.a,{error:e,retry:this.retryFetch})):this.renderContent();return m.a.createElement(V.c,null,n?m.a.createElement(M.a,c()({},Ae,{headerPrimaryAction:m.a.createElement(A.c,{onAction:_.bb,size:"large"}),noBottomPadding:!0}),m.a.createElement(q.b,{actions:this.menuActions,inModal:!0}),a):m.a.createElement(P.b,{color:"gray-2"},m.a.createElement(w.b,{grow:1,shrink:0,type:"plain"},m.a.createElement(C.b,{flex:"row",justifyContent:"space-between",alignItems:"center"},m.a.createElement(L.a,c()({},Ae,{goBackText:Object(O.c)(ne()),handleBack:_.bb})),m.a.createElement(R.g,{as:A.f,label:Object(O.c)(te()),"data-qa":"add-new-dropdown"},this.menuActions.map(({id:e,onAction:t,tooltip:n,qaType:a})=>m.a.createElement(R.c,{key:e,onAction:t,qaType:a},n)))),a)))}},l()(r,"propTypes",{taxes:f.a.arrayOf(f.a.object).isRequired,locations:f.a.arrayOf(f.a.object).isRequired,singleTaxRatesList:f.a.arrayOf(f.a.object).isRequired,history:f.a.object,pricesIncludeTax:f.a.bool,isMatch:f.a.bool,isReshedulEnabled:f.a.bool}),a=o))||a)||a}).call(this,n("yLpj"))},eMT7:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="newLocation"},h3xf:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a,r,o,i=n("lSNA"),c=n.n(i),s=n("q1tI"),l=n.n(s),u=n("17x9"),d=n.n(u),p=n("JY9u"),m=n("Jje6"),b=n("dhJQ"),f=n("7QJG"),h=n("65GF"),g=n.n(h),E=Object(b.g)()((o=r=class extends s.PureComponent{render(){var{taxes:e,isMatch:t,handleEditTax:n,handleEditGroup:a,handleDeleteTax:r,handleDeleteGroup:o}=this.props;return l.a.createElement(m.b,{className:t?void 0:g.a.self},e.map(({id:e,name:t,taxRates:i,taxType:c})=>l.a.createElement(f.a,{title:t,className:g.a.item,subtitle:i.map(e=>"".concat(e.rate,"%")).join(", "),handleEdit:()=>{c===p.a.SINGLE?n(e):a(e)},onAction:()=>{c===p.a.SINGLE?n(e):a(e)},titleQaType:"tax-rate-name",handleDelete:()=>{c===p.a.SINGLE?r(e):o(e)},key:e})))}},c()(r,"propTypes",{taxes:d.a.arrayOf(d.a.object).isRequired,isMatch:d.a.bool,handleEditTax:d.a.func,handleEditGroup:d.a.func,handleDeleteTax:d.a.func,handleDeleteGroup:d.a.func}),a=o))||a},hHaU:function(e,t,n){"use strict";n.d(t,"a",(function(){return q}));var a,r,o,i=n("lSNA"),c=n.n(i),s=n("VkAN"),l=n.n(s),u=n("q1tI"),d=n.n(u),p=n("17x9"),m=n.n(p),b=n("TSYQ"),f=n.n(b),h=n("PhEd"),g=n("/MKj"),E=n("kWUZ"),y=n("ePPS"),v=n("nbpM"),O=n("dhJQ"),j=n("swAa"),T=n("3wSE"),S=n("Efg3"),x=n.n(S),C=n("z141");function N(){var e=l()(["Start now"]);return N=function(){return e},e}function w(){var e=l()(["Register interest"]);return w=function(){return e},e}function A(){var e=l()(["Start now"]);return A=function(){return e},e}function P(){var e=l()(["Register interest"]);return P=function(){return e},e}function I(){var e=l()(["Interested in Consultation Forms"]);return I=function(){return e},e}function k(){var e=l()(["Interested in Card Terminal"]);return k=function(){return e},e}function R(){var e=l()(["Interested in Fresha Plus"]);return R=function(){return e},e}function M(){var e=l()(["Interested in Fresha Pay"]);return M=function(){return e},e}function L(){var e=l()(["Interested in Marketing"]);return L=function(){return e},e}var D={[C.a.MARKETING]:Object(y.c)(L()),[C.a.FRESHA_PAY]:Object(y.c)(M()),[C.a.FRESHA_PLUS]:Object(y.c)(R()),[C.a.CARD_TERMINALS]:Object(y.c)(k()),[C.a.CONSULTATION_FORMS]:Object(y.c)(I())},q=Object(O.g)("isMobile")(a=Object(g.b)(e=>({isReshedulEnabled:v.a.isReshedulEnabled(e),isCreditsEnabled:v.a.isCreditsEnabled(e),isRewardApplicable:v.a.isRewardApplicable(e,j.a.FIRST_ONLINE_PROFILE_PUBLICATION),formattedRewardAmount:v.a.formattedRewardAmount(e,j.a.FIRST_ONLINE_PROFILE_PUBLICATION)}))((o=r=class extends u.PureComponent{render(){var{isComingSoon:e,onAction:t,className:n,type:a,qaType:r,isReshedulEnabled:o,isMobile:i,isCreditsEnabled:c,formattedRewardAmount:s,isRewardApplicable:l,staticSize:u}=this.props,p=i||u?void 0:"large";return o?e?d.a.createElement(h.Button,{linkTo:"mailto:".concat(E.c,"?subject=").concat(encodeURI(D[a])),className:f()(x.a.self,n),qaType:r,variant:"primary",size:p},Object(y.c)(P())):d.a.createElement(h.Button,{className:f()(x.a.self,n),onAction:t,qaType:r,variant:"primary",size:p},c&&l?Object(y.c)("Start now and get %{amount}",{amount:s}):Object(y.c)(A())):e?d.a.createElement(T.j,{linkTo:"mailto:".concat(E.c,"?subject=").concat(encodeURI(D[a])),className:f()(x.a.self,n),qaType:r},Object(y.c)(w())):d.a.createElement(T.k,{className:f()(x.a.self,n),onAction:t,qaType:r},Object(y.c)(N()))}},c()(r,"propTypes",{isComingSoon:m.a.bool,isReshedulEnabled:m.a.bool,onAction:m.a.func,className:m.a.string,qaType:m.a.string,type:m.a.oneOf(Object.values(C.a)),isMobile:m.a.bool,staticSize:m.a.bool,isCreditsEnabled:m.a.bool,formattedRewardAmount:m.a.string,isRewardApplicable:m.a.bool}),a=o))||a)||a},"k3j+":function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var a,r,o,i=n("lSNA"),c=n.n(i),s=n("VkAN"),l=n.n(s),u=n("q1tI"),d=n.n(u),p=n("17x9"),m=n.n(p),b=n("/MKj"),f=n("HTL0"),h=n("5ZU+"),g=n("nbpM"),E=n("XOD0"),y=n("LyRY"),v=n("ePPS"),O=n("1EZC"),j=n("ZO1O"),T=n("3wSE"),S=n("tPh7"),x=n("dhJQ"),C=n("kZhr"),N=n("uZ2f"),w=n("/Q2I"),A=n("+hsN"),P=n("cE5c");function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(){var e=l()(["Save"]);return R=function(){return e},e}function M(){var e=l()(["Services Default Tax"]);return M=function(){return e},e}function L(){var e=l()(["Products Default Tax"]);return L=function(){return e},e}function D(){var e=l()(["Once saved, changes will automatically apply to all products and services which are\n            already assigned to default taxes"]);return D=function(){return e},e}function q(){var e=l()(["Edit Tax Defaults"]);return q=function(){return e},e}function B(){var e=l()(["No tax"]);return B=function(){return e},e}function F(){var e=l()(["Tax default"]);return F=function(){return e},e}var G=Object(x.g)()(a=Object(b.b)((e,t)=>{var n=Object(P.e)(t),a=g.a.getLocation(e,n);return{location:a,taxRates:g.a.getTaxRatesList(e),initialValues:{locationId:n,defaultProductTaxRate:a.defaultProductTaxRate?a.defaultProductTaxRate.id:null,defaultServiceTaxRate:a.defaultServiceTaxRate?a.defaultServiceTaxRate.id:null}}})(a=Object(C.q)({form:"edit-location-taxes-form",immutableProps:["location","taxRates"],onSubmit:function(e){return h.a.patchLocationDefaultTaxRate(e.locationId,f.a.locationDefaultTaxRateUpdateRequest({defaultProductTaxRate:e.defaultProductTaxRate||null,defaultServiceTaxRate:e.defaultServiceTaxRate||null})).then(()=>{h.a.addUpdatedToast(Object(v.c)(F()))}).catch(()=>{h.a.addGlobalErrorToast()}).finally(()=>{Object(E.b)(A.O)})}})((o=r=class extends u.PureComponent{constructor(...e){super(...e),c()(this,"handleCancel",()=>{Object(E.b)(A.O)})}renderSelect(e,t){var{taxRates:n}=this.props;return d.a.createElement(N.r,{name:e,emptyLabelValue:null,label:t},d.a.createElement("option",{key:"no-tax",value:""},Object(v.c)(B())),n.map(e=>d.a.createElement("option",{key:e.id,value:e.id},Object(O.b)(e))))}render(){var{isMatch:e,location:t,submitting:n,submit:a}=this.props;return d.a.createElement(w.i,null,d.a.createElement(w.g,{subheader:t.name,onClose:this.handleCancel,subheaderCollapsible:!0,noBottomPadding:!0},Object(v.c)(q())),d.a.createElement(w.c,{noPadding:e},d.a.createElement(S.a,{forceShow:!0,noTopPadding:e},Object(v.c)(D())),d.a.createElement(j.d,{type:"plain popup-form"},this.renderSelect("defaultProductTaxRate",Object(v.c)(L())),this.renderSelect("defaultServiceTaxRate",Object(v.c)(M())))),d.a.createElement(w.e,null,d.a.createElement(T.f,{isPending:n,onAction:a,"data-qa":"edit-location-taxes-save-button"},Object(v.c)(R()))))}},c()(r,"propTypes",k(k({},C.Q),{},{isMatch:m.a.bool.isRequired,location:m.a.shape(y.a.propTypes),taxRates:m.a.arrayOf(m.a.object).isRequired})),a=o))||a)||a)||a},mfLu:function(e,t,n){"use strict";n.d(t,"a",(function(){return Le}));var a,r,o,i=n("QILm"),c=n.n(i),s=n("lSNA"),l=n.n(s),u=n("VkAN"),d=n.n(u),p=n("q1tI"),m=n.n(p),b=n("/MKj"),f=n("17x9"),h=n.n(f),g=n("2ta/"),E=n("61cg"),y=n("IUW6"),v=n("w++u"),O=n("ePPS"),j=n("UhKs"),T=n("3wSE"),S=n("nbpM"),x=n("89Lc"),C=n("XOD0"),N=n("X67z"),w=n("/pl8"),A=n("kWUZ"),P=n("Jje6"),I=n.p+"25ef24bbbcc27cca57522b7a9e8a7800.png",k=n.p+"5dedba1e36520183144ab60b453f2800.png",R=n.p+"680ad8a70888fc93a7b79b0851f0984e.png",M=n.p+"7eea73e71b4671b63646db12597ae364.png",L=n.p+"438f21f52af3ce3c593284b675eaad76.png",D=n.p+"8753f2b9417f0f51b579bcec2f34666a.png",q=n.p+"eb857535bcd2d2521af5e717e1917713.png",B=n.p+"1f1da7caa883a71d9ad705cac699f3e6.png",F=n.p+"adb0dd0210dbc87f23d5a8d607b01e6e.png",G=n.p+"7f38bb2c00171a639f36cac138daac14.png",U=n.p+"f40a4bc6b41f8083a5e05ed6d8deb51f.png",_=n.p+"531479a26d83cad5b2f04e47d3e51dd1.png",z=n.p+"d4997b697af52493304d92cc1f7e60fe.png",V=n.p+"d23e33f27c3622e343fcad1ea4a78afd.png",Q=n.p+"57e62bdccdffd8c5da5e3445a517aa14.png",Y=n.p+"1cd048003309becd5894e901a0ba7048.png",H=n.p+"9fbd4e9b4bdb63d32b200dee08f5b884.png",W=n.p+"5f25a738e73dc5698d76bb4c6240f1b0.png",J=n.p+"9ff4ddca7a849db32351c6448d7ec802.png",K=n.p+"20849c7305cc492b125807b39c103f2f.png",Z=n.p+"294819a65fa7d808f632d790493dc7e0.png",X=n.p+"6271b9d1a42bac776a1e247220ea4aea.png",$=n.p+"33d61520ce7afd7a58fc3e7db7053dea.png",ee=n.p+"8007835502c280da37fb2e8cbca1de4d.png",te=n.p+"8067ec07fa705dce3a69b5a848221e34.png",ne=n.p+"21e1750f873c08b7d0ed556676d9ad23.png",ae=n.p+"723f2bcd26a1660f4757fb8ec1fd1030.png",re=n.p+"af533b4e18ca7fe8efb8aefc1fa7d426.png",oe=n.p+"0a58eeaed0ed157e4fda092ff00db93d.png",ie=n.p+"14f14f5752b84195fb040dc22f2bd01e.png",ce=n.p+"03f6083e8fc9d840b95dd1d2bf9900ac.png",se=n.p+"10acdf4df0dad51e0b1bc5864643d2d3.png",le=n.p+"07a5321f4e63717d33fe366e8cc21ccc.png",ue=n.p+"6bd3bff739f0418db82afeb23c460128.png",de=n.p+"d813cc85e9b4baef8149323e65b8dd32.png",pe=n.p+"75d885749891854612aa9e644e74f460.png",me=n.p+"310abd7ca95eea6cee647fd9db0d721b.png",be=n.p+"988e6a3d1f7982ff15cd2f11ae8b92b3.png",fe=n.p+"35d449f5b26cda8c7cf1eef5ba2b3cbb.png",he=n.p+"ae1c349ef4828a8abc9f4be606fa3238.png",ge=n("s5rH");function Ee(){var e=d()(["Get access to powerful online booking features used by millions of customers. List your business on Fresha marketplace and mobile app, attract new clients, drive more bookings and supercharge your growth with integrated marketing tools"]);return Ee=function(){return e},e}function ye(){var e=d()(["Elevate your business to its full potential"]);return ye=function(){return e},e}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(){var e=d()(["Automated SMS text reminders"]);return je=function(){return e},e}function Te(){var e=d()(["Attract quality new clients"]);return Te=function(){return e},e}function Se(){var e=d()(["Integrated payment processing"]);return Se=function(){return e},e}function xe(){var e=d()(["Send smart marketing offers"]);return xe=function(){return e},e}function Ce(){var e=d()(["Advanced no-show protection"]);return Ce=function(){return e},e}function Ne(){var e=d()(["Fresha card terminals"]);return Ne=function(){return e},e}function we(){var e=d()(["Join the world’s largest beauty network that sends millions of clients to salons and spas every month"]);return we=function(){return e},e}function Ae(){var e=d()(["Effortless online booking"]);return Ae=function(){return e},e}var Pe={ONLINE_BOOKING:{imgSrc:[I,k],imgMobileSrc:R,title:Object(O.c)(Ae()),description:m.a.createElement(m.a.Fragment,null,m.a.createElement(P.b,{marginBottom:16},Object(O.c)(we())),m.a.createElement(P.b,null,Object(O.f)("Create a business profile and be discovered 24/7 on Fresha marketplace, Instagram, Facebook, Google and your own website. Free up your time and focus on what you do best. <a>Learn More</a>",null,{a:e=>m.a.createElement(T.n,{key:"learn-more",inheritFontSize:!0,linkTo:g.o},e)})))},TERMINALS:{imgSrc:[de,le],imgMobileSrc:ue,title:Object(O.c)(Ne()),switchAnimationLayer:!0,description:Object(O.f)("With a Fresha card terminal, you can securely save client payment details, take payments and collect tips at no extra cost. There's no monthly rental and all processing charges are covered by the standard Fresha Plus transaction fees. <a>Learn More</a>",null,{a:e=>m.a.createElement(T.n,{inheritFontSize:!0,linkTo:E.a},e)}),test:({doesUseCheckout:e})=>!e},NO_SHOW:{imgSrcLeft:[M,L],imgSrcRight:[q,B],imgMobileSrc:G,title:Object(O.c)(Ce()),description:Object(O.f)("Say goodbye to no-shows and late cancellations with remote charging of penalty fees. Take back control of your calendar with enforceable booking policies, without the hassle of upfront deposits. <a>Learn More</a>",null,{a:e=>m.a.createElement(T.n,{inheritFontSize:!0,linkTo:E.o},e)})},MARKETING:{imgSrcLeft:[Q,Y],imgSrcRight:[_,z],imgMobileSrc:W,title:Object(O.c)(xe()),description:Object(O.f)("Boost sales and fill your calendar with a suite of intelligent marketing tools. Retain and reward clients using smart targeting and personalized offers for birthdays, lapsing clients and more. <a>Learn More</a>",null,{a:e=>m.a.createElement(T.n,{inheritFontSize:!0,linkTo:y.s},e)}),invertedAnimation:!0},PAYMENTS:{imgSrcLeft:[K,Z],imgSrcRight:[$,ee],imgMobileSrc:ae,title:Object(O.c)(Se()),description:Object(O.f)("Securely save client payment details to Fresha for effortless in-app payment – all processing charges are included in your Fresha Plus transaction fees. Automatically receive daily payouts direct to your bank account. <a>Learn More</a>",null,{a:e=>m.a.createElement(T.n,{inheritFontSize:!0,linkTo:E.o},e)})},CLIENTS:{imgSrcLeft:[ie,ce],imgSrcRight:[re,oe],imgMobileSrc:se,title:Object(O.c)(Te()),description:Object(O.f)("Reach thousands of new clients who visit Fresha every day. Rank higher in online searches and sharpen your marketing with integrated conversion tracking for Google and Facebook. <a>Learn More</a>",null,{a:e=>m.a.createElement(T.n,{inheritFontSize:!0,linkTo:g.o},e)})},SMS:{imgSrcLeft:[pe,me],imgSrcRight:[be,fe],imgMobileSrc:he,title:Object(O.c)(je()),description:Object(O.f)("Reduce no-shows by reminding clients of their upcoming appointments. Send unlimited automated SMS text messages direct from our platform. <a>Learn More</a>",null,{a:e=>m.a.createElement(T.n,{inheritFontSize:!0,linkTo:v.a},e)}),test:({smsEnabled:e})=>e}},Ie=[Pe.ONLINE_BOOKING,Oe(Oe({},Pe.MARKETING),{},{imgSrcLeft:[Q,H],imgSrcRight:[_,V],imgMobileSrc:J}),Pe.CLIENTS,Pe.SMS],ke=[Pe.ONLINE_BOOKING,Pe.TERMINALS,Oe(Oe({},Pe.NO_SHOW),{},{imgSrcLeft:[M,D],imgSrcRight:[q,F],imgMobileSrc:U}),Oe(Oe({},Pe.MARKETING),{},{imgSrcLeft:[Q,H],imgSrcRight:[_,V],imgMobileSrc:J}),Oe(Oe({},Pe.PAYMENTS),{},{imgSrcLeft:[K,X],imgSrcRight:[$,te],imgMobileSrc:ne}),Pe.CLIENTS,Pe.SMS],Re={[A.d.NO_PAYMENTS]:Ie,[A.d.PAYMENTS_COMING_SOON]:ke,[A.d.PAYMENTS_ENABLED]:Object.values(Pe)},Me={header:Object(O.c)(ye()),description:Object(O.c)(Ee())},Le=Object(b.b)(e=>({smsEnabled:S.a.smsEnabledForProvider(e),doesUseCheckout:S.a.doesUseCheckout(e),isComingSoon:!S.a.isFreshaSettingPaymentsEnabled(e)&&S.a.getPublishedLocationProfilesCheck(e),canEditBillingInfo:S.a.getCurrentPermissions(e)[N.a.EDIT_BILLING_INFO],freshaSetting:S.a.getFreshaSetting(e)}))((o=r=class extends p.PureComponent{constructor(...e){super(...e),l()(this,"handleAction",()=>{var{canEditBillingInfo:e}=this.props;Object(x.c)(Object(w.c)(e,()=>Object(C.c)(ge.a)))})}getCards(){var{freshaSetting:e,smsEnabled:t,doesUseCheckout:n}=this.props;return Re[e].filter(e=>!e.test||e.test({smsEnabled:t,doesUseCheckout:n})).map((e,t)=>{var{imgSrcLeft:n,imgSrcRight:a,imgSrc:r}=e;return Oe(Oe({},c()(e,["imgSrcLeft","imgSrcRight","imgSrc"])),{},{imgSrc:r||(t%2==0?n:a)})})}render(){var{isComingSoon:e}=this.props;return m.a.createElement(j.b,{onAction:this.handleAction,topSectionProps:Me,cards:this.getCards(),type:j.a.FRESHA_PLUS,isComingSoon:e})}},l()(r,"propTypes",{smsEnabled:h.a.bool,doesUseCheckout:h.a.bool,isComingSoon:h.a.bool,canEditBillingInfo:h.a.bool,freshaSetting:h.a.oneOf(Object.values(A.d))}),a=o))||a},ntXB:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Gp}));var a,r,o,i=n("pVnL"),c=n.n(i),s=n("VkAN"),l=n.n(s),u=n("lSNA"),d=n.n(u),p=n("q1tI"),m=n.n(p),b=n("Ty5D"),f=n("17x9"),h=n.n(f),g=n("ePPS"),E=n("8TPp"),y=n("/pl8"),v=n("+hsN"),O=n("rzmg"),j=n("/MKj"),T=n("PhEd"),S=n("L8xJ"),x=n("aAma"),C=n("Ix++"),N=n("dhJQ"),w=n("3wSE"),A=n("MoLQ"),P=n("cm9/"),I=n("5ZU+"),k=n("nbpM"),R=n("cE5c"),M=n("uZ2f"),L=n("Qs7Y"),D=n("Jje6"),q=n("CB0i"),B=n("SFs4"),F=n("i6OX"),G=n("kZhr"),U=n("g+MP"),_=n("V/N5"),z=n("kWUZ"),V=n("72uX"),Q=n.n(V);function Y(){var e=l()(["Add your company website and social media links for sharing with clients"]);return Y=function(){return e},e}function H(){var e=l()(["Online Links"]);return H=function(){return e},e}function W(){var e=l()(["New Staff will see Fresha in this language but they can override this in their personal user settings."]);return W=function(){return e},e}function J(){var e=l()(["Choose the default language for appointment notification messages sent to your clients. Per-client language preferences can also be set within the settings for each client."]);return J=function(){return e},e}function K(){var e=l()(["Language Settings"]);return K=function(){return e},e}function Z(){var e=l()(["Choose the time zone and format which suit your business. Daylight savings changes will automatically apply based on your selected time zone"]);return Z=function(){return e},e}function X(){var e=l()(["Time and Calendar Settings"]);return X=function(){return e},e}function $(){var e=l()(["contact our support team"]);return $=function(){return e},e}function ee(){var e=l()(["Your business name is displayed across many areas including on your online booking profile, sales invoices and messages to clients"]);return ee=function(){return e},e}function te(){var e=l()(["Business Info"]);return te=function(){return e},e}function ne(){var e=l()(["24 hours (e.g. 21:00)"]);return ne=function(){return e},e}function ae(){var e=l()(["12 hours (e.g. 9:00pm)"]);return ae=function(){return e},e}function re(){var e=l()(["Saturday"]);return re=function(){return e},e}function oe(){var e=l()(["Friday"]);return oe=function(){return e},e}function ie(){var e=l()(["Thursday"]);return ie=function(){return e},e}function ce(){var e=l()(["Wednesday"]);return ce=function(){return e},e}function se(){var e=l()(["Tuesday"]);return se=function(){return e},e}function le(){var e=l()(["Monday"]);return le=function(){return e},e}function ue(){var e=l()(["Sunday"]);return ue=function(){return e},e}function de(){var e=l()(["Default language for your staff"]);return de=function(){return e},e}function pe(){var e=l()(["Client notification language"]);return pe=function(){return e},e}function me(){var e=l()(["Instagram page"]);return me=function(){return e},e}function be(){var e=l()(["Facebook page"]);return be=function(){return e},e}function fe(){var e=l()(["Website"]);return fe=function(){return e},e}function he(){var e=l()(["Country code"]);return he=function(){return e},e}function ge(){var e=l()(["Week start"]);return ge=function(){return e},e}function Ee(){var e=l()(["Time format"]);return Ee=function(){return e},e}function ye(){var e=l()(["Time zone"]);return ye=function(){return e},e}function ve(){var e=l()(["Appointment color source"]);return ve=function(){return e},e}function Oe(){var e=l()(["Business name"]);return Oe=function(){return e},e}function je(){var e=l()(["Business name"]);return je=function(){return e},e}function Te(){var e=l()(["Status"]);return Te=function(){return e},e}function Se(){var e=l()(["Service group"]);return Se=function(){return e},e}function xe(){var e=l()(["Employee"]);return xe=function(){return e},e}function Ce(){var e=l()(["Invalid instagram page url"]);return Ce=function(){return e},e}function Ne(){var e=l()(["Invalid facebook page url"]);return Ne=function(){return e},e}var we,Ae,Pe,Ie=[{value:_.a.EMPLOYEE,label:Object(g.c)(xe())},{value:_.a.SERVICE_GROUP,label:Object(g.c)(Se())},{value:_.a.STATUS,label:Object(g.c)(Te())}],ke={NAME:{name:"name",label:Object(g.c)(je()),validate:G.kb.required(Object(g.c)(Oe())),className:Q.a.field},APPOINTMENT_COLOR_SOURCE:{name:"appointmentColorSource",label:Object(g.c)(ve()),className:Q.a.field},TIME_ZONE:{name:"timeZone",label:Object(g.c)(ye()),className:Q.a.field},TIME_FORMAT:{name:"timeFormat",label:Object(g.c)(Ee()),className:Q.a.field},WEEK_START:{name:"weekStart",label:Object(g.c)(ge()),className:Q.a.field},COUNTRY_CODE:{name:"countryCode",label:Object(g.c)(he()),className:Q.a.field},WEBSITE:{name:"website",label:Object(g.c)(fe()),placeholder:"www.yoursite.com",validate:G.kb.websiteUrl,noEditError:!0,className:Q.a.field},FACEBOOK_PAGE:{name:"facebookPage",label:Object(g.c)(be()),placeholder:"www.facebook.com/yoursite",validate:[G.kb.websiteUrl,e=>!e||e.toLowerCase().includes("facebook.com/")?void 0:Object(g.c)(Ne())],noEditError:!0,className:Q.a.field},INSTAGRAM_PAGE:{name:"instagramPage",label:Object(g.c)(me()),placeholder:"www.instagram.com/yoursite",validate:[G.kb.websiteUrl,e=>!e||e.toLowerCase().includes("instagram.com/")?void 0:Object(g.c)(Ce())],noEditError:!0,className:Q.a.field},COMMUNICATION_LANGUAGE:{name:"communicationLanguageCode",label:Object(g.c)(pe()),className:Q.a.field},DEFAULT_EMPLOYEE_LANGUAGE:{name:"employeeLanguageCode",label:Object(g.c)(de()),className:Q.a.field}},Re=[{value:"sunday",label:Object(g.c)(ue())},{value:"monday",label:Object(g.c)(le())},{value:"tuesday",label:Object(g.c)(se())},{value:"wednesday",label:Object(g.c)(ce())},{value:"thursday",label:Object(g.c)(ie())},{value:"friday",label:Object(g.c)(oe())},{value:"saturday",label:Object(g.c)(re())}],Me=[{value:"12h",label:Object(g.c)(ae())},{value:"24h",label:Object(g.c)(ne())}],Le=Object(N.g)()(a=Object(G.q)({form:"companyDetails",enableReinitialize:!0})((o=r=class extends p.PureComponent{constructor(...e){super(...e),d()(this,"clientNotificationsLanguageRef",e=>{if("undefined"!=typeof window&&e){var t=window.location.search;"language"===new URLSearchParams(t).get("scroll")&&e.scrollIntoView()}}),d()(this,"inputIcon",e=>{var{isMatch:t,reshedulEnabled:n}=this.props;return n?{prefix:e}:t?{suffix:e,inputClassName:Q.a.inputWithSuffix}:{prefix:e,prefixClassName:Q.a.prefix}})}render(){var{initialValues:{countryCode:e,currencyCode:t},isMatch:n}=this.props,a=Object(g.n)(),r=Object(g.o)(),o=U.a.filter(({value:t})=>t===e)[0].label;return m.a.createElement(D.b,{className:Q.a.self},m.a.createElement(q.a,{title:Object(g.c)(te()),subtitle:Object(g.c)(ee()),className:n&&Q.a.firstCard},m.a.createElement(M.s,ke.NAME),m.a.createElement(B.b,{description:Object(g.c)("Your country is set to %{countryName} with %{currencyCode} currency. To change these settings, please %{supportTeam}.",{countryName:m.a.createElement(L.d,{as:"span",type:"bold",qaType:"provider-country-name"},o),currencyCode:m.a.createElement(L.d,{as:"span",type:"bold",qaType:"provider-currency-code"},t),supportTeam:m.a.createElement(w.n,{linkTo:"".concat(z.c,"?subject=Update account settings"),inheritFontSize:!0,as:"span"},Object(g.c)($()))}),inForm:!0,className:Q.a.note})),m.a.createElement(q.a,{title:Object(g.c)(X()),subtitle:Object(g.c)(Z())},m.a.createElement(M.r,ke.TIME_ZONE,U.f.map(({value:e,label:t})=>m.a.createElement("option",{key:e,value:e},t))),m.a.createElement(M.r,ke.TIME_FORMAT,Me.map(({value:e,label:t})=>m.a.createElement("option",{key:e,value:e},t))),m.a.createElement(M.r,ke.WEEK_START,Re.map(({value:e,label:t})=>m.a.createElement("option",{key:e,value:e},t))),m.a.createElement(M.r,ke.APPOINTMENT_COLOR_SOURCE,Ie.map(({value:e,label:t})=>m.a.createElement("option",{key:e,value:e},t)))),(a||[]).length>1&&m.a.createElement("div",{ref:this.clientNotificationsLanguageRef},m.a.createElement(q.a,{title:Object(g.c)(K()),subtitle:Object(g.c)(J())},m.a.createElement(M.r,ke.COMMUNICATION_LANGUAGE,a.map(e=>{var{name:t,flag:n,id:a}=e;return m.a.createElement("option",{key:a,value:a},n," ",t," (",e.localName,")")})),r.length>1&&m.a.createElement(m.a.Fragment,null,m.a.createElement(M.r,ke.DEFAULT_EMPLOYEE_LANGUAGE,r.map(e=>{var{name:t,flag:n,id:a}=e;return m.a.createElement("option",{key:a,value:a},n," ",t," (",e.localName,")")})),m.a.createElement(B.b,{description:Object(g.c)(W()),inForm:!0,className:Q.a.note})))),m.a.createElement(q.a,{title:Object(g.c)(H()),subtitle:Object(g.c)(Y())},m.a.createElement(M.s,c()({className:Q.a.input,inputQaType:"website-url"},ke.WEBSITE,this.inputIcon(m.a.createElement(F.b,{name:"globe",color:"original"})))),m.a.createElement(M.s,c()({className:Q.a.input,inputQaType:"facebook-url"},ke.FACEBOOK_PAGE,this.inputIcon(m.a.createElement(F.b,{name:"facebook-solid",color:"gray-6"})))),m.a.createElement(M.s,c()({className:Q.a.input,inputQaType:"instagram-url"},ke.INSTAGRAM_PAGE,this.inputIcon(m.a.createElement(F.b,{name:"instagram",color:"gray-6"}))))))}},d()(r,"propTypes",{initialValues:h.a.object.isRequired,isMatch:h.a.bool,reshedulEnabled:h.a.bool}),a=o))||a)||a,De=n("u33m"),qe=n("RyR7"),Be=n.n(qe);function Fe(){var e=l()(["Back to Setup"]);return Fe=function(){return e},e}function Ge(){var e=l()(["Save"]);return Ge=function(){return e},e}function Ue(){var e=l()(["Save"]);return Ue=function(){return e},e}function _e(){var e=l()(["Manage settings such as your business name and time zone"]);return _e=function(){return e},e}function ze(){var e=l()(["Account Settings"]);return ze=function(){return e},e}var Ve={header:Object(g.c)(ze()),subheader:Object(g.c)(_e())},Qe=Object(N.g)()(we=Object(j.b)(e=>({settings:Object(R.a)(e),reshedulEnabled:k.a.isReshedulEnabled(e)}),{submitForm:()=>Object(G.hb)("companyDetails")})((Pe=Ae=class extends p.PureComponent{constructor(...e){super(...e),d()(this,"state",{submitting:!1}),d()(this,"handleSubmit",e=>{this.setState({submitting:!0},()=>{Object(P.n)(e).finally(()=>{this.setState({submitting:!1})})})})}componentDidMount(){Object(P.j)(),I.a.readProviderLanguagesConfiguration()}render(){var{submitting:e}=this.state,{isMatch:t,reshedulEnabled:n}=this.props,a=n?m.a.createElement(T.Button,{variant:"primary",qaType:"account-settings-form-submit",onAction:this.props.submitForm,className:Be.a.button,isPending:e},Object(g.c)(Ue())):m.a.createElement(w.f,{qaType:"account-settings-form-submit",onAction:this.props.submitForm,alignSelf:"flex-end",isPending:e},Object(g.c)(Ge())),r=m.a.createElement(Le,{initialValues:this.props.settings,onSubmit:this.handleSubmit,reshedulEnabled:n});return m.a.createElement(De.a,null,t?m.a.createElement(A.a,c()({},Ve,{headerPrimaryAction:m.a.createElement(w.c,{onAction:v.bb,size:"large"}),footer:a}),r):m.a.createElement(S.b,{color:"gray-2"},m.a.createElement(x.b,{grow:1,shrink:0,type:"plain",className:Be.a.scrollableContent},m.a.createElement(C.a,c()({},Ve,{goBackText:Object(g.c)(Fe()),handleBack:v.bb})),r,a)))}},d()(Ae,"propTypes",{settings:h.a.object.isRequired,isMatch:h.a.bool,submitForm:h.a.func,reshedulEnabled:h.a.bool}),we=Pe))||we)||we,Ye=n("ytS3");class He extends p.PureComponent{render(){return m.a.createElement(De.a,null,m.a.createElement(D.b,{flex:"column",grow:1},m.a.createElement(Ye.a,{url:"/resources"})))}}class We extends p.PureComponent{render(){return m.a.createElement(D.b,{flex:"column",grow:1},m.a.createElement(Ye.a,{url:"/provider/online_booking"}))}}var Je=n("xQJa");class Ke extends p.PureComponent{render(){return m.a.createElement(Je.a,null,m.a.createElement(D.b,{flex:"column",grow:1},m.a.createElement(Ye.a,{url:"/payment_methods"})))}}var Ze,Xe,$e,et=n("XOD0"),tt=n("TSYQ"),nt=n.n(tt),at=n("E2hG"),rt=n("qGVk"),ot=n("cB10"),it=n("uopA"),ct=n("yk2N"),st=n("7QJG"),lt=n("6uIx"),ut=n.n(lt);function dt(){var e=l()(["Add Discount"]);return dt=function(){return e},e}function pt(){var e=l()(["You do not have any discounts yet, create new discount to apply it on checkout"]);return pt=function(){return e},e}function mt(){var e=l()(["No discount"]);return mt=function(){return e},e}function bt(){var e=l()(["New Discount Type"]);return bt=function(){return e},e}var ft,ht,gt,Et=(e,t)=>Object(g.c)("%{amount} %{currency} off",{amount:e,currency:t}),yt=Object(N.g)()(Ze=Object(j.b)(e=>({discounts:k.a.getDiscountList(e),currencyCode:k.a.getProvider(e).currencyCode}))(($e=Xe=class extends p.PureComponent{constructor(...e){super(...e),d()(this,"handleEdit",e=>{Object(et.c)(v.Z(e))}),d()(this,"handleDelete",e=>{Object(et.c)(v.Y(e))}),d()(this,"handleNew",()=>{Object(et.c)(v.k)}),d()(this,"menuActions",[{id:"new-discount",tooltip:Object(g.c)(bt()),onAction:this.handleNew,content:m.a.createElement(F.b,{name:"plus"})}])}render(){var{discounts:e,isMatch:t,currencyCode:n}=this.props;return m.a.createElement(ot.a,{makeApiCalls:I.a.readDiscountList},m.a.createElement(D.b,{qaType:"discount-list-container",className:nt()(ut.a.self,!t&&ut.a.deskstopList)},0===e.length?m.a.createElement(m.a.Fragment,null,m.a.createElement(D.b,{qaType:"discount-placeholder",flex:"column",alignContent:"center",className:t?ut.a.wrapper:ut.a.placeholderContainer},m.a.createElement(it.a,{name:Object(g.c)(mt()),className:ut.a.placeholder,icon:"discount-placeholder",text:Object(g.c)(pt())}),m.a.createElement(w.f,{className:ut.a.placeholderButton,onAction:this.handleNew,qaType:"add-discount-button"},Object(g.c)(dt())))):e.map(({id:e,name:a,createdAt:r,type:o,value:i})=>{return m.a.createElement(st.a,{title:a,className:ut.a.item,key:e,titleQaType:"discount-item-header",subtitle:m.a.createElement(D.b,{className:t?ut.a.mobileSubtitle:ut.a.subtitle},m.a.createElement(L.d,{qaType:"discount-subtitle",className:t?ut.a.mobileText:ut.a.text},Object(g.c)("Value: %{discountAmount}",{discountAmount:o===at.a.PERCENTAGE?(c=i,Object(g.c)("%{amount}%",{amount:c})):Et(i,n)})),!t&&m.a.createElement(D.b,null," ・ "),m.a.createElement(L.d,{className:t?ut.a.mobileText:ut.a.text},Object(g.c)("Added: %{dateAdded}",{dateAdded:Object(ct.d)(r,"date")}))),handleEdit:()=>{this.handleEdit(e)},handleDelete:()=>{this.handleDelete(e)},onAction:()=>{this.handleEdit(e)}});var c}),e.length>0&&m.a.createElement(rt.a,{actions:this.menuActions,hideOnDesktop:!0,inModal:!0})))}},d()(Xe,"propTypes",{discounts:h.a.arrayOf(h.a.object).isRequired,isMatch:h.a.bool,currencyCode:h.a.string}),Ze=$e))||Ze)||Ze,vt=n("/Q2I"),Ot=n("JZM8"),jt=n.n(Ot),Tt=n("Ciiq"),St=n("caVs"),xt=n.n(St);function Ct(){var e=l()(["Discount needs to be enabled for at least one type of sales item"]);return Ct=function(){return e},e}function Nt(){var e=l()(["Enable for voucher sales"]);return Nt=function(){return e},e}function wt(){var e=l()(["Enable for product sales"]);return wt=function(){return e},e}function At(){var e=l()(["Enable for service sales"]);return At=function(){return e},e}function Pt(){var e=l()(["Type"]);return Pt=function(){return e},e}function It(){var e=l()(["Discount value"]);return It=function(){return e},e}function kt(){var e=l()(["Discount name"]);return kt=function(){return e},e}function Rt(){var e=l()(["e.g. Senior Citizens"]);return Rt=function(){return e},e}function Mt(){var e=l()(["Discount name"]);return Mt=function(){return e},e}var Lt=Object(G.R)("discount-type-edit"),Dt={NAME:{name:"name",label:Object(g.c)(Mt()),placeholder:Object(g.c)(Rt()),validate:G.kb.required(Object(g.c)(kt())),className:xt.a.nameField},VALUE:{name:"value",label:Object(g.c)(It()),validate:function(e,t){var n=t.type===at.a.PERCENTAGE;return(n?e>0&&e<=100:e>0&&e<=at.b)?void 0:Object(g.c)("Discount value must be higher than 0 and equal or lower than %{maxAmount}",{maxAmount:n?100:at.b})},className:xt.a.valueField},TYPE:{name:"type",validate:G.kb.required(Object(g.c)(Pt())),wrapperClassName:xt.a.radioGroupWrapper},ENABLED_FOR_SERVICE:{name:"enabledForServices",label:Object(g.c)(At()),validate:qt,className:xt.a.fullWidthField},ENABLED_FOR_PRODUCT:{name:"enabledForProducts",label:Object(g.c)(wt()),validate:qt,className:xt.a.fullWidthField},ENABLED_FOR_VOUCHER:{name:"enabledForVouchers",label:Object(g.c)(Nt()),validate:qt,className:xt.a.fullWidthField}};function qt(e,t){return Object.values(jt()(t,[Dt.ENABLED_FOR_SERVICE.name,Dt.ENABLED_FOR_PRODUCT.name,Dt.ENABLED_FOR_VOUCHER.name])).filter(Boolean).length>0?void 0:Object(g.c)(Ct())}var Bt,Ft,Gt,Ut=Object(N.g)()(ft=Object(j.b)(e=>({currencyCode:k.a.getProvider(e).currencyCode,reshedulEnabled:k.a.isReshedulEnabled(e),type:Lt(e,Dt.TYPE.name)}))(ft=Object(G.q)({form:"discount-type-edit"})((gt=ht=class extends p.PureComponent{render(){var{currencyCode:e,isMatch:t,type:n,reshedulEnabled:a}=this.props;return m.a.createElement(D.b,{className:xt.a.self},m.a.createElement(M.s,Dt.NAME),m.a.createElement(D.b,{className:xt.a.amountWrapper},m.a.createElement(M.a,c()({},Dt.VALUE,{currencySymbol:n===at.a.PERCENTAGE?"%":e})),a?m.a.createElement(T.ReduxForm.ToggleRadioField,c()({},Dt.TYPE,{options:[{value:at.a.FIXED,label:e},{value:at.a.PERCENTAGE,label:"%"}]})):m.a.createElement(G.z,c()({},Dt.TYPE,{className:t?xt.a.toggleGroupMobile:xt.a.toggleGroup}),m.a.createElement(G.A,{className:t?void 0:xt.a.toggle,as:Tt.a,value:at.a.FIXED,qaType:at.a.FIXED,basis:"50%"},e),m.a.createElement(G.A,{className:t?void 0:xt.a.toggle,as:Tt.a,value:at.a.PERCENTAGE,qaType:at.a.PERCENTAGE,basis:"50%"},"%"))),m.a.createElement(M.b,c()({},Dt.ENABLED_FOR_SERVICE,{hideErrorMessage:!0})),m.a.createElement(M.b,c()({},Dt.ENABLED_FOR_PRODUCT,{hideErrorMessage:!0})),m.a.createElement(M.b,c()({},Dt.ENABLED_FOR_VOUCHER,{bubbleClassName:xt.a.bubble})))}},d()(ht,"propTypes",{currencyCode:h.a.string,isMatch:h.a.bool,type:h.a.string,reshedulEnabled:h.a.string}),ft=gt))||ft)||ft)||ft;function _t(){var e=l()(["Save"]);return _t=function(){return e},e}function zt(){var e=l()(["New discount type"]);return zt=function(){return e},e}function Vt(){var e=l()(["Edit discount type"]);return Vt=function(){return e},e}var Qt,Yt,Ht,Wt=()=>{Object(et.b)(v.h)},Jt=Object(N.g)()(Bt=Object(j.b)((e,t)=>{var n=Object(R.c)(t);return{discount:k.a.getDiscount(e,n),currencyCode:k.a.getProvider(e).currencyCode}},{submitForm:()=>Object(G.hb)("discount-type-edit"),updateSystemDiscount:P.o,createSystemDiscount:P.b})((Gt=Ft=class extends p.PureComponent{constructor(...e){super(...e),d()(this,"state",{isSubmitting:!1}),d()(this,"handleUpdateDiscount",e=>{var{discount:t}=this.props,n=t.id?this.props.updateSystemDiscount:this.props.createSystemDiscount;this.setState({isSubmitting:!0},()=>{n(e).finally(()=>{this.setState({isSubmitting:!1})})})})}render(){var{isMatch:e,discount:t,currencyCode:n}=this.props,{isSubmitting:a}=this.state;return m.a.createElement(De.a,null,m.a.createElement(vt.i,null,m.a.createElement(vt.g,{onClose:Wt},t.id?Object(g.c)(Vt()):Object(g.c)(zt())),m.a.createElement(vt.c,{noPadding:e},m.a.createElement(Ut,{initialValues:t,currencyCode:n,onSubmit:this.handleUpdateDiscount})),m.a.createElement(vt.e,null,m.a.createElement(w.f,{onAction:this.props.submitForm,isPending:a,alignSelf:"stretch",qaType:"discount-type-save"},Object(g.c)(_t())))))}},d()(Ft,"propTypes",{discount:h.a.oneOfType([h.a.number,h.a.object]),updateSystemDiscount:h.a.func,createSystemDiscount:h.a.func,isMatch:h.a.bool,currencyCode:h.a.string,submitForm:h.a.func}),Bt=Gt))||Bt)||Bt,Kt=n("mwIZ"),Zt=n.n(Kt),Xt=n("rah9");function $t(){var e=l()(["Delete Discount Type"]);return $t=function(){return e},e}function en(){var e=l()(["discount"]);return en=function(){return e},e}var tn,nn,an,rn=()=>{Object(et.b)(v.h)},on=Object(g.c)(en()),cn=Object(g.c)($t()),sn=Object(j.b)((e,t)=>({id:parseInt(Zt()(t,"match.params.id"),10)}),e=>({deleteSystemDiscount:t=>e(Object(P.e)(t))}))((Ht=Yt=class extends p.PureComponent{constructor(...e){super(...e),d()(this,"state",{isSubmitting:!1}),d()(this,"deleteDiscountType",()=>{var{id:e}=this.props;this.setState({isSubmitting:!0},()=>{this.props.deleteSystemDiscount(e).then(()=>{this.setState({isSubmitting:!0})})})})}render(){var{isSubmitting:e}=this.state;return m.a.createElement(Xt.a,{name:on,header:cn,isFetching:e,onConfirm:this.deleteDiscountType,onCancel:rn})}},d()(Yt,"propTypes",{deleteSystemDiscount:h.a.func,id:h.a.number}),Qt=Ht))||Qt;function ln(){var e=l()(["New Discount"]);return ln=function(){return e},e}function un(){var e=l()(["Back to Setup"]);return un=function(){return e},e}function dn(){var e=l()(["Set up manual discount types for use during checkout"]);return dn=function(){return e},e}function pn(){var e=l()(["Discount Types"]);return pn=function(){return e},e}var mn={header:Object(g.c)(pn()),subheader:Object(g.c)(dn())},bn=Object(N.g)()((an=nn=class extends p.PureComponent{render(){var{isMatch:e}=this.props;return m.a.createElement(De.c,null,e?m.a.createElement(A.a,c()({},mn,{headerPrimaryAction:m.a.createElement(w.c,{onAction:v.bb,size:"large"})}),m.a.createElement(yt,null)):m.a.createElement(S.b,{color:"gray-2"},m.a.createElement(x.b,{grow:1,shrink:0,type:"plain"},m.a.createElement(D.b,{flex:"row",justifyContent:"space-between",alignItems:"center"},m.a.createElement(C.a,c()({},mn,{goBackText:Object(g.c)(un()),handleBack:v.bb})),m.a.createElement(w.f,{qaType:"floating-menu-button",onAction:()=>{Object(et.c)(v.k)}},Object(g.c)(ln()))),m.a.createElement(yt,null))),m.a.createElement(b.d,null,m.a.createElement(b.b,{path:v.j,component:Jt}),m.a.createElement(b.b,{path:v.k,component:Jt}),m.a.createElement(b.b,{path:v.i,component:sn})))}},d()(nn,"propTypes",{isMatch:h.a.bool}),tn=an))||tn;class fn extends p.PureComponent{render(){return m.a.createElement(De.c,null,m.a.createElement(D.b,{flex:"column",grow:1},m.a.createElement(Ye.a,{url:"/provider/sales_settings"})))}}class hn extends p.PureComponent{render(){return m.a.createElement(De.b,null,m.a.createElement(D.b,{flex:"column",grow:1},m.a.createElement(Ye.a,{url:"/referral_sources"})))}}class gn extends p.PureComponent{render(){return m.a.createElement(De.b,null,m.a.createElement(D.b,{flex:"column",grow:1},m.a.createElement(Ye.a,{url:"/cancellation_reasons"})))}}var En=n("dLQ7"),yn=n("WTJQ"),vn=n("35RN"),On=n("F/Zl");function jn(){var e=l()(["Setup"]);return jn=function(){return e},e}class Tn extends p.PureComponent{render(){var{history:e,label:t}=this.props,n=Object(g.c)(jn()),a=t||n,r=[Object(vn.a)(n,v.V)];return t&&r.push(Object(vn.a)(t)),m.a.createElement(D.b,null,m.a.createElement(On.a,{text:a}),m.a.createElement(vn.b,{history:e,paths:r}))}}d()(Tn,"propTypes",{history:h.a.object.isRequired,label:h.a.string});var Sn,xn,Cn,Nn=n("OVAM"),wn=n.n(Nn);function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function In(){var e=l()(["Customize the content displayed on invoices issued to your clients"]);return In=function(){return e},e}function kn(){var e=l()(["Invoice Settings"]);return kn=function(){return e},e}function Rn(){var e=l()(["Receipt Footer"]);return Rn=function(){return e},e}function Mn(){var e=l()(["Receipt Custom Line 2"]);return Mn=function(){return e},e}function Ln(){var e=l()(["Receipt Custom Line 1"]);return Ln=function(){return e},e}function Dn(){var e=l()(["Invoice Title"]);return Dn=function(){return e},e}function qn(){var e=l()(["Show client address on invoices"]);return qn=function(){return e},e}function Bn(){var e=l()(["Show client mobile and email on invoices"]);return Bn=function(){return e},e}function Fn(){var e=l()(["Automatically print receipts upon sale completion"]);return Fn=function(){return e},e}function Gn(){var e=l()(["Invoice Title"]);return Gn=function(){return e},e}var Un=[G.kb.minLength(1,Object(g.c)(Gn())),G.kb.maxLength(20)],_n=G.kb.maxLength(100),zn=G.kb.maxLength(100),Vn=G.kb.maxLength(255),Qn={printReceipts:{label:Object(g.c)(Fn()),name:"printReceipts",className:wn.a.field},saleShowCustomerInfo:{label:Object(g.c)(Bn()),name:"saleShowCustomerInfo",className:wn.a.field},saleShowCustomerAddress:{label:Object(g.c)(qn()),name:"saleShowCustomerAddress",className:wn.a.field},customInvoiceTitle:{label:Object(g.c)(Dn()),name:"customInvoiceTitle",validate:Un,className:wn.a.field},saleCustomHeader1:{label:Object(g.c)(Ln()),name:"saleCustomHeader1",validate:_n,className:wn.a.field},saleCustomHeader2:{label:Object(g.c)(Mn()),name:"saleCustomHeader2",validate:zn,className:wn.a.field},receiptMessage:{label:Object(g.c)(Rn()),name:"receiptMessage",validate:Vn,className:wn.a.field}},Yn=Object(G.q)("invoices-formatting")((Cn=xn=class extends p.PureComponent{render(){var{isMatch:e}=this.props;return m.a.createElement(D.b,{className:wn.a.self},m.a.createElement(q.a,{title:Object(g.c)(kn()),subtitle:Object(g.c)(In()),className:e&&wn.a.firstCard},m.a.createElement(M.b,Qn.printReceipts),m.a.createElement(M.b,Qn.saleShowCustomerInfo),m.a.createElement(M.b,Qn.saleShowCustomerAddress),m.a.createElement(M.s,Qn.customInvoiceTitle),m.a.createElement(M.s,Qn.saleCustomHeader1),m.a.createElement(M.s,Qn.saleCustomHeader2),m.a.createElement(M.s,Qn.receiptMessage)))}},d()(xn,"propTypes",Pn(Pn({},G.Q),{},{isFetching:h.a.bool})),Sn=Cn))||Sn,Hn=n("ZO1O"),Wn=n("qwlH"),Jn=n("QILm"),Kn=n.n(Jn),Zn=n("oGwc"),Xn=n.n(Zn);function $n(){var e=l()(["TIP: We recommend to enable it during a quiet time in your salon(s) so you can set up all numbers properly with no interuption to the ongoing sales."]);return $n=function(){return e},e}function ea(){var e=l()(["Enable"]);return ea=function(){return e},e}function ta(){var e=l()(["You can enable new invoice number sequencing which allows you\n  to set number sequence and prefix per location."]);return ta=function(){return e},e}class na extends p.PureComponent{render(){var e=this.props,{className:t,onEnable:n}=e,a=Kn()(e,["className","onEnable"]);return m.a.createElement(D.b,{className:nt()(Xn.a.self,t)},m.a.createElement(S.b,c()({className:Xn.a.container,alignItems:"center"},a),m.a.createElement(L.d,{className:Xn.a.info,type:"inherit",grow:1},Object(g.c)(ta())),m.a.createElement(w.f,{onAction:n},Object(g.c)(ea()))),m.a.createElement(L.d,{className:Xn.a.tip},Object(g.c)($n())))}}d()(na,"propTypes",{className:h.a.string,onEnable:h.a.func});var aa,ra,oa,ia=n("txPs"),ca=n.n(ia);function sa(){var e=l()(["Proceed"]);return sa=function(){return e},e}function la(){var e=l()(["Your invoice number sequencing is about to be changed. This action cannot be undone."]);return la=function(){return e},e}function ua(){var e=l()(["Invoice Number Sequencing"]);return ua=function(){return e},e}function da(){var e=l()(["Change"]);return da=function(){return e},e}function pa(){var e=l()(["Next Invoice Number"]);return pa=function(){return e},e}function ma(){var e=l()(["Invoice No. Prefix"]);return ma=function(){return e},e}function ba(){var e=l()(["Location Name"]);return ba=function(){return e},e}function fa(){var e=l()(["Invoice Number Sequencing"]);return fa=function(){return e},e}function ha(){var e=l()(["New invoice number sequencing couldn't be set."]);return ha=function(){return e},e}var ga,Ea,ya,va=Object(j.b)(e=>({invoiceSequences:k.a.getInvoiceSequenceList(e)}))((oa=ra=class extends p.Component{constructor(...e){super(...e),d()(this,"state",{confirmEnable:!1,creatingSequence:!1}),d()(this,"toggleConfirmEnable",()=>{this.setState({confirmEnable:!this.state.confirmEnable})}),d()(this,"proceedEnable",()=>{this.setState({creatingSequence:!0}),I.a.createInvoiceSequenceActivation().catch(()=>{I.a.addGlobalErrorToast(Object(g.c)(ha()))}).finally(()=>{this.setState({creatingSequence:!1})}),this.toggleConfirmEnable()})}render(){var{confirmEnable:e,creatingSequence:t}=this.state,{invoiceSequences:n}=this.props;return m.a.createElement(ot.a,{makeApiCalls:I.a.readInvoiceSequenceList,if:t},m.a.createElement(Hn.d,null,m.a.createElement(D.b,null,m.a.createElement(L.d,{type:"landing-title",weight:L.c.LIGHT,className:ca.a.title},Object(g.c)(fa())),n&&n.length?m.a.createElement(Wn.d,null,m.a.createElement(Wn.a,null,Object(g.c)(ba())),m.a.createElement(Wn.a,null,Object(g.c)(ma())),m.a.createElement(Wn.a,null,Object(g.c)(pa())),m.a.createElement(Wn.a,null),n.map(({id:e,prefix:t,nextValue:n,location:{name:a}})=>m.a.createElement(Wn.b,{key:e},a,t||"",n,m.a.createElement(w.n,{linkTo:v.db(e)},Object(g.c)(da()))))):m.a.createElement(na,{onEnable:this.toggleConfirmEnable}),e&&m.a.createElement(vt.i,{size:"small"},m.a.createElement(vt.g,{onClose:this.toggleConfirmEnable},Object(g.c)(ua())),m.a.createElement(vt.c,{onlyBottomPadding:!0},m.a.createElement(Hn.d,{type:"plain"},m.a.createElement(L.d,null,Object(g.c)(la())))),m.a.createElement(vt.e,null,m.a.createElement(w.f,{grow:1,onAction:this.proceedEnable,alignSelf:"stretch"},Object(g.c)(sa())))))))}},d()(ra,"propTypes",{invoiceSequences:h.a.arrayOf(h.a.object)}),aa=oa))||aa;function Oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ja(){var e=l()(["Next Invoice Number"]);return ja=function(){return e},e}function Ta(){var e=l()(["Invoice No. Prefix"]);return Ta=function(){return e},e}function Sa(){var e=l()(["Next Invoice Number"]);return Sa=function(){return e},e}function xa(){var e=l()(["Next Invoice Number"]);return xa=function(){return e},e}function Ca(){var e=l()(["Next Invoice Number"]);return Ca=function(){return e},e}var Na,wa,Aa,Pa=G.kb.maxLength(5),Ia=[G.kb.numeric(Object(g.c)(Ca())),G.kb.max(Object(g.c)(xa()),1e8),G.kb.required(Object(g.c)(Sa()))],ka=e=>e.trim(),Ra=Object(G.q)({form:"invoice-sequence-edit"})((ya=Ea=class extends p.PureComponent{render(){return m.a.createElement(D.b,{flex:"row",wrap:"wrap"},m.a.createElement(M.s,{grow:1,label:Object(g.c)(Ta()),name:"prefix",normalize:ka,validate:Pa}),m.a.createElement(M.s,{grow:1,label:Object(g.c)(ja()),name:"nextValue",validate:Ia}))}},d()(Ea,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},G.Q)),ga=ya))||ga;function Ma(){var e=l()(["Save"]);return Ma=function(){return e},e}function La(){var e=l()(["Change Sequencing"]);return La=function(){return e},e}function Da(){var e=l()(["Next Invoice Number must be greater than %{greaterThan}"]);return Da=function(){return e},e}var qa,Ba,Fa,Ga=Object(j.b)((e,{match:{params:{id:t}}})=>({invoiceSequence:k.a.getInvoiceSequence(e,t)}),{submitForm:()=>Object(G.hb)("invoice-sequence-edit")})((Aa=wa=class extends p.Component{constructor(...e){super(...e),d()(this,"state",{pending:!1}),d()(this,"updateInvoiceSequence",({id:e,prefix:t,nextValue:n})=>(this.setState({pending:!0}),I.a.patchInvoiceSequence(e,{data:{type:"invoice-sequences",attributes:{prefix:t,nextValue:n}}}).catch(e=>(this.setState({pending:!1}),Object(G.ib)(e,{fields:[{jsonPointer:/\/next-value$/,code:"invalid",field:"nextValue",message:Object(g.c)(Da())}],params:({minNextValue:e})=>({greaterThan:e-1})}))).then(()=>{Object(et.f)(v.n)})))}render(){var{invoiceSequence:e}=this.props;if(!e)return null;var{pending:t}=this.state;return m.a.createElement(vt.i,{size:"small"},m.a.createElement(vt.g,{linkTo:v.n,replaceLink:!0},Object(g.c)(La())),m.a.createElement(vt.c,{onlyBottomPadding:!0},m.a.createElement(Hn.d,{type:"plain"},m.a.createElement(L.d,null,Object(g.c)("You are about to introduce this change for %{name}",{name:m.a.createElement("strong",{key:"name"},e.location.name)}))),m.a.createElement(Hn.d,{type:"form mobile"},m.a.createElement(Ra,{initialValues:e,onSubmit:this.updateInvoiceSequence}))),m.a.createElement(vt.e,null,m.a.createElement(w.f,{grow:1,onAction:this.props.submitForm,isPending:t,alignSelf:"stretch"},Object(g.c)(Ma()))))}},d()(wa,"propTypes",{invoiceSequence:h.a.object,submitForm:h.a.func}),Na=Aa))||Na,Ua=()=>m.a.createElement(D.b,null,m.a.createElement(va,null),m.a.createElement(b.d,null,m.a.createElement(b.b,{path:v.p,component:Ga}))),_a=n("XOuL");function za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?za(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):za(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qa(){var e=l()(["Save"]);return Qa=function(){return e},e}function Ya(){var e=l()(["Receipt Footer"]);return Ya=function(){return e},e}function Ha(){var e=l()(["Receipt Custom Line 2"]);return Ha=function(){return e},e}function Wa(){var e=l()(["Receipt Custom Line 1"]);return Wa=function(){return e},e}function Ja(){var e=l()(["Invoice Title"]);return Ja=function(){return e},e}function Ka(){var e=l()(["Show client address on invoices"]);return Ka=function(){return e},e}function Za(){var e=l()(["Show client mobile and email on invoices"]);return Za=function(){return e},e}function Xa(){var e=l()(["Automatically print receipts upon sale completion"]);return Xa=function(){return e},e}function $a(){var e=l()(["Invoices & Receipts"]);return $a=function(){return e},e}function er(){var e=l()(["Invoice Title"]);return er=function(){return e},e}var tr,nr,ar,rr=[G.kb.minLength(1,Object(g.c)(er())),G.kb.maxLength(20)],or=G.kb.maxLength(100),ir=G.kb.maxLength(100),cr=G.kb.maxLength(255),sr=Object(G.q)({form:"invoices-formatting"})((Fa=Ba=class extends p.PureComponent{render(){var{isFetching:e,submitting:t,submit:n}=this.props;return m.a.createElement(_a.a,{if:e&&!t,fixedPosition:!0},m.a.createElement(Hn.d,{type:"form",flex:"row",wrap:"wrap"},m.a.createElement(G.E,{type:"header"},m.a.createElement(L.d,{type:"landing-title",weight:L.c.LIGHT},Object(g.c)($a()))),m.a.createElement(M.b,{basis:"100%",label:Object(g.c)(Xa()),name:"printReceipts"}),m.a.createElement(M.b,{basis:"100%",label:Object(g.c)(Za()),name:"saleShowCustomerInfo"}),m.a.createElement(M.b,{basis:"100%",label:Object(g.c)(Ka()),name:"saleShowCustomerAddress"}),m.a.createElement(M.s,{basis:"100%",label:Object(g.c)(Ja()),name:"customInvoiceTitle",validate:rr}),m.a.createElement(M.s,{basis:"100%",label:Object(g.c)(Wa()),name:"saleCustomHeader1",validate:or}),m.a.createElement(M.s,{basis:"100%",label:Object(g.c)(Ha()),name:"saleCustomHeader2",validate:ir}),m.a.createElement(M.s,{basis:"100%",label:Object(g.c)(Ya()),name:"receiptMessage",validate:cr}),m.a.createElement(G.E,{type:"footer",justifyContent:"flex-end"},m.a.createElement(w.f,{onAction:n,isPending:t||e},Object(g.c)(Qa())))))}},d()(Ba,"propTypes",Va(Va({},G.Q),{},{isFetching:h.a.bool})),qa=Fa))||qa,lr=n("DJ2R"),ur=n.n(lr);function dr(){var e=l()(["Invoices & Receipts"]);return dr=function(){return e},e}function pr(){var e=l()(["Back to Setup"]);return pr=function(){return e},e}function mr(){var e=l()(["Save"]);return mr=function(){return e},e}function br(){var e=l()(["Configure details displayed on invoices issued to your clients"]);return br=function(){return e},e}function fr(){var e=l()(["Invoice Template"]);return fr=function(){return e},e}var hr,gr,Er,yr={header:Object(g.c)(fr()),subheader:Object(g.c)(br())},vr=Object(j.b)(e=>({provider:k.a.getProvider(e),invoiceSettings:Object(R.d)(e)}),{submitForm:()=>Object(G.hb)("invoices-formatting")})(tr=Object(N.g)()((ar=nr=class extends p.Component{constructor(...e){super(...e),d()(this,"state",{submitting:!1}),d()(this,"submit",e=>{var{customInvoiceTitle:t,printReceipts:n,receiptMessage:a,saleCustomHeader1:r,saleCustomHeader2:o,saleShowCustomerInfo:i,saleShowCustomerAddress:c}=e||{};return I.a.patchProviderInvoiceSettings({data:{type:"provider-invoice-settings-update-requests",attributes:{customInvoiceTitle:(t||"").trim(),printReceipts:n,receiptMessage:(a||"").trim(),saleCustomHeader1:(r||"").trim(),saleCustomHeader2:(o||"").trim(),saleShowCustomerInfo:i,saleShowCustomerAddress:c}}}).catch(G.ib)}),d()(this,"handleSubmit",e=>{this.setState({submitting:!0},()=>{Object(P.l)(e).finally(()=>{this.setState({submitting:!1})})})})}componentDidMount(){Object(P.j)()}render(){var{history:e,provider:t,invoiceSettings:n,isMatch:a}=this.props,{submitting:r}=this.state,o=m.a.createElement(w.f,{qaType:"invoices-form-submit",onAction:this.props.submitForm,alignSelf:"flex-end",isPending:r},Object(g.c)(mr()));return m.a.createElement(De.c,null,m.a.createElement(yn.b,{flags:"newAccountSetupEnabled"},({newAccountSetupEnabled:r})=>r?a?m.a.createElement(A.a,c()({},yr,{headerPrimaryAction:m.a.createElement(w.c,{onAction:v.bb,size:"large"}),footer:o}),m.a.createElement(Yn,{initialValues:n,onSubmit:this.handleSubmit,isMatch:a})):m.a.createElement(S.b,{color:"gray-2"},m.a.createElement(x.b,{grow:1,shrink:0,type:"plain"},m.a.createElement(C.a,c()({},yr,{goBackText:Object(g.c)(pr()),handleBack:v.bb})),m.a.createElement(Yn,{initialValues:n,onSubmit:this.handleSubmit}),o)):m.a.createElement(S.b,{className:ur.a.self,color:a?void 0:"gray-2"},m.a.createElement(Tn,{label:Object(g.c)(dr()),history:e}),m.a.createElement(x.b,{type:"plain"},m.a.createElement(D.b,{className:ur.a.container},m.a.createElement(sr,{initialValues:t,onSubmit:this.submit}),m.a.createElement(Ua,null))))))}},d()(nr,"propTypes",{isMatch:h.a.bool,history:h.a.object,provider:h.a.object,invoiceSettings:h.a.object.isRequired,submitForm:h.a.func}),tr=ar))||tr)||tr,Or=n("dmMp"),jr=n("fZHy"),Tr=n.n(jr);function Sr(){var e=l()(["Proceed"]);return Sr=function(){return e},e}function xr(){var e=l()(["Your invoice number sequencing is about to be changed. This action cannot be undone."]);return xr=function(){return e},e}function Cr(){var e=l()(["Invoice Number Sequencing"]);return Cr=function(){return e},e}function Nr(){var e=l()(["Change"]);return Nr=function(){return e},e}function wr(){var e=l()(["New invoice sequencing number couldn't be set."]);return wr=function(){return e},e}function Ar(){var e=l()(["Next Invoice Number"]);return Ar=function(){return e},e}function Pr(){var e=l()(["Invoice No. Prefix"]);return Pr=function(){return e},e}function Ir(){var e=l()(["Location Name"]);return Ir=function(){return e},e}var kr,Rr,Mr,Lr=[{id:"location",text:Object(g.c)(Ir()),align:Or.b.LEFT},{id:"prefix",text:Object(g.c)(Pr()),align:Or.b.LEFT},{id:"nextValue",text:Object(g.c)(Ar()),align:Or.b.LEFT},{id:"edit",text:"",align:Or.b.LEFT}],Dr=Object(N.g)()(hr=Object(j.b)(e=>({invoiceSequences:k.a.getInvoiceSequenceList(e)}))((Er=gr=class extends p.PureComponent{constructor(...e){super(...e),d()(this,"state",{isConfirmationModalVisible:!1,isFetchingSequences:!1}),d()(this,"toggleConfirmationModal",()=>{this.setState({isConfirmationModalVisible:!this.state.isConfirmationModalVisible})}),d()(this,"handleEnableInvoiceSequencing",()=>{this.setState({isFetchingSequences:!0}),I.a.createInvoiceSequenceActivation().catch(()=>{I.a.addGlobalErrorToast(Object(g.c)(wr()))}).finally(()=>{this.setState({isFetchingSequences:!1}),this.toggleConfirmationModal()})}),d()(this,"handleChangeSequencing",e=>{Object(et.c)(v.cb(e))})}renderCell(e,t){switch(e.id){case"location":return m.a.createElement(Or.e,{key:e.id},t.location.name);case"edit":return m.a.createElement(Or.e,{key:e.id},m.a.createElement(D.b,{className:Tr.a.editCell},m.a.createElement(F.b,{color:"blue-dark",name:"edit-pencil",className:Tr.a.editIcon}),Object(g.c)(Nr())));default:return m.a.createElement(Or.e,{key:e.id},t[e.id]||"-")}}render(){var{isConfirmationModalVisible:e,isFetchingSequences:t}=this.state,{invoiceSequences:n,isMatch:a}=this.props;return m.a.createElement(ot.a,{makeApiCalls:I.a.readInvoiceSequenceList,if:t},m.a.createElement(D.b,{className:Tr.a.self},n&&n.length?a?n.map(e=>m.a.createElement(st.a,{key:e.id,title:e.location.name,handleEdit:()=>{this.handleChangeSequencing(e.id)},onAction:()=>{this.handleChangeSequencing(e.id)},subtitle:m.a.createElement(p.Fragment,null,m.a.createElement(L.d,{className:Tr.a.subtitle},Object(g.c)("Invoice No. Prefix: %{prefix}",{prefix:e.prefix})),m.a.createElement(L.d,{className:Tr.a.subtitle},Object(g.c)("Next Invoice Number: %{nextNumber}",{nextNumber:e.nextValue})))})):m.a.createElement(Or.d,null,Lr.map(({id:e,text:t,align:n})=>m.a.createElement(Or.f,{key:e,align:n},t)),n.map((e,t)=>m.a.createElement(Or.h,{key:e.id,rowIndex:t,className:Tr.a.row,onClick:()=>{this.handleChangeSequencing(e.id)}},Lr.map(t=>this.renderCell(t,e))))):m.a.createElement(na,{onEnable:this.toggleConfirmationModal}),e&&m.a.createElement(vt.i,{size:"small"},m.a.createElement(vt.g,{onClose:this.toggleConfirmationModal},Object(g.c)(Cr())),m.a.createElement(vt.c,null,m.a.createElement(L.d,null,Object(g.c)(xr()))),m.a.createElement(vt.e,null,m.a.createElement(w.f,{grow:1,onAction:this.handleEnableInvoiceSequencing,alignSelf:"stretch"},Object(g.c)(Sr()))))))}},d()(gr,"propTypes",{invoiceSequences:h.a.arrayOf(h.a.object),isMatch:h.a.bool}),hr=Er))||hr)||hr,qr=n("FVkU"),Br=n.n(qr);function Fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Gr(){var e=l()(["Next Invoice Number"]);return Gr=function(){return e},e}function Ur(){var e=l()(["Invoice No. Prefix"]);return Ur=function(){return e},e}function _r(){var e=l()(["Next Invoice Number"]);return _r=function(){return e},e}function zr(){var e=l()(["Next Invoice Number"]);return zr=function(){return e},e}function Vr(){var e=l()(["Next Invoice Number"]);return Vr=function(){return e},e}var Qr,Yr,Hr,Wr=G.kb.maxLength(5),Jr=[G.kb.numeric(Object(g.c)(Vr())),G.kb.max(Object(g.c)(zr()),1e8),G.kb.required(Object(g.c)(_r()))],Kr=e=>e.trim(),Zr=()=>Object(G.hb)("invoice-sequence-edit"),Xr=Object(G.q)({form:"invoice-sequence-edit"})((Mr=Rr=class extends p.PureComponent{render(){return m.a.createElement(D.b,{className:Br.a.self},m.a.createElement(M.s,{label:Object(g.c)(Ur()),name:"prefix",normalize:Kr,validate:Wr,className:Br.a.leftField}),m.a.createElement(M.s,{label:Object(g.c)(Gr()),name:"nextValue",validate:Jr,className:Br.a.rightField}))}},d()(Rr,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},G.Q)),kr=Mr))||kr;function $r(){var e=l()(["Save"]);return $r=function(){return e},e}function eo(){var e=l()(["Change Sequencing"]);return eo=function(){return e},e}function to(){var e=l()(["Invoice Sequence"]);return to=function(){return e},e}function no(){var e=l()(["Next Invoice Number must be greater than %{greaterThan}"]);return no=function(){return e},e}var ao,ro,oo,io=()=>{Object(et.b)(v.q)},co=Object(N.g)()(Qr=Object(j.b)((e,t)=>{var n=Zt()(t,"match.params.id");return{invoiceSequence:k.a.getInvoiceSequence(e,n)}},e=>({submitForm:()=>e(Zr)}))((Hr=Yr=class extends p.Component{constructor(...e){super(...e),d()(this,"state",{pending:!1}),d()(this,"handleUpdateInvoiceSequence",e=>(this.setState({pending:!0}),Object(P.k)(e).catch(e=>(this.setState({pending:!1}),Object(G.ib)(e,{fields:[{jsonPointer:/\/next-value$/,code:"invalid",field:"nextValue",message:Object(g.c)(no())}],params:({minNextValue:e})=>({greaterThan:e-1})}))).then(()=>{I.a.addUpdatedToast(Object(g.c)(to())),io()})))}render(){var{invoiceSequence:e,isMatch:t}=this.props;if(!e)return null;var{pending:n}=this.state,a=m.a.createElement(L.d,{type:"body-1"},Object(g.c)("You are about to introduce this change for %{name}",{name:m.a.createElement(L.d,{key:"location",type:"bold",as:"span"},e.location.name)})," ");return m.a.createElement(vt.i,{size:"small"},m.a.createElement(vt.g,{subheader:t&&a,onClose:io},Object(g.c)(eo())),m.a.createElement(vt.c,{onlyBottomPadding:!0},!t&&m.a.createElement(Hn.d,{type:"plain"},a),m.a.createElement(Hn.d,{type:"form mobile"},m.a.createElement(Xr,{initialValues:e,onSubmit:this.handleUpdateInvoiceSequence}))),m.a.createElement(vt.e,null,m.a.createElement(w.f,{grow:1,onAction:this.props.submitForm,isPending:n,alignSelf:"stretch"},Object(g.c)($r()))))}},d()(Yr,"propTypes",{invoiceSequence:h.a.object,submitForm:h.a.func,isMatch:h.a.bool}),Qr=Hr))||Qr)||Qr;function so(){var e=l()(["Back to Setup"]);return so=function(){return e},e}function lo(){var e=l()(["Set custom prefixes and number sequence for invoices"]);return lo=function(){return e},e}function uo(){var e=l()(["Invoice Sequencing"]);return uo=function(){return e},e}var po={header:Object(g.c)(uo()),subheader:Object(g.c)(lo())},mo=Object(N.g)()((oo=ro=class extends p.Component{render(){var{isMatch:e}=this.props;return m.a.createElement(De.c,null,e?m.a.createElement(A.a,c()({},po,{headerPrimaryAction:m.a.createElement(w.c,{onAction:v.bb,size:"large"})}),m.a.createElement(Dr,null)):m.a.createElement(S.b,{color:"gray-2"},m.a.createElement(x.b,{grow:1,shrink:0,type:"plain"},m.a.createElement(C.a,c()({},po,{goBackText:Object(g.c)(so()),handleBack:v.bb})),m.a.createElement(Dr,null))),m.a.createElement(b.d,null,m.a.createElement(b.b,{path:v.o,component:co})))}},d()(ro,"propTypes",{isMatch:h.a.bool}),ao=oo))||ao,bo=n("e64n"),fo=n("9oTK"),ho=n("unan"),go=n("X67z"),Eo=n("ngQI"),yo=n("dNIM"),vo=n("79hK"),Oo=["GB","US","CA","NZ","AU","IE","JA","BB"];function jo({streetName:e,buildingNumber:t,postalCode:n,cityName:a,district:r,region1:o,region2:i,directions:c},s){var l=r?"".concat(a," (").concat(r,")"):a;return a===o&&(o=null),a!==i&&o!==i||(i=null),(Oo.includes(s)?[[t,e].filter(Boolean).join(" "),l,o,i,n,c]:[[e,t].filter(Boolean).join(" "),n,l,o,i,c]).filter(Boolean).join(", ")}var To=n("9nhX"),So=n.n(To),xo=[Object(g.d)("Rating","Terrible"),Object(g.d)("Rating","Bad"),Object(g.d)("Rating","Okay"),Object(g.d)("Rating","Good"),Object(g.d)("Rating","Great")];function Co(e,t){var n;return["large","largeExt","xLarge","xxLarge"].includes(e)&&(n=xo[So()(Math.round(t)-1,0,5)]),[t,n].filter(Boolean).join(" ")}function No(e,t){return"large"===e?t>1e4?"(10000+)":"(".concat(t,")"):0===t?Object(g.d)("Rating","No ratings"):1===t?Object(g.d)("Rating","1 rating"):t<=1e4?Object(g.d)("Rating","%{ratingCount} ratings",{ratingCount:t}):"(10000+)"}var wo=n("9qwA"),Ao=n.n(wo);class Po extends p.PureComponent{render(){var{location:e,isMatch:t,provider:n,idx:a}=this.props,r=jo(jt()(e.address,["buildingNumber","streetName","cityName","district","region1"]),n.countryCode);return m.a.createElement(Eo.b,{draggableId:e.id,key:e.id,index:a},(n,a)=>{var o,i,s;return m.a.createElement("div",c()({className:Ao.a.self,ref:n.innerRef},n.draggableProps,n.dragHandleProps),t?m.a.createElement(T.RowButton,{className:nt()(Ao.a.item,a.isDropAnimating&&Ao.a.dropped||a.isDragging&&Ao.a.dragged),padding:"small",rawPrefix:m.a.createElement(T.Icon,{name:"drag",size:"16"}),prefix:m.a.createElement(T.Avatar,{shape:"round-square",url:null===(o=e.avatar)||void 0===o?void 0:o.thumbUrl,name:m.a.createElement(T.Icon,{name:"house",size:"32",color:"blue200"})}),leftLabel:r},null===(i=e.basicInfo)||void 0===i?void 0:i.name):m.a.createElement(T.CardLocationRow,{className:nt()(Ao.a.item,a.isDropAnimating&&Ao.a.dropped||a.isDragging&&Ao.a.dragged),avatar:e.avatar.thumbUrl,name:null===(s=e.basicInfo)||void 0===s?void 0:s.name,rating:e.rating,ratingCount:e.ratingCount,formatRatingText:Co,formatCountText:No,address:r,withDragIcon:!0}))})}}d()(Po,"propTypes",{location:h.a.object,isMatch:h.a.bool,provider:h.a.object,idx:h.a.number});var Io=n("g5rd");function ko(e){return[e.address,e.addressDetails,e.city,e.state,e.zipCode].filter(Boolean).join(", ")}function Ro(e){return[e.primaryBusinessType,...e.secondaryBusinessTypes].join(", ")}var Mo=n("IR5W"),Lo=n.n(Mo);class Do extends p.PureComponent{handleEdit(e){Object(et.c)(v.jb(e))}handleDelete(e){Object(et.c)(v.fb(e))}render(){var{location:e,isMatch:t,idx:n,bulkMode:a,showBusinessTypesInfo:r}=this.props,o=m.a.createElement(D.b,{flex:"row",alignItems:"center"},!t&&m.a.createElement(F.b,{name:"drag",size:"small",marginRight:20}),m.a.createElement(Io.c,{locationId:String(e.id)})),i=ko(e),s=Ro(e);return m.a.createElement(Eo.b,{draggableId:e.id,key:e.id,index:n},(l,u)=>m.a.createElement(D.b,c()({className:Lo.a.self,selfRef:l.innerRef},l.draggableProps,l.dragHandleProps,{qaType:"draggable-location-".concat(n)}),m.a.createElement(st.a,{className:nt()(Lo.a.item,u.isDropAnimating&&Lo.a.dropped||u.isDragging&&Lo.a.dragged),title:e.name,subtitle:m.a.createElement(m.a.Fragment,null,m.a.createElement(D.b,{qaType:"location-address"},i),r?m.a.createElement(D.b,{qaType:"location-business-types"},s):null),titleQaType:"location-name",subtitleQaType:"location-subtitle",prefix:o,handleEdit:()=>{this.handleEdit(e.id)},handleDelete:()=>{this.handleDelete(e.id)},bulkSortingMode:a,onAction:()=>{t||this.handleEdit(e.id)}})))}}d()(Do,"propTypes",{location:h.a.object,isMatch:h.a.bool,bulkMode:h.a.bool,idx:h.a.number,showBusinessTypesInfo:h.a.bool});var qo,Bo,Fo,Go=n("Mndo"),Uo=n.n(Go);class _o extends p.PureComponent{render(){var e=this.props,{items:t,isMatch:n,provider:a}=e,r=Kn()(e,["items","isMatch","provider"]);return m.a.createElement(yn.b,{flags:["secondaryBusinessTypesEnabled","newLocationAddressesEnabled"]},({secondaryBusinessTypesEnabled:e,newLocationAddressesEnabled:o})=>o?t.map((e,t)=>m.a.createElement(Po,{key:e.id,location:e,idx:t,provider:a,isMatch:n})):m.a.createElement(D.b,{className:n?void 0:Uo.a.selfOld},t.map((t,a)=>m.a.createElement(Do,c()({key:t.id,location:t,idx:a,isMatch:n,showBusinessTypesInfo:e},r)))))}}function zo(){var e=l()(["Location position couldn't be changed. Please try again later"]);return zo=function(){return e},e}d()(_o,"propTypes",{items:h.a.arrayOf(h.a.object),isMatch:h.a.bool,bulkMode:h.a.bool,provider:h.a.object});var Vo=Object(N.g)()(qo=Object(j.b)(e=>{var t=k.a.getProviderFeatureFlags(e);return{providerFlags:t,provider:k.a.getProvider(e),items:t.newLocationAddressesEnabled?k.a.getExistingLocationList(e):Object(vo.f)(e)}},{fetchLocations:ho.e,moveLocation:ho.f})((Fo=Bo=class extends p.PureComponent{constructor(...e){super(...e),d()(this,"handleDragEnd",({destination:e,source:t,draggableId:n})=>{if(e&&e.index!==t.index){var{items:a,handleBulkSort:r}=this.props,o=a.find(({id:e})=>e===n);this.props.providerFlags.newLocationAddressesEnabled?I.a.reorderLocation(o.id,e.index,this.props.items):this.props.moveLocation(o.id,e.index),r?r(o.id,e.index):Object(yo.f)(o.id,e.index).catch(()=>{I.a.addErrorToast(Object(g.c)(zo())),this.props.fetchLocations()})}})}render(){var{isMatch:e,provider:t,handleBulkSort:n}=this.props;return m.a.createElement(Eo.a,{onDragEnd:this.handleDragEnd},m.a.createElement(Eo.c,{droppableId:"locations-setup-list"},a=>m.a.createElement(D.b,c()({selfRef:a.innerRef},a.droppableProps),m.a.createElement(_o,{items:this.props.items,isMatch:e,provider:t,bulkMode:!!n}),a.placeholder)))}},d()(Bo,"propTypes",{isMatch:h.a.bool,providerFlags:h.a.object,provider:h.a.object,items:h.a.arrayOf(h.a.object),sortable:h.a.bool,handleBulkSort:h.a.func,fetchLocations:h.a.func,moveLocation:h.a.func}),qo=Fo))||qo)||qo,Qo=n("/rO/"),Yo=n("b+Vt"),Ho=n("eMT7"),Wo={PRIMARY:"primary",SECONDARY:"secondary"},Jo=n("N1om"),Ko=n.n(Jo),Zo=n("3WN1"),Xo=n.n(Zo),$o={1:"business-type-hair-salon",2:"business-type-nail-salon",3:"business-type-waxing-salon",4:"business-type-beauty-salon",5:"business-type-barbershop",6:"business-type-eyebrows-lashes",7:"business-type-massage",8:"business-type-spa",9:"business-type-gym-fitness",10:"business-type-personal-trainer",11:"business-type-therapy-center",12:"business-type-tattoo-piercing",13:"business-type-tanning-studio",14:"business-type-other"},ei={[Wo.PRIMARY]:"business-type-star",[Wo.SECONDARY]:"business-type-tick"};class ti extends p.PureComponent{constructor(...e){super(...e),d()(this,"handleChange",()=>{var{onAction:e,businessID:t,selected:n}=this.props;e(t,!n)})}render(){var{variant:e,name:t,selected:n,businessID:a,disabled:r}=this.props,o=$o[a],i=r?L.b.GRAY_6:L.b.GRAY_7;return m.a.createElement(D.b,{qaType:"business-type-tile".concat(n?"-selected":"").concat(r?"-disabled":"","-").concat(Ko()(t)),className:nt()(Xo.a.self,{[Xo.a.selected]:n&&!r,[Xo.a[e]]:n&&!r,[Xo.a.disabled]:r})},m.a.createElement(D.b,{as:"input",type:"checkbox",className:Xo.a.hiddenInput,onChange:this.handleChange}),n&&!r&&m.a.createElement(F.b,{qaType:"tick-icon",className:Xo.a.tickIcon,color:"original",size:"big",name:ei[e]}),m.a.createElement(D.b,{className:Xo.a.visibleContent},m.a.createElement(F.b,{qaType:"tile-icon",className:Xo.a.icon,color:i,name:o,size:"48"}),m.a.createElement(D.b,{className:Xo.a.textContainer},m.a.createElement(L.d,{qaType:"tile-name",className:Xo.a.text,color:i},t))))}}d()(ti,"propTypes",{variant:h.a.oneOf(Object.values(Wo)),name:h.a.string.isRequired,businessID:h.a.string.isRequired,onAction:h.a.func.isRequired,selected:h.a.bool,disabled:h.a.bool}),d()(ti,"defaultProps",{variant:Wo.PRIMARY});var ni=ti,ai=n("1WDN"),ri=n.n(ai);var oi,ii,ci,si=function(){return m.a.createElement(D.b,{className:ri.a.self})},li=n("I+E4"),ui=n("UskH"),di=n.n(ui),pi=Object(N.g)()((ci=ii=class extends p.PureComponent{render(){var e=this.props,{title:t,subtitle:n,children:a,backLink:r,backAction:o,closeLink:i,closeAction:s,isMatch:l,loading:u,grayModalContentMode:d,footer:p,shouldCoverModalPortal:b,noSlideAnimation:f,qaSuffix:h,qaType:g}=e,E=Kn()(e,["title","subtitle","children","backLink","backAction","closeLink","closeAction","isMatch","loading","grayModalContentMode","footer","shouldCoverModalPortal","noSlideAnimation","qaSuffix","qaType"]),y=o?{onAction:o}:{linkTo:r},v=s?{onClose:s}:{linkTo:i},O=s?{onAction:s}:{linkTo:i};return l?m.a.createElement(vt.i,{qaType:"location-bt-wizard-".concat(h),noSlideAnimation:f},m.a.createElement(vt.g,c()({noBottomPadding:!!n,subheader:n},v,{primaryAction:(o||r)&&m.a.createElement(w.c,c()({},y,{qaSuffix:"back",size:"large"}))}),t),m.a.createElement(vt.c,{noPadding:!0},m.a.createElement(D.b,{className:nt()(di.a.self,di.a.mobileContent,{[di.a.grayModalContentMode]:d&&!u})},u?m.a.createElement(_a.a,{static:!0}):a)),m.a.createElement(vt.e,null,p&&m.a.createElement(D.b,{className:di.a.footer,flex:"row",shrink:0,justifyContent:"flex-end"},p))):m.a.createElement(li.a,c()({qaType:"location-bt-wizard-".concat(h),flex:"column"},E,{className:nt()(di.a.self,{[di.a.shouldCoverModalPortal]:b})}),m.a.createElement(S.b,null,m.a.createElement(D.b,{flex:"row",justifyContent:"space-between",className:di.a.header},m.a.createElement(w.l,c()({qaSuffix:"back",className:nt()({[di.a.hidden]:!r&&!o}),name:"fresha-arrow-left",size:"big"},y)),m.a.createElement(w.l,c()({qaSuffix:"close",name:"fresha-close"},O,{size:"standard"}))),m.a.createElement(x.b,{className:di.a.container,type:"small",flex:"column",shrink:0},n&&m.a.createElement(D.b,{qaType:"subheader"},n),m.a.createElement(D.b,{qaType:"header",className:di.a.title},t),u?m.a.createElement(_a.a,{static:!0}):a)),p&&m.a.createElement(D.b,{className:di.a.footer,flex:"row",shrink:0,justifyContent:"flex-end"},p))}},d()(ii,"propTypes",{title:h.a.string,subtitle:h.a.string,backLink:h.a.string,backAction:h.a.func,closeLink:h.a.string,closeAction:h.a.func,isMatch:h.a.bool,children:h.a.node,loading:h.a.bool,grayModalContentMode:h.a.bool,noSlideAnimation:h.a.bool,shouldCoverModalPortal:h.a.bool,footer:h.a.node,qaSuffix:h.a.string,qaType:h.a.string}),oi=ci))||oi,mi=n("NcKW"),bi=n.n(mi);class fi extends p.PureComponent{constructor(...e){super(...e),d()(this,"getContent",()=>{var{locationInfo:e,businessTypes:t,onSelect:n,selectedBusinessType:a}=this.props;return m.a.createElement(m.a.Fragment,null,e&&m.a.createElement(m.a.Fragment,null,e,m.a.createElement(si,null)),m.a.createElement(D.b,{className:bi.a.tilesContainer},t.map(e=>m.a.createElement(ni,{selected:e.id===a.id,businessID:e.id,name:e.name,onAction:n,key:e.name}))))})}render(){var{mobile:e,stepConfig:t,fetching:n,onClose:a,noSlideAnimation:r,shouldCoverModalPortal:o,locationInfo:i}=this.props;return m.a.createElement(pi,{title:t.title,subtitle:t.stepInfo,closeAction:a,backAction:t.backAction,loading:n,shouldCoverModalPortal:o,noSlideAnimation:r,qaSuffix:"step1",footer:m.a.createElement(w.f,{qaType:"footer-button-".concat(t.actionBtn.qaSuffix),grow:e?1:0,onAction:t.actionBtn.action},t.actionBtn.text)},!n&&(e?m.a.createElement(D.b,{className:bi.a.self},this.getContent()):m.a.createElement(Hn.d,{rounded:!0,className:nt()(bi.a.self,bi.a.card,{[bi.a.noLocationInfo]:!i})},this.getContent())))}}d()(fi,"propTypes",{mobile:h.a.bool,businessTypes:h.a.arrayOf(h.a.shape(Qo.a.propTypes)),onSelect:h.a.func.isRequired,onClose:h.a.func.isRequired,selectedBusinessType:h.a.shape(Qo.a.propTypes),locationInfo:h.a.node,fetching:h.a.bool,noSlideAnimation:h.a.bool,shouldCoverModalPortal:h.a.bool,stepConfig:h.a.shape({title:h.a.string.isRequired,stepInfo:h.a.string,backAction:h.a.func,actionBtn:h.a.shape({qaSuffix:h.a.string,text:h.a.string,action:h.a.func})})});class hi extends p.PureComponent{render(){var{mobile:e,possibleSecondaryBusinessTypes:t,onSelect:n,selectedSecondaryTypeIds:a,locationInfo:r,fetching:o,stepConfig:i,onClose:c,shouldCoverModalPortal:s,noSlideAnimation:l}=this.props,u=m.a.createElement(m.a.Fragment,null,r&&m.a.createElement(m.a.Fragment,null,r,m.a.createElement(si,null)),m.a.createElement(D.b,{className:bi.a.additionalInfo},m.a.createElement(L.d,{color:"gray-7"},Object(g.e)("NewBusinessTypes","please keep the translation across this translation file consistent for words and phrases like main/additional/business type(s)/type(s)","If your business can be described by more types, choose all that apply below."))),m.a.createElement(D.b,{qaType:"secondary-business-types-section",className:bi.a.tilesContainer},t.map(e=>{var t=a.includes(e.id);return m.a.createElement(ni,{variant:Wo.SECONDARY,selected:t,disabled:!t&&3===a.length,businessID:e.id,name:e.name,onAction:n,key:e.name})})));return m.a.createElement(pi,{title:i.title,subtitle:i.stepInfo,closeAction:c,backAction:i.backAction,loading:o,shouldCoverModalPortal:s,noSlideAnimation:l,qaSuffix:"step2",footer:m.a.createElement(w.f,{qaType:"footer-button-".concat(i.actionBtn.qaSuffix),grow:e?1:0,onAction:i.actionBtn.action,withPending:!0},i.actionBtn.text)},!o&&(e?m.a.createElement(D.b,{className:bi.a.self},u):m.a.createElement(Hn.d,{rounded:!0,className:nt()(bi.a.self,bi.a.card,{[bi.a.noLocationInfo]:!r})},u)))}}d()(hi,"propTypes",{mobile:h.a.bool.isRequired,possibleSecondaryBusinessTypes:h.a.arrayOf(h.a.shape(Qo.a.propTypes)).isRequired,onSelect:h.a.func.isRequired,onClose:h.a.func.isRequired,shouldCoverModalPortal:h.a.bool,locationInfo:h.a.node,selectedSecondaryTypeIds:h.a.arrayOf(h.a.string).isRequired,fetching:h.a.bool,noSlideAnimation:h.a.bool,stepConfig:h.a.shape({title:h.a.string.isRequired,stepInfo:h.a.string,backAction:h.a.func,actionBtn:h.a.shape({qaSuffix:h.a.string,text:h.a.string,action:h.a.func})})});var gi=n("z+78"),Ei=n.n(gi);class yi extends p.PureComponent{render(){var{location:e}=this.props;return m.a.createElement(D.b,{qaType:"location-info",flex:"row",className:Ei.a.self},m.a.createElement(Io.c,{locationId:String(e.id),size:Io.e.SIZE.DEFAULT}),m.a.createElement(D.b,{flex:"column",className:Ei.a.textContainer},m.a.createElement(L.d,{qaType:"location-name",className:Ei.a.name},e.name),m.a.createElement(L.d,{qaType:"location-address"},ko(e))))}}d()(yi,"propTypes",{location:h.a.object.isRequired});var vi,Oi,ji,Ti=yi;function Si(){var e=l()(["Save"]);return Si=function(){return e},e}function xi(){var e=l()(["Step 2 of 2"]);return xi=function(){return e},e}function Ci(){var e=l()(["Next"]);return Ci=function(){return e},e}function Ni(){var e=l()(["Step 1 of 2"]);return Ni=function(){return e},e}var wi="please keep the translation across this translation file consistent for words and phrases like main/additional/business type(s)/type(s)";function Ai(e){return e&&e.id?e.id:Ho.a}var Pi=Object(N.g)()(vi=Object(j.b)((e,t)=>{var n=Number(t.match.params.id);return{businessTypes:k.a.getBusinessTypes(e),businessTypesDict:k.a.getBusinessTypeDictByIds(e),initialBusinessTypes:Object(vo.c)(e,n),location:n?Object(vo.e)(e,n):void 0,locationsFetched:!!e.locations.items.length}},{setSelectedBusinessTypes:ho.g,setSelectedBusinessTypesBulk:ho.h})((ji=Oi=class extends p.PureComponent{constructor(e){super(e),d()(this,"getStepConfig",()=>{var e=window.location.pathname.includes(v.c)?1:2;return this.stepConfig[e-1]}),d()(this,"handleSave",()=>{var{selectedPrimaryId:e,selectedSecondaryIds:t}=this.state,{location:n,exitLink:a,onSaveLink:r,onSave:o}=this.props;return this.isBulkEdit?this.props.setSelectedBusinessTypesBulk({primaryId:e,secondaryIds:t}):this.props.setSelectedBusinessTypes({locationId:Ai(n),primaryId:e,secondaryIds:t}),o?o():(this.setState({animateFirstStep:!0,animateLastStep:!0},()=>{Object(et.f)(r||a)}),Object(fo.resolve)())}),d()(this,"handlePrimaryBTTileSelected",e=>{if(e!==this.state.selectedPrimaryId){var t=this.props.businessTypes.filter(t=>t.id!==e);this.setState({selectedPrimaryId:e,selectedSecondaryIds:this.state.selectedSecondaryIds.filter(t=>t!==e),possibleSecondaryBusinessTypes:t})}}),d()(this,"handleClose",()=>{this.setState({animateLastStep:!this.fullWizardMode,animateFirstStep:!this.fullWizardMode},()=>{this.props.onClose?this.props.onClose():Object(et.f)(this.props.exitLink)})}),d()(this,"handleFirstStepGoBack",()=>{this.setState({animateFirstStep:!0},()=>{this.props.firstStepGoBackAction&&this.props.firstStepGoBackAction()})}),d()(this,"handleGoBack",()=>{Object(et.b)(this.primaryBusinessTypeLink)}),d()(this,"handleContinue",()=>{Object(et.c)(this.secondaryBusinessTypesLink)}),d()(this,"handleSecondaryBTTileSelected",(e,t)=>{var{selectedSecondaryIds:n}=this.state;t?this.setState({selectedSecondaryIds:[...n,e]}):this.setState({selectedSecondaryIds:n.filter(t=>t!==e)})}),this.primaryBusinessTypeLink="".concat(e.match.url,"/").concat(v.c),this.secondaryBusinessTypesLink="".concat(e.match.url,"/").concat(v.d),this.isBulkEdit="all"===e.match.params.id,this.state={selectedPrimaryId:null,selectedSecondaryIds:[],possibleSecondaryBusinessTypes:[],animateFirstStep:!(e.fullWizardMode&&e.noLocationInfo),animateLastStep:!1},this.stepConfig=[{title:Object(g.e)("NewBusinessTypes",wi,"Confirm your main business type"),stepInfo:Object(g.c)(Ni()),stepQaType:"step1",backAction:e.firstStepGoBackAction&&this.handleFirstStepGoBack,actionBtn:{qaSuffix:"next",text:Object(g.c)(Ci()),action:this.handleContinue}},{title:Object(g.e)("NewBusinessTypes",wi,"Choose more business types"),stepInfo:Object(g.c)(xi()),stepQaType:"step2",backAction:this.handleGoBack,actionBtn:{qaSuffix:"save",text:Object(g.c)(Si()),action:this.handleSave}}]}static getDerivedStateFromProps(e,t){return!t.selectedPrimaryId&&e.initialBusinessTypes.primaryId?{selectedPrimaryId:e.initialBusinessTypes.primaryId,selectedSecondaryIds:e.initialBusinessTypes.secondaryIds,possibleSecondaryBusinessTypes:e.businessTypes.filter(t=>t.id!==e.initialBusinessTypes.primaryId)}:null}componentDidMount(){Object(et.f)(this.primaryBusinessTypeLink);setTimeout(()=>{this.setState({animateFirstStep:!1})},1e3)}render(){var{isMatch:e,businessTypes:t,businessTypesDict:n,location:a,fetching:r,fullWizardMode:o,noLocationInfo:i}=this.props,{selectedPrimaryId:c,selectedSecondaryIds:s,possibleSecondaryBusinessTypes:l,animateFirstStep:u,animateLastStep:d}=this.state,p=n[c],f=a&&!i&&m.a.createElement(Ti,{location:a}),h=this.getStepConfig();return m.a.createElement(b.d,null,m.a.createElement(b.b,{path:this.primaryBusinessTypeLink,render:()=>m.a.createElement(fi,{businessTypes:t,mobile:e,locationInfo:f,onSelect:this.handlePrimaryBTTileSelected,selectedBusinessType:p,stepConfig:h,fetching:r,noSlideAnimation:!u,shouldCoverModalPortal:!o,onClose:this.handleClose})}),p&&m.a.createElement(b.b,{path:this.secondaryBusinessTypesLink,render:()=>m.a.createElement(hi,{noSlideAnimation:!d,mobile:e,locationInfo:f,possibleSecondaryBusinessTypes:l,selectedSecondaryTypeIds:s,onSelect:this.handleSecondaryBTTileSelected,shouldCoverModalPortal:!o,stepConfig:h,fetching:r,onClose:this.handleClose})}))}},d()(Oi,"propTypes",{isMatch:h.a.bool,businessTypes:h.a.arrayOf(h.a.shape(Qo.a.propTypes)),businessTypesDict:h.a.objectOf(h.a.shape(Qo.a.propTypes)),location:h.a.object,setSelectedBusinessTypes:h.a.func,setSelectedBusinessTypesBulk:h.a.func,onClose:h.a.func,onSave:h.a.func,exitLink:h.a.string.isRequired,onSaveLink:h.a.string,firstStepGoBackAction:h.a.func,fetching:h.a.bool,fullWizardMode:h.a.bool,noLocationInfo:h.a.bool,initialBusinessTypes:h.a.shape(Yo.a),match:h.a.shape({params:h.a.shape({id:h.a.string}).isRequired,url:h.a.string.isRequired,path:h.a.string.isRequired}).isRequired}),vi=ji))||vi)||vi,Ii=n("nuJU"),ki=n.n(Ii),Ri="please keep the translation across this translation file consistent for words and phrases like main/additional/business type(s)/type(s)";class Mi extends p.PureComponent{render(){var{businessTypesIds:e,businessTypesDict:t,updateBusinessTypesLink:n}=this.props,a=t[e.primaryId],r=e.secondaryIds.map(e=>t[e].name).join(", ");return m.a.createElement(D.b,{qaType:"business-types-container",flex:"row",justifyContent:"space-between",className:ki.a.self},m.a.createElement(D.b,{flex:"column"},m.a.createElement(L.d,{qaType:"business-types-header"},Object(g.e)("NewBusinessTypes",Ri,"Business types")),m.a.createElement(L.d,{qaType:"business-types-primary",className:ki.a.values},Object(g.e)("NewBusinessTypes",Ri,"Main"),": ".concat(a.name)),!!r.length&&m.a.createElement(L.d,{qaType:"business-types-secondary",className:ki.a.values},Object(g.e)("NewBusinessTypes",Ri,"Additional"),": ".concat(r))),m.a.createElement(w.n,{qaType:"business-types-update",linkTo:n},m.a.createElement(L.d,{className:ki.a.values,type:"link"},Object(g.d)("NewBusinessTypes","Update"))))}}d()(Mi,"propTypes",{businessTypesIds:h.a.shape(Yo.a).isRequired,businessTypesDict:h.a.objectOf(h.a.shape(Qo.a.propTypes)).isRequired,updateBusinessTypesLink:h.a.string.isRequired});var Li,Di,qi,Bi=n("EfMt"),Fi=n.n(Bi);function Gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gi(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _i(){var e=l()(["Zip Code"]);return _i=function(){return e},e}function zi(){var e=l()(["State"]);return zi=function(){return e},e}function Vi(){var e=l()(["City"]);return Vi=function(){return e},e}function Qi(){var e=l()(["City"]);return Qi=function(){return e},e}function Yi(){var e=l()(["Apt, Suite, Bldg. (optional)"]);return Yi=function(){return e},e}function Hi(){var e=l()(["Street address"]);return Hi=function(){return e},e}function Wi(){var e=l()(["Street address"]);return Wi=function(){return e},e}function Ji(){var e=l()(["Replies to client appointment notifications will go to this email."]);return Ji=function(){return e},e}function Ki(){var e=l()(["Contact email"]);return Ki=function(){return e},e}function Zi(){var e=l()(["Contact number"]);return Zi=function(){return e},e}function Xi(){var e=l()(["Location name"]);return Xi=function(){return e},e}function $i(){var e=l()(["Location name"]);return $i=function(){return e},e}var ec,tc,nc,ac={LOCATION_NAME:{name:"name",label:Object(g.c)($i()),validate:G.kb.required(Object(g.c)(Xi())),className:Fi.a.fullWidth},PHONE:{name:"phone",label:Object(g.c)(Zi()),className:Fi.a.fullWidth},EMAIL:{name:"email",label:Object(g.c)(Ki()),validate:G.kb.email(),hint:Object(g.c)(Ji()),className:Fi.a.fullWidth},ADDRESS:{name:"address",label:Object(g.c)(Wi()),validate:G.kb.required(Object(g.c)(Hi())),className:Fi.a.fullWidth},ADDRESS_DETAILS:{name:"addressDetails",label:Object(g.c)(Yi()),className:Fi.a.fullWidth},CITY:{name:"city",label:Object(g.c)(Qi()),validate:G.kb.required(Object(g.c)(Vi())),className:Fi.a.fullWidth},STATE:{name:"state",label:Object(g.c)(zi()),className:Fi.a.leftColumn},ZIP_CODE:{name:"zipCode",label:Object(g.c)(_i()),className:Fi.a.rightColumn}},rc=Object(G.q)({form:"location-profile-edit"})((qi=Di=class extends p.PureComponent{constructor(...e){super(...e),d()(this,"onGeocode",(e={})=>{var{change:t}=this.props;t(ac.ADDRESS.name,e.address),t(ac.CITY.name,e.city),t(ac.STATE.name,e.state),t(ac.ZIP_CODE.name,e.zipCode)})}render(){var{isMatch:e,businessTypesInfo:t}=this.props;return m.a.createElement(D.b,{className:Fi.a.self},m.a.createElement(M.s,ac.LOCATION_NAME),m.a.createElement(yn.b,{flags:"secondaryBusinessTypesEnabled"},t),m.a.createElement(M.s,ac.PHONE),m.a.createElement(M.i,ac.EMAIL),m.a.createElement(M.j,c()({},ac.ADDRESS,{onGeocode:this.onGeocode})),m.a.createElement(M.s,ac.ADDRESS_DETAILS),m.a.createElement(M.s,ac.CITY),m.a.createElement(D.b,{flex:e?void 0:"row",wrap:"wrap"},m.a.createElement(M.s,ac.STATE),m.a.createElement(M.s,ac.ZIP_CODE)))}},d()(Di,"propTypes",Ui(Ui({},G.Q),{},{businessTypesInfo:h.a.node})),Li=qi))||Li;function oc(){var e=l()(["Save"]);return oc=function(){return e},e}function ic(){var e=l()(["New Location"]);return ic=function(){return e},e}function cc(){var e=l()(["Edit Location"]);return cc=function(){return e},e}function sc(){var e=l()(["Location"]);return sc=function(){return e},e}function lc(){var e=l()(["Location"]);return lc=function(){return e},e}function uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function dc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uc(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pc,mc,bc,fc=Object(N.g)()(ec=Object(j.b)((e,t)=>{var n=parseInt(Zt()(t,"match.params.id"),10);return{displayedBusinessTypes:Object(vo.c)(e,n),businessTypesDict:k.a.getBusinessTypeDictByIds(e),location:Object(vo.d)(e,n)||{email:k.a.getProfile(e).email}}},e=>({submitForm:()=>e(Object(G.hb)("location-profile-edit")),clearAllSelectedBusinessTypes:t=>e(Object(ho.a)(t)),createOrUpdateLocation:t=>e(Object(P.a)(t))}))((nc=tc=class extends p.PureComponent{constructor(...e){super(...e),d()(this,"state",{isSubmitting:!1}),d()(this,"handleClose",()=>{Object(et.b)(v.r,!0)}),d()(this,"handleUpdateLocation",e=>{if(!this.state.isSubmitting){var t=dc(dc({},e),{},{primaryBusinessTypeId:this.props.displayedBusinessTypes.primaryId,secondaryBusinessTypeIds:this.props.displayedBusinessTypes.secondaryIds});this.setState({isSubmitting:!0},()=>this.props.createOrUpdateLocation(t).then(()=>{this.handleClose(),this.props.location.id?I.a.addUpdatedToast(Object(g.c)(lc())):I.a.addCreatedToast(Object(g.c)(sc()))}).catch(()=>{this.setState({isSubmitting:!1})}))}})}componentWillUnmount(){this.props.clearAllSelectedBusinessTypes()}render(){var{isMatch:e,location:t,businessTypesDict:n,displayedBusinessTypes:a,fetching:r,match:o}=this.props,{isSubmitting:i}=this.state,s=Number(this.props.match.params.id);return m.a.createElement(De.a,null,m.a.createElement(vt.i,{qaType:s?"modal-edit-location":"modal-new-location"},m.a.createElement(vt.g,{subheader:e,onClose:this.handleClose},s?Object(g.c)(cc()):Object(g.c)(ic())),m.a.createElement(vt.c,{noPadding:e},m.a.createElement(_a.a,{if:r},!r&&m.a.createElement(rc,{businessTypesInfo:m.a.createElement(Mi,{businessTypesDict:n,updateBusinessTypesLink:s?v.kb(s):v.B,businessTypesIds:a}),isMatch:e,initialValues:t,onSubmit:this.handleUpdateLocation}))),m.a.createElement(vt.e,null,m.a.createElement(w.f,{onAction:this.props.submitForm,isPending:i,alignSelf:"stretch",qaType:"location-save"},Object(g.c)(oc())))),m.a.createElement(b.d,null,m.a.createElement(b.b,{path:v.A,render:e=>m.a.createElement(Pi,c()({fetching:r,exitLink:o.url},e))}),m.a.createElement(b.b,{path:v.y,render:e=>m.a.createElement(Pi,c()({fetching:r,exitLink:o.url},e))})))}},d()(tc,"propTypes",{location:h.a.object,isMatch:h.a.bool,fetching:h.a.bool.isRequired,createOrUpdateLocation:h.a.func,submitForm:h.a.func,clearAllSelectedBusinessTypes:h.a.func,displayedBusinessTypes:h.a.shape(Yo.a),businessTypesDict:h.a.objectOf(h.a.shape(Qo.a.propTypes)),match:h.a.shape({url:h.a.string.isRequired,params:h.a.shape({id:h.a.string}).isRequired}).isRequired}),ec=nc))||ec)||ec;function hc(){var e=l()(["Locations with future appointments cannot be deleted."]);return hc=function(){return e},e}function gc(){var e=l()(["Location"]);return gc=function(){return e},e}function Ec(){var e=l()(["Delete Location"]);return Ec=function(){return e},e}function yc(){var e=l()(["location"]);return yc=function(){return e},e}var vc,Oc,jc,Tc=Object(g.c)(yc()),Sc=Object(g.c)(Ec()),xc=Object(j.b)((e,t)=>({id:parseInt(Zt()(t,"match.params.id"),10)}),{destroyLocation:P.f})((bc=mc=class extends p.PureComponent{constructor(...e){super(...e),d()(this,"state",{isSubmitting:!1}),d()(this,"deleteLocation",()=>{var{id:e}=this.props;this.setState({isSubmitting:!0},()=>{this.props.destroyLocation(e,{legacy:!1}).then(()=>{I.a.addDeletedToast(Object(g.c)(gc()))}).catch(()=>{I.a.addGlobalErrorToast(Object(g.c)(hc()))}).finally(()=>{this.setState({isSubmitting:!1}),Object(et.b)(v.r)})})}),d()(this,"goBack",()=>{Object(et.b)(v.lb(this.props.id))})}render(){var{isSubmitting:e}=this.state;return m.a.createElement(Xt.a,{name:Tc,header:Sc,isFetching:e,onConfirm:this.deleteLocation,onCancel:this.goBack})}},d()(mc,"propTypes",{destroyLocation:h.a.func,id:h.a.number}),pc=bc))||pc,Cc=n("TSDZ");function Nc(){var e=l()(["New location"]);return Nc=function(){return e},e}var wc=Object(j.b)(e=>({locations:Object(vo.f)(e)}))(vc=Object(b.f)((jc=Oc=class extends p.PureComponent{constructor(...e){super(...e),d()(this,"menuActions",[{id:"new-location",tooltip:Object(g.c)(Nc()),onAction:this.props.handleNew,content:m.a.createElement(F.b,{name:"plus"})}])}render(){var{locations:e,handleEdit:t,handleDelete:n,makeApiCalls:a,match:r}=this.props;return m.a.createElement(ot.a,{makeApiCalls:a},m.a.createElement(yn.b,{flags:"secondaryBusinessTypesEnabled"},({secondaryBusinessTypesEnabled:a})=>m.a.createElement(D.b,null,e.map(e=>m.a.createElement(st.a,{key:e.id,title:e.name,subtitle:m.a.createElement(m.a.Fragment,null,m.a.createElement(D.b,{qaType:"location-address"},"".concat(e.address,", ").concat(e.city)),a?m.a.createElement(D.b,{qaType:"location-business-types"},Ro(e)):null),titleQaType:"location-name",subtitleQaType:"location-subtitle",prefix:m.a.createElement(Io.c,{locationId:String(e.id)}),handleEdit:()=>{t(e.id)},handleDelete:()=>{n(e.id)},onAction:()=>{t(e.id)}})),r.isExact&&m.a.createElement(rt.a,{actions:this.menuActions,hideOnDesktop:!0,inModal:!0}))))}},d()(Oc,"propTypes",{locations:h.a.arrayOf(h.a.object),handleEdit:h.a.func,handleDelete:h.a.func,handleNew:h.a.func,makeApiCalls:h.a.func.isRequired,match:h.a.shape({isExact:h.a.bool})}),vc=jc))||vc)||vc,Ac=n("3dCT"),Pc=n.n(Ac);function Ic(){var e=l()(["Manage Location Order"]);return Ic=function(){return e},e}class kc extends p.Component{constructor(...e){super(...e),d()(this,"goToMobileSorting",()=>{Object(et.c)(v.C)}),d()(this,"handleEdit",e=>{Object(et.c)(v.jb(e))}),d()(this,"handleDelete",e=>{Object(et.c)(v.fb(e))}),d()(this,"handleNew",()=>{Object(et.c)(v.z)})}render(){return m.a.createElement(A.a,c()({},O.c,{className:Pc.a.self,headerPrimaryAction:m.a.createElement(w.c,{onAction:v.bb,size:"large"}),headerSecondaryAction:m.a.createElement(Cc.f,{icon:Cc.f.ICON.OPTIONS,align:"right",qaType:"options-in-header",className:Pc.a.dropdownButton},m.a.createElement(Cc.c,{onAction:this.goToMobileSorting,qaType:"button-sort"},Object(g.c)(Ic())))}),m.a.createElement(wc,{handleEdit:this.handleEdit,handleDelete:this.handleDelete,handleNew:this.handleNew,makeApiCalls:this.props.makeApiCalls}))}}d()(kc,"propTypes",{makeApiCalls:h.a.func.isRequired});var Rc=n("+Gzo"),Mc=n("6Ox+"),Lc=n("LmBO"),Dc=n.n(Lc),qc="please keep the translation across this translation file consistent for words and phrases like main/additional/business type(s)/type(s)";class Bc extends p.PureComponent{render(){var{mobile:e,location:t}=this.props,n=e?D.b:Hn.d;return m.a.createElement(n,{qaType:"update-location-card-".concat(t.id),className:Dc.a.self,flex:"column"},m.a.createElement(Ti,{location:t}),m.a.createElement(si,null),m.a.createElement(D.b,{flex:"row",alignItems:"center",justifyContent:"space-between",className:Dc.a.row},m.a.createElement(L.d,{className:nt()(Dc.a.text,Dc.a.bold)},Object(g.e)("NewBusinessTypes",qc,"Business types")),m.a.createElement(w.n,{qaType:"update-location-link",inheritFontSize:!0,linkTo:v.eb(t.id)},Object(g.d)("NewBusinessTypes","Update"))),m.a.createElement(D.b,{qaType:"business-types-row-primary",className:nt()(Dc.a.row,Dc.a.grid)},m.a.createElement(D.b,{flex:"row"},!e&&m.a.createElement(F.b,{name:"star-yellow",color:"original",className:nt()(Dc.a.icon,Dc.a.primary)}),m.a.createElement(L.d,{qaType:"business-type-row-header",className:nt()(Dc.a.text,Dc.a.bold)},Object(g.e)("NewBusinessTypes",qc,"Main"))),m.a.createElement(L.d,{qaType:"business-types-primary",className:Dc.a.text},"".concat(t.primaryBusinessType))),!!t.secondaryBusinessTypes.length&&m.a.createElement(D.b,{qaType:"business-types-row-secondary",className:nt()(Dc.a.row,Dc.a.grid)},m.a.createElement(D.b,{flex:"row"},!e&&m.a.createElement(F.b,{name:"dot-blue",color:"original",className:Dc.a.icon}),m.a.createElement(L.d,{qaType:"business-type-row-header",className:nt()(Dc.a.text,Dc.a.bold)},Object(g.e)("NewBusinessTypes",qc,"Additional"))),m.a.createElement(L.d,{qaType:"business-types-secondary",className:Dc.a.text},"".concat(t.secondaryBusinessTypes.join(", ")))))}}d()(Bc,"propTypes",{location:h.a.object.isRequired,mobile:h.a.bool});var Fc,Gc,Uc,_c=Bc;function zc(){var e=l()(["Yes, exit now"]);return zc=function(){return e},e}function Vc(){var e=l()(["Exit now"]);return Vc=function(){return e},e}function Qc(){var e=l()(["Are you sure you want to exit without saving?"]);return Qc=function(){return e},e}var Yc=Object(N.g)()((Uc=Gc=class extends p.PureComponent{render(){var{onClose:e,isMatch:t,onConfirm:n}=this.props,a=Object(g.c)(Qc()),r=m.a.createElement(L.d,{type:"body-1"},a);return m.a.createElement(vt.i,{size:"small"},m.a.createElement(vt.g,{onClose:e,subheader:t&&a,secondaryAction:m.a.createElement(w.e,{onAction:e})},Object(g.c)(Vc())),m.a.createElement(vt.c,{onlyBottomPadding:t},!t&&r),m.a.createElement(vt.e,{noPadding:!0},m.a.createElement(vt.b,null,m.a.createElement(w.g,{qaType:"modal-button-confirm",onAction:n,withPending:!0},Object(g.c)(zc())))))}},d()(Gc,"propTypes",{onClose:h.a.func.isRequired,onConfirm:h.a.func.isRequired,isMatch:h.a.bool}),Fc=Uc))||Fc,Hc=n("D8V0"),Wc=n.n(Hc);function Jc({locationsIds:e}){var t=e.length<=3,n=e.length-3+1,a=t?3:2;return m.a.createElement(D.b,{className:Wc.a.self},e.splice(0,a).map(e=>m.a.createElement(D.b,{className:Wc.a.avatar,key:e},m.a.createElement(Io.c,{locationId:String(e)}))),!t&&m.a.createElement(D.b,{className:Wc.a.avatar},m.a.createElement(D.b,{className:Wc.a.multipleLocationsPlaceholder},m.a.createElement(L.d,null,"+",n))))}Jc.propTypes={locationsIds:h.a.arrayOf(h.a.string)};var Kc=Jc,Zc=n("AfRv"),Xc=n.n(Zc);class $c extends p.PureComponent{render(){var{mobile:e,locationsIds:t}=this.props,n=e?D.b:Hn.d;return m.a.createElement(n,{qaType:"update-all-card",className:Xc.a.self,flex:"row",alignItems:"center",justifyContent:"flex-start"},!e&&m.a.createElement(Kc,{locationsIds:t}),m.a.createElement(D.b,{flex:e?"column":"row",justifyContent:"space-between",alignItems:e?"flex-start":"center",className:Xc.a.textContainer,grow:1},m.a.createElement(L.d,{qaType:"update-all-text",className:Xc.a.text},Object(g.e)("NewBusinessTypes","please keep the translation across this translation file consistent for words and phrases like main/additional/business type(s)/type(s)","Update all locations with the same business types")),m.a.createElement(w.n,{qaType:"update-all-link",shrink:0,inheritFontSize:!0,linkTo:v.eb("all")},Object(g.d)("NewBusinessTypes","Update all"))))}}d()($c,"propTypes",{mobile:h.a.bool,locationsIds:h.a.arrayOf(h.a.string)});var es=$c,ts=n("TtEy"),ns=n("vbKY"),as=n.n(ns);function rs(){Object(et.f)(Rc.z)}class os extends p.PureComponent{componentDidMount(){this.redirectTimeout=window.setTimeout(()=>{rs()},4e3)}componentWillUnmount(){window.clearTimeout(this.redirectTimeout)}render(){return m.a.createElement(ts.a,{qaType:"wizard-confirm-animation",closeAction:rs,shouldCoverModalPortal:!0},m.a.createElement(D.b,{flex:"column",justifyContent:"center",className:as.a.self,grow:1},m.a.createElement(it.a,{icon:m.a.createElement(F.b,{name:"process-completed",size:"placeholder-xbig",animate:!0}),name:Object(g.e)("NewBusinessTypes","please keep the translation across this translation file consistent for words and phrases like main/additional/business type(s)/type(s)","Hooray! Your business types are saved")})))}}var is,cs,ss,ls=n("1Jio"),us=n.n(ls);function ds(){var e=l()(["Save"]);return ds=function(){return e},e}var ps,ms,bs,fs="please keep the translation across this translation file consistent for words and phrases like main/additional/business type(s)/type(s)",hs=Object(N.g)()(is=Object(j.b)(e=>({providerFlags:k.a.getProviderFeatureFlags(e),businessTypes:k.a.getBusinessTypes(e),businessTypesDict:k.a.getBusinessTypeDictByIds(e),locations:Object(vo.g)(e)}),{setSelectedBusinessTypes:ho.g,clearAllSelectedBusinessTypes:ho.a,updateLocationsBusinessTypes:P.m})((ss=cs=class extends p.PureComponent{constructor(...e){super(...e),d()(this,"state",{fetching:!0}),d()(this,"handleSave",()=>this.props.updateLocationsBusinessTypes(this.props.locations).then(()=>Object(et.c)(v.s)).catch(()=>I.a.addGlobalErrorToast(Object(g.e)("NewBusinessTypes",fs,"Business types update failed")))),d()(this,"handleClose",()=>{Object(et.c)("".concat(window.location.pathname,"/").concat("confirm-exit"))}),d()(this,"handleCloseModal",()=>{Object(et.b)(v.t)}),d()(this,"handleExitWithoutSaving",()=>{Mc.b.set(Mc.a.confirmBusinessTypesWizardDismissed,String(Date.now())),Object(et.b)(Rc.z,!0)}),d()(this,"handleGoBackToList",()=>{Object(et.b)(v.t,!0)})}componentDidMount(){this.props.providerFlags.newLocationAddressesEnabled&&Object(P.h)().finally(()=>this.setState({fetching:!1}))}componentWillUnmount(){this.props.clearAllSelectedBusinessTypes()}render(){var{isMatch:e,locations:t,providerFlags:n}=this.props,a=t.map(e=>String(e.id)),r=1===t.length,o=n.newLocationAddressesEnabled?this.state.fetching:this.props.fetching;return m.a.createElement(m.a.Fragment,null,m.a.createElement(D.b,{className:us.a.self},!r&&m.a.createElement(pi,{qaSuffix:"confirm-modal",title:Object(g.e)("NewBusinessTypes",fs,"Confirm business types"),closeAction:this.handleClose,loading:!t.length&&o,grayModalContentMode:!0,noSlideAnimation:!0,footer:m.a.createElement(w.f,{qaType:"wizard-save-button",grow:e?1:0,onAction:this.handleSave,withPending:!0},Object(g.c)(ds()))},m.a.createElement(D.b,{className:us.a.cardsContainer},m.a.createElement(es,{mobile:e,locationsIds:a}),t.map(t=>m.a.createElement(_c,{key:t.id,location:t,mobile:e}))))),m.a.createElement(b.b,{path:v.s,component:os}),m.a.createElement(b.b,{path:"*/".concat("confirm-exit"),render:()=>m.a.createElement(Yc,{onClose:this.handleCloseModal,onConfirm:this.handleExitWithoutSaving})}),!!t.length&&m.a.createElement(b.b,{path:v.u,render:e=>m.a.createElement(Pi,c()({exitLink:Rc.z,onClose:this.handleClose,onSaveLink:!r&&v.t,onSave:r&&this.handleSave,firstStepGoBackAction:!r&&this.handleGoBackToList,fullWizardMode:!0,noLocationInfo:r},e))}))}},d()(cs,"propTypes",{isMatch:h.a.bool,fetching:h.a.bool.isRequired,businessTypes:h.a.arrayOf(h.a.shape(Qo.a.propTypes)),businessTypesDict:h.a.objectOf(h.a.shape(Qo.a.propTypes)),setSelectedBusinessTypes:h.a.func.isRequired,clearAllSelectedBusinessTypes:h.a.func.isRequired,updateLocationsBusinessTypes:h.a.func.isRequired,locations:h.a.array,match:h.a.shape({params:h.a.shape({id:h.a.string}).isRequired,url:h.a.string.isRequired}).isRequired,providerFlags:h.a.object}),is=ss))||is)||is,gs=n("dPz0"),Es=n.n(gs);function ys(){var e=l()(["Save"]);return ys=function(){return e},e}function vs(){var e=l()(["Cancel"]);return vs=function(){return e},e}function Os(){var e=l()(["Manage Locations Order"]);return Os=function(){return e},e}var js,Ts,Ss,xs=Object(j.b)(null,{fetchLocations:ho.e})((bs=ms=class extends p.PureComponent{constructor(...e){super(...e),d()(this,"queuedSortingIdChanges",[]),d()(this,"handleSave",()=>{var e=this.queuedSortingIdChanges.map(({itemId:e,newSortingId:t})=>Object(yo.f)(e,t));return Object(fo.all)(e).then(()=>this.handleClose()).then(()=>this.props.fetchLocations())}),d()(this,"handleClose",()=>{this.props.fetchLocations(),Object(et.b)(v.r)}),d()(this,"handleSortingChange",(e,t)=>{this.queuedSortingIdChanges.push({itemId:e,newSortingId:t})})}render(){return m.a.createElement(De.a,null,m.a.createElement(A.a,{shouldHeaderAnimate:!1,header:Object(g.c)(Os()),withoutAnimation:!0,footerNoPadding:!0,className:Es.a.self,footer:m.a.createElement(w.d,null,m.a.createElement(w.a,{onAction:this.handleClose,grow:1,qaType:"cancel-locations-reorder"},Object(g.c)(vs())),m.a.createElement(w.f,{grow:1,qaType:"submit-locations-reorder",onAction:this.handleSave,alignSelf:"flex-end",withPending:!0},Object(g.c)(ys())))},m.a.createElement(ot.a,{makeApiCalls:this.props.makeApiCalls},m.a.createElement(Vo,{handleBulkSort:this.handleSortingChange,isMatch:!0}))))}},d()(ms,"propTypes",{fetchLocations:h.a.func,makeApiCalls:h.a.func.isRequired}),ps=bs))||ps;function Cs(){var e=l()(["New location"]);return Cs=function(){return e},e}function Ns(){var e=l()(["Back to Setup"]);return Ns=function(){return e},e}var ws,As,Ps,Is=Object(N.g)()(js=Object(j.b)(e=>({businessTypesFetched:!!k.a.getBusinessTypes(e).length,locationProfilesFetched:!!k.a.getLocationProfiles(e).length,permissions:k.a.getCurrentPermissions(e)}),{fetchLocations:ho.e})((Ss=Ts=class extends p.PureComponent{constructor(...e){super(...e),d()(this,"state",{fetching:!0}),d()(this,"makeApiCalls",()=>{this.setState({fetching:!0});var e=[this.props.fetchLocations()];return this.props.businessTypesFetched||e.push(I.a.readBusinessTypesList()),!this.props.locationProfilesFetched&&this.props.permissions[go.a.ONLINE_BOOKING]&&e.push(I.a.readLocationProfilesList()),Object(fo.all)(e).finally(()=>this.setState({fetching:!1}))})}render(){var{isMatch:e}=this.props,{fetching:t}=this.state;return m.a.createElement(De.a,null,e?m.a.createElement(kc,{makeApiCalls:this.makeApiCalls}):m.a.createElement(S.b,{color:"gray-2"},m.a.createElement(x.b,{grow:1,shrink:0,type:"plain"},m.a.createElement(D.b,{flex:"row",justifyContent:"space-between",alignItems:"center"},m.a.createElement(C.a,c()({},O.c,{goBackText:Object(g.c)(Ns()),handleBack:v.bb})),m.a.createElement(w.f,{qaType:"floating-menu-button",onAction:()=>{Object(et.c)(v.z)}},Object(g.c)(Cs()))),m.a.createElement(ot.a,{makeApiCalls:this.makeApiCalls},m.a.createElement(Vo,{isMatch:e,makeApiCalls:this.makeApiCalls})))),m.a.createElement(b.d,null,m.a.createElement(b.b,{path:v.t,render:e=>m.a.createElement(hs,c()({fetching:t},e))}),m.a.createElement(b.b,{path:v.C,render:e=>m.a.createElement(xs,c()({makeApiCalls:this.makeApiCalls},e))}),m.a.createElement(b.b,{path:v.x,render:e=>m.a.createElement(fc,c()({fetching:t},e))}),m.a.createElement(b.b,{path:v.z,render:e=>m.a.createElement(fc,c()({fetching:t},e))}),m.a.createElement(b.b,{path:v.v,component:xc})))}},d()(Ts,"propTypes",{isMatch:h.a.bool,businessTypesFetched:h.a.bool,locationProfilesFetched:h.a.bool,fetchLocations:h.a.func,permissions:h.a.object}),js=Ss))||js)||js;function ks(){var e=l()(["Save"]);return ks=function(){return e},e}function Rs(){var e=l()(["Save"]);return Rs=function(){return e},e}function Ms(){var e=l()(["Drag and drop your business locations to change the order in which they appear."]);return Ms=function(){return e},e}function Ls(){var e=l()(["Edit the order"]);return Ls=function(){return e},e}var Ds=Object(g.c)(Ls()),qs=Object(g.c)(Ms()),Bs=Object(T.matchQueryMediumMax)()((Ps=As=class extends p.PureComponent{constructor(...e){super(...e),d()(this,"queuedSortingIdChanges",[]),d()(this,"handleSave",()=>{var e=this.queuedSortingIdChanges.map(({itemId:e,newSortingId:t})=>Object(yo.f)(e,t));return Object(fo.all)(e).then(()=>this.handleClose())}),d()(this,"handleClose",()=>Object(et.b)(v.r)),d()(this,"handleSortingChange",(e,t)=>{this.queuedSortingIdChanges.push({itemId:e,newSortingId:t})})}renderMobile(){return m.a.createElement(T.ModalFullScreen,null,m.a.createElement(T.ModalFullScreenMobileHeader,{onClose:this.handleClose,title:Ds,subtitle:qs,colorVariant:"transparent"}),m.a.createElement(T.FullScreenModalContent,{mobileLayout:!0},m.a.createElement(ot.a,{makeApiCalls:P.h},m.a.createElement(Vo,{handleBulkSort:this.handleSortingChange,isMediumMax:!0}))),m.a.createElement(T.ModalFullScreenMobileFooter,{buttons:m.a.createElement(T.Button,{variant:"primary",qaType:"save-button",onAction:this.handleSave,withPending:!0},Object(g.c)(Rs()))}))}renderDesktop(){return m.a.createElement(T.ModalFullScreen,null,m.a.createElement(T.ModalFullScreenDesktopHeader,{onClose:this.handleClose,buttons:m.a.createElement(T.Button,{variant:"primary",qaType:"save-button",onAction:this.handleSave,withPending:!0},Object(g.c)(ks())),title:Ds,subtitle:qs}),m.a.createElement(T.FullScreenModalContent,null,m.a.createElement(ot.a,{makeApiCalls:P.h},m.a.createElement(Vo,{handleBulkSort:this.handleSortingChange}))))}render(){return this.props.isMediumMax?this.renderMobile():this.renderDesktop()}},d()(As,"propTypes",{isMediumMax:h.a.bool}),ws=Ps))||ws,Fs=n("V2Jb"),Gs=n.n(Fs);function Us({leftContent:e,rightContent:t}){return m.a.createElement("div",{className:Gs.a.self},m.a.createElement("div",{className:Gs.a.leftContent},e),m.a.createElement("div",{className:Gs.a.rightContent},t))}Us.propTypes={leftContent:h.a.node,rightContent:h.a.node};var _s=Us,zs=n("FvmH"),Vs=n.n(zs);function Qs(){var e=l()(["Offline"]);return Qs=function(){return e},e}function Ys(){var e=l()(["Online"]);return Ys=function(){return e},e}var Hs=Object(j.b)(e=>({countryCode:k.a.getProviderCountryCode(e)}));function Ws({locations:e,countryCode:t}){return m.a.createElement("div",{className:Vs.a.self},e.map(e=>{var n,a,r=jo(jt()(e.address,["buildingNumber","streetName","cityName","district","region1"]),t);return m.a.createElement(T.CardLocation,{key:e.id,image:e.avatar.smallUrl,rating:e.rating,ratingCount:e.ratingCount,name:null===(n=e.basicInfo)||void 0===n?void 0:n.name,address:r,city:null===(a=e.address)||void 0===a?void 0:a.cityName,linkTo:v.lb(e.id),formatRatingText:Co,formatCountText:No,descriptionContent:e.isPublished?m.a.createElement(T.Badge,{color:"green"},Object(g.c)(Ys())):m.a.createElement(T.Badge,{color:"gray"},Object(g.c)(Qs()))})}))}Ws.propTypes={locations:h.a.arrayOf(h.a.object),countryCode:h.a.string.isRequired},Ws.defaultProps={locations:[]};var Js,Ks,Zs,Xs=Hs(Ws);function $s(){var e=l()(["Add new location"]);return $s=function(){return e},e}function el(){var e=l()(["Edit order"]);return el=function(){return e},e}function tl(){var e=l()(["Close"]);return tl=function(){return e},e}function nl(){var e=l()(["Back to Setup"]);return nl=function(){return e},e}function al(){var e=l()(["Edit order"]);return al=function(){return e},e}function rl(){var e=l()(["Close"]);return rl=function(){return e},e}function ol(){var e=l()(["Business locations"]);return ol=function(){return e},e}var il=Object(T.matchQueryMediumMax)()(Js=Object(j.b)(e=>({locations:k.a.getExistingLocationList(e)}))((Zs=Ks=class extends p.PureComponent{renderMobile(){var{locations:e}=this.props;return m.a.createElement(T.ModalFullScreen,{color:"white"},m.a.createElement(T.ModalFullScreenMobileHeader,{onBack:v.bb,title:Object(g.c)(ol()),rightContent:m.a.createElement(T.DropdownMenuIcon,{icon:T.DropdownMenuIcon.ICON.OPTIONS_VERTICAL,iconSize:"16",closeActionText:Object(g.c)(rl())},m.a.createElement(T.DropdownAction,{linkTo:v.C},Object(g.c)(al())))}),m.a.createElement(T.FullScreenModalContent,{mobileLayout:!0},m.a.createElement(ot.a,{makeApiCalls:P.h},m.a.createElement(Xs,{locations:e}))))}renderDesktop(){var{locations:e}=this.props;return m.a.createElement(S.b,{color:"gray-2"},m.a.createElement(x.b,{grow:1,shrink:0,type:"plain"},m.a.createElement(_s,{leftContent:m.a.createElement(T.Link,{onAction:v.bb},Object(g.c)(nl())),rightContent:m.a.createElement(m.a.Fragment,null,m.a.createElement(T.DropdownMenuButton,{closeActionText:Object(g.c)(tl()),icon:"options-vertical",iconSize:"16",qaType:"options-button"},m.a.createElement(T.DropdownAction,{linkTo:v.C},Object(g.c)(el()))),m.a.createElement(T.Button,{linkTo:v.z,variant:"primary",qaType:"floating-menu-button"},Object(g.c)($s())))}),m.a.createElement(ot.a,{makeApiCalls:P.h},m.a.createElement(Xs,{locations:e}))))}render(){return this.props.isMediumMax?this.renderMobile():this.renderDesktop()}},d()(Ks,"propTypes",{isMediumMax:h.a.bool,locations:h.a.arrayOf(h.a.object)}),Js=Zs))||Js)||Js,cl=n("FAYg"),sl=n("5o92"),ll=n("5cA+"),ul=n.n(ll);function dl({label:e,children:t}){return t&&e?m.a.createElement("div",{className:ul.a.self},m.a.createElement(T.Text,{type:"fresha-h5"},e),m.a.createElement(T.Text,{type:"fresha-paragraph"},t)):null}dl.propTypes={label:h.a.string.isRequired,children:h.a.node.isRequired};var pl,ml,bl,fl=dl,hl=n("YOoG"),gl=n.n(hl);function El(){var e=l()(["Delete location"]);return El=function(){return e},e}function yl(){var e=l()(["Close"]);return yl=function(){return e},e}function vl(){var e=l()(["Delete location"]);return vl=function(){return e},e}function Ol(){var e=l()(["Edit location details"]);return Ol=function(){return e},e}function jl(){var e=l()(["Close"]);return jl=function(){return e},e}function Tl(){var e=l()(["View on Fresha"]);return Tl=function(){return e},e}function Sl(){var e=l()(["Company details"]);return Sl=function(){return e},e}function xl(){var e=l()(["Edit"]);return xl=function(){return e},e}function Cl(){var e=l()(["The business location will be displayed on client invoices. Tap 'Edit' to change this. "]);return Cl=function(){return e},e}function Nl(){var e=l()(["Billing details for clients invoice "]);return Nl=function(){return e},e}function wl(){var e=l()(["Add location"]);return wl=function(){return e},e}function Al(){var e=l()(["Business address"]);return Al=function(){return e},e}function Pl(){var e=l()(["Edit"]);return Pl=function(){return e},e}function Il(){var e=l()(["Location"]);return Il=function(){return e},e}function kl(){var e=l()(["Secondary"]);return kl=function(){return e},e}function Rl(){var e=l()(["Main"]);return Rl=function(){return e},e}function Ml(){var e=l()(["Edit"]);return Ml=function(){return e},e}function Ll(){var e=l()(["Business types"]);return Ll=function(){return e},e}function Dl(){var e=l()(["Contact number"]);return Dl=function(){return e},e}function ql(){var e=l()(["Email"]);return ql=function(){return e},e}function Bl(){var e=l()(["Edit"]);return Bl=function(){return e},e}function Fl(){var e=l()(["Contact"]);return Fl=function(){return e},e}var Gl=Object(T.matchQueryMediumMax)()(pl=Object(j.b)((e,t)=>({location:k.a.getLocation(e,t.match.params.id),countryCode:k.a.getProviderCountryCode(e)}))((bl=ml=class extends p.PureComponent{constructor(...e){super(...e),d()(this,"fetchLocationData",()=>{var e=this.props.match.params.id;return Object(P.g)(e)}),d()(this,"handleBack",()=>{Object(et.b)(v.r)})}handleDelete(){Object(et.b)(v.fb(this.props.location.id))}renderBasicInfo(){var e,t,{location:n,isMediumMax:a}=this.props;return m.a.createElement(T.Card,{rounded:!a,noShadow:a,withSections:!0,padding:a?"small":"large"},m.a.createElement(T.CardHeader,{title:Object(g.c)(Fl()),noSeparator:a,suffix:m.a.createElement(T.Link,{linkTo:v.hb(n.id)},Object(g.c)(Bl()))}),m.a.createElement(T.CardSection,null,m.a.createElement(fl,{label:Object(g.c)(ql())},(null===(e=n.basicInfo)||void 0===e?void 0:e.email)&&m.a.createElement(T.Link,{href:"mailto:".concat(n.basicInfo.email)},n.basicInfo.email)),m.a.createElement(fl,{label:Object(g.c)(Dl())},(null===(t=n.basicInfo)||void 0===t?void 0:t.phone)&&m.a.createElement(T.Link,{href:"tel:".concat(n.basicInfo.phone)},n.basicInfo.phone))))}renderBusinessTypes(){var{location:e,isMediumMax:t}=this.props;return m.a.createElement(T.Card,{rounded:!t,noShadow:t,withSections:!0,padding:t?"small":"large"},m.a.createElement(T.CardHeader,{title:Object(g.c)(Ll()),noSeparator:t,suffix:m.a.createElement(T.Link,{linkTo:v.ib(e.id)},Object(g.c)(Ml()))}),m.a.createElement(T.CardSection,null,m.a.createElement(fl,{label:Object(g.c)(Rl())},e.primaryBusinessType),m.a.createElement(fl,{label:Object(g.c)(kl())},e.secondaryBusinessTypes)))}renderLocation(){var e,t,n,a,r,{location:o,countryCode:i,isMediumMax:c}=this.props,s=null===(e=o.address)||void 0===e?void 0:e.latitude,l=null===(t=o.address)||void 0===t?void 0:t.longitude;return m.a.createElement(T.Card,{className:gl.a.locationDetails,rounded:!c,noShadow:c,withSections:!0,padding:c?"small":"large"},m.a.createElement(T.CardHeader,{title:Object(g.c)(Il()),noSeparator:c,suffix:(null===(n=o.address)||void 0===n?void 0:n.providesServicesAtLocation)&&m.a.createElement(T.Link,{linkTo:v.gb(o.id)},Object(g.c)(Pl()))}),m.a.createElement(T.CardSection,null,(null===(a=o.address)||void 0===a?void 0:a.providesServicesAtLocation)?m.a.createElement(m.a.Fragment,null,m.a.createElement(fl,{label:Object(g.c)(Al())},jo(jt()(o.address,["buildingNumber","streetName","postalCode","cityName","district","region1","directions"]),i)),m.a.createElement(T.Map,{className:gl.a.map,apiKey:cl.GMAPS_API_KEY,center:[s,l],height:c?180:240,mapStyles:["noRoads"],rounded:!0,draggable:!1},m.a.createElement(T.MapTooltipPin,{lat:s,lng:l},null===(r=o.basicInfo)||void 0===r?void 0:r.name))):m.a.createElement(T.Link,{className:gl.a.addPricing,linkTo:v.gb(o.id),icon:"plus-circled"},Object(g.c)(wl()))))}renderBillingDetails(){var e,t,n,{location:a,countryCode:r,isMediumMax:o}=this.props;return m.a.createElement(T.Card,{className:gl.a.billingDetails,rounded:!o,noShadow:o,withSections:!0,padding:o?"small":"large"},m.a.createElement(T.CardHeader,{title:Object(g.c)(Nl()),caption:Object(g.c)(Cl()),noSeparator:o,suffix:(null===(e=a.address)||void 0===e?void 0:e.providesServicesAtLocation)&&m.a.createElement(T.Link,{href:v.gb(a.id)},Object(g.c)(xl()))}),m.a.createElement(T.CardSection,null,m.a.createElement(fl,{label:Object(g.c)(Sl())},[null===(t=a.billingDetails)||void 0===t?void 0:t.name,jo(jt()(a.address,["buildingNumber","streetName","postalCode","cityName"]),r),null===(n=a.billingDetails)||void 0===n?void 0:n.notes].filter(Boolean).join("\n"))))}renderRating(){var{location:e}=this.props;return m.a.createElement(T.Rating,{className:gl.a.rating,variant:"large",rating:e.rating,formatRatingText:Co,formatCountText:No,count:e.ratingCount})}renderPreviewButton(){var e,{location:t}=this.props;return t.isOnline&&m.a.createElement(T.Button,{linkTo:Object(sl.a)(Object(sl.b)(null===(e=t.profile)||void 0===e?void 0:e.slug),!0),variant:"secondary"},Object(g.c)(Tl()))}renderMobile(){var e,t,{location:n}=this.props;return m.a.createElement(T.ModalFullScreen,{className:gl.a.self},m.a.createElement(ot.a,{makeApiCalls:this.fetchLocationData},n&&m.a.createElement(m.a.Fragment,null,m.a.createElement(T.ModalFullScreenMobileHeader,{rightContent:m.a.createElement(T.DropdownMenuIcon,{icon:T.DropdownMenuIcon.ICON.OPTIONS_VERTICAL,iconSize:"16",closeActionText:Object(g.c)(jl())},m.a.createElement(T.DropdownAction,{linkTo:v.hb(n.id)},Object(g.c)(Ol())),m.a.createElement(T.DropdownAction,{danger:!0,linkTo:v.fb(this.props.location.id)},Object(g.c)(vl()))),onBack:this.handleBack,title:null===(e=n.basicInfo)||void 0===e?void 0:e.name,contentChildren:m.a.createElement("div",null,this.renderRating(),m.a.createElement("div",{className:gl.a.contactDetails},(null===(t=n.basicInfo)||void 0===t?void 0:t.email)&&m.a.createElement(T.Link,{icon:"mail",iconSize:"14",href:"mailto:".concat(n.basicInfo.email)},n.basicInfo.email),n.basicInfo&&m.a.createElement(T.Link,{icon:"phone",iconSize:"14",href:"tel:".concat(n.basicInfo.phone)},n.basicInfo.phone)),this.renderPreviewButton())}),m.a.createElement(T.FullScreenModalContent,{className:gl.a.content},this.renderBusinessTypes(),this.renderLocation(),this.renderBillingDetails()))))}renderDesktop(){var e,{location:t}=this.props;return m.a.createElement(S.b,{color:"gray-2",className:gl.a.self},m.a.createElement(x.b,{grow:1,shrink:0,type:"plain"},m.a.createElement(ot.a,{makeApiCalls:this.fetchLocationData},t&&m.a.createElement(m.a.Fragment,null,m.a.createElement(_s,{leftContent:m.a.createElement("div",{className:gl.a.locationNameArea},m.a.createElement(T.ActionIcon,{name:"navigation-24-arrows-left",onAction:this.handleBack}),m.a.createElement(T.Text,{type:"fresha-h2"},null===(e=t.basicInfo)||void 0===e?void 0:e.name),this.renderRating()),rightContent:m.a.createElement(m.a.Fragment,null,m.a.createElement(T.DropdownMenuButton,{closeActionText:Object(g.c)(yl()),icon:"options-vertical",iconSize:"16"},m.a.createElement(T.DropdownAction,{danger:!0,linkTo:v.fb(this.props.location.id)},Object(g.c)(El()))),this.renderPreviewButton())}),m.a.createElement("div",{className:gl.a.content},this.renderBasicInfo(),this.renderBusinessTypes(),this.renderLocation(),this.renderBillingDetails())))))}render(){return this.props.isMediumMax?this.renderMobile():this.renderDesktop()}},d()(ml,"propTypes",{isMediumMax:h.a.bool,location:h.a.arrayOf(h.a.object),match:h.a.object,countryCode:h.a.string}),pl=bl))||pl)||pl,Ul=n("HTL0");function _l(){var e=l()(["Email"]);return _l=function(){return e},e}function zl(){var e=l()(["Contact number"]);return zl=function(){return e},e}function Vl(){var e=l()(["Location name"]);return Vl=function(){return e},e}var Ql=Object(g.c)(Vl()),Yl=[G.kb.maxLength(60),G.kb.required(Ql)],Hl=G.kb.requiredPhoneNumber(),Wl=[G.kb.required(),G.kb.email()],Jl="name",Kl="email",Zl="phone",Xl=Object(G.bb)("locationForm");var $l,eu,tu,nu=T.ReduxForm.default("locationForm")((function(){return m.a.createElement(T.GridLayout,{columnCount:3},m.a.createElement(T.GridItem,{colspan:2,colspanMobile:3},m.a.createElement(T.GridLayout,{columnCount:1},m.a.createElement(T.GridItem,null,m.a.createElement(T.ReduxForm.TextField,{name:Jl,label:Ql,validate:Yl,maxLength:60,noMargin:!0})),m.a.createElement(T.GridItem,null,m.a.createElement(T.ReduxForm.PhoneNumberField,{name:Zl,label:Object(g.c)(zl()),validate:Hl,noMargin:!0})),m.a.createElement(T.GridItem,null,m.a.createElement(T.ReduxForm.TextField,{name:Kl,label:Object(g.c)(_l()),validate:Wl,noMargin:!0})))))}));function au(){var e=l()(["Save"]);return au=function(){return e},e}function ru(){var e=l()(["Contact details updated"]);return ru=function(){return e},e}function ou(){var e=l()(["About your business"]);return ou=function(){return e},e}var iu=Object(g.c)(ou()),cu=Object(T.matchQueryMediumMax)()($l=Object(j.b)((e,t)=>{var n=t.match.params.id;return{locationId:n,location:k.a.getLocation(e,n),isSubmitting:Xl(e)}},{submitForm:()=>Object(G.hb)("locationForm")})((tu=eu=class extends p.PureComponent{constructor(...e){super(...e),d()(this,"fetchLocationData",()=>Object(P.g)(this.props.locationId)),d()(this,"handleClose",()=>Object(et.b)(v.lb(this.props.locationId))),d()(this,"handleSave",()=>this.props.submitForm()),d()(this,"onSubmit",e=>{var{locationId:t}=this.props;return I.a.updateLocation(t,Ul.a.locationUpdateRequest({locationBasicInfo:e})).then(()=>{I.a.addGlobalSuccessToast(Object(g.c)(ru())),Object(et.f)(v.lb(t))}).catch(()=>I.a.addErrorToast())}),d()(this,"renderForm",()=>{var e,t,n,{location:a}=this.props;return a&&m.a.createElement(nu,{onSubmit:this.onSubmit,initialValues:{[Jl]:null===(e=a.basicInfo)||void 0===e?void 0:e.name,[Zl]:null===(t=a.basicInfo)||void 0===t?void 0:t.phone,[Kl]:null===(n=a.basicInfo)||void 0===n?void 0:n.email}})})}renderSaveButton(){return m.a.createElement(T.Button,{variant:"primary",onAction:this.handleSave,isPending:this.props.isSubmitting},Object(g.c)(au()))}renderMobile(){return m.a.createElement(T.ModalFullScreen,{color:"white"},m.a.createElement(T.ModalFullScreenMobileHeader,{onClose:this.handleClose,title:iu}),m.a.createElement(ot.a,{makeApiCalls:this.fetchLocationData},m.a.createElement(T.FullScreenModalContent,{mobileLayout:!0},this.renderForm()),m.a.createElement(T.ModalFullScreenMobileFooter,{buttons:this.renderSaveButton()})))}renderDesktop(){return m.a.createElement(T.ModalFullScreen,null,m.a.createElement(ot.a,{makeApiCalls:this.fetchLocationData},m.a.createElement(T.ModalFullScreenDesktopHeader,{onClose:this.handleClose,buttons:this.renderSaveButton(),title:iu}),m.a.createElement(T.FullScreenModalContent,null,m.a.createElement(T.Card,{rounded:!0,withSections:!0,padding:"large"},m.a.createElement(T.CardSection,null,this.renderForm())))))}render(){return this.props.isMediumMax?this.renderMobile():this.renderDesktop()}},d()(eu,"propTypes",{isMediumMax:h.a.bool,locationId:h.a.string.isRequired,location:h.a.object.isRequired,submitForm:h.a.func.isRequired,isSubmitting:h.a.bool.isRequired}),$l=tu))||$l)||$l;class su extends p.PureComponent{render(){return m.a.createElement(m.a.Fragment,null,m.a.createElement(b.d,null,m.a.createElement(b.b,{path:v.r,component:il,exact:!0}),m.a.createElement(b.b,{path:v.t,component:hs}),m.a.createElement(b.b,{path:v.C,component:Bs}),m.a.createElement(b.b,{path:v.w,component:cu}),m.a.createElement(b.b,{path:v.D,component:Gl}),m.a.createElement(b.a,{to:v.r})),m.a.createElement(b.b,{path:v.v,component:xc}))}}function lu(){var e=l()(["Setup"]);return lu=function(){return e},e}function uu(){var e=l()(["Business locations"]);return uu=function(){return e},e}class du extends p.PureComponent{render(){return m.a.createElement(De.a,null,m.a.createElement(yn.b,{flags:"newLocationAddressesEnabled"},({newLocationAddressesEnabled:e})=>e?m.a.createElement(m.a.Fragment,null,m.a.createElement(E.d,{title:Object(g.c)(uu())}),m.a.createElement(su,this.props)):m.a.createElement(m.a.Fragment,null,m.a.createElement(E.d,{title:Object(g.c)(lu())}),m.a.createElement(Is,this.props))))}}var pu=n("m/AS"),mu=n("Vows"),bu=n("6kH+"),fu=({isMatch:e,title:t,heading:n,children:a,className:r})=>e?m.a.createElement(D.b,{className:r},m.a.createElement(bu.b,{label:t,sublabel:n}),a):m.a.createElement(pu.c,{title:t,heading:n,cardClassName:r},a);fu.propTypes={children:h.a.node,isMatch:h.a.bool,title:h.a.string,heading:h.a.oneOfType([h.a.string,h.a.object]),className:h.a.string};var hu,gu,Eu,yu=fu;function vu(){var e=l()(["Staff Notifications"]);return vu=function(){return e},e}function Ou(){var e=l()(["Online Booking Notifications"]);return Ou=function(){return e},e}function ju(){var e=l()(["Receive emails about online booking activity"]);return ju=function(){return e},e}function Tu(){var e=l()(["Online Booking Settings"]);return Tu=function(){return e},e}function Su(){var e=l()(["Manage your online booking availability and settings"]);return Su=function(){return e},e}function xu(){var e=l()(["Resources"]);return xu=function(){return e},e}function Cu(){var e=l()(["Set up bookable resources such as rooms, chairs or equipment"]);return Cu=function(){return e},e}function Nu(){var e=l()(["Locations"]);return Nu=function(){return e},e}function wu(){var e=l()(["Manage multiple outlets for your business"]);return wu=function(){return e},e}function Au(){var e=l()(["Account Settings"]);return Au=function(){return e},e}function Pu(){var e=l()(["Manage settings such as your business name and time zone"]);return Pu=function(){return e},e}function Iu(){var e=l()(["Account Setup"]);return Iu=function(){return e},e}var ku,Ru,Mu,Lu=Object(j.b)(e=>({freshaSetting:k.a.getFreshaSetting(e)}))((Eu=gu=class extends p.PureComponent{render(){var{ElementComponent:e,isMatch:t,freshaSetting:n}=this.props;return m.a.createElement(y.b,{keys:go.a.BUSINESS_SETTINGS},m.a.createElement(yu,{isMatch:t,title:Object(g.c)(Iu())},m.a.createElement(e,{linkTo:v.a,leftLabel:Object(g.c)(Pu())},Object(g.c)(Au())),m.a.createElement(e,{linkTo:v.r,leftLabel:Object(g.c)(wu())},Object(g.c)(Nu())),m.a.createElement(e,{linkTo:v.K,leftLabel:Object(g.c)(Cu())},Object(g.c)(xu())),m.a.createElement(yn.b,{flags:"marketplaceEnabled"},({marketplaceEnabled:t})=>t?null:m.a.createElement(e,{qaType:"account-setup-online-booking",linkTo:v.G,leftLabel:Object(g.c)(Su())},Object(g.c)(Tu()))),n!==z.d.DISABLED?null:m.a.createElement(e,{linkTo:n===z.d.DISABLED?v.H:v.M,leftLabel:Object(g.c)(ju())},n===z.d.DISABLED?Object(g.c)(Ou()):Object(g.c)(vu()))))}},d()(gu,"propTypes",{isMatch:h.a.bool,freshaSetting:h.a.oneOf(Object.values(z.d)),ElementComponent:h.a.oneOfType([h.a.node,h.a.func])}),hu=Eu))||hu,Du=n("ayLq"),qu=n("EJrE"),Bu=n("A3rP"),Fu=n("7+9c"),Gu=n("sDnx"),Uu=n("L3z+"),_u=n("510Z"),zu=n.p+"fab4dec797e8faa8a8562abb8a259964.png",Vu=n("0l7G"),Qu=n.n(Vu);function Yu(){var e=l()(["Tips settings"]);return Yu=function(){return e},e}function Hu(){var e=l()(["Manage tipping settings for your business."]);return Hu=function(){return e},e}function Wu(){var e=l()(["Billing Details"]);return Wu=function(){return e},e}function Ju(){var e=l()(["Set your payment method and details displayed on invoices issued to you"]);return Ju=function(){return e},e}function Ku(){var e=l()(["Billing Activity"]);return Ku=function(){return e},e}function Zu(){var e=l()(["View your billing statements and detailed transaction history"]);return Zu=function(){return e},e}function Xu(){var e=l()(["Client Messages"]);return Xu=function(){return e},e}function $u(){var e=l()(["Review messages sent to clients about their appointments"]);return $u=function(){return e},e}function ed(){var e=l()(["Card Processing"]);return ed=function(){return e},e}function td(){var e=l()(["Set up your bank account to receive funds from client cards"]);return td=function(){return e},e}function nd(){var e=l()(["Marketing"]);return nd=function(){return e},e}function ad(){var e=l()(["Boost sales and fill your calendar with intelligent marketing tools"]);return ad=function(){return e},e}function rd(){var e=l()(["Online Booking"]);return rd=function(){return e},e}function od(){var e=l()(["Adjust your business info and profile images displayed online"]);return od=function(){return e},e}function id(){var e=l()(["learn more"]);return id=function(){return e},e}function cd(){var e=l()(["learn more"]);return cd=function(){return e},e}function sd(){var e=l()(["Fresha Plus"]);return sd=function(){return e},e}function ld(){var e=l()(["Fresha Plus"]);return ld=function(){return e},e}var ud=(e,t)=>!(t&&!t.includes(e)),dd=Object(j.b)(e=>({freshaSetting:k.a.getFreshaSetting(e),isReshedulEnabled:k.a.isReshedulEnabled(e)}))((Mu=Ru=class extends p.PureComponent{render(){var{isMatch:e,freshaSetting:t,ElementComponent:n,isReshedulEnabled:a}=this.props;if(!ud(t,Du.VALID_FRESHA_SETTINGS))return null;var r=m.a.createElement(D.b,{flex:"row",className:Qu.a.header,qaType:"fresha-plus-setup"},m.a.createElement(D.b,{flex:"column",basis:e?"60%":"65%"},a?m.a.createElement(T.Text,{className:Qu.a.title,type:"fresha-h3"},Object(g.c)(ld())):m.a.createElement(L.d,{className:Qu.a.title},Object(g.c)(sd())),a?m.a.createElement(T.Text,{type:"fresha-caption",color:"gray100"},Object(g.c)("Attract and retain clients, boost sales, and elevate your business with a bundle of powerful tools, %{learnMore}.",{learnMore:m.a.createElement(w.n,{key:"learnMore",linkTo:Uu.OVERVIEW_URL,inheritFontSize:!0},Object(g.c)(cd()))})):m.a.createElement(L.d,null,Object(g.c)("Attract and retain clients, boost sales, and elevate your business with a bundle of powerful tools, %{learnMore}.",{learnMore:m.a.createElement(w.n,{key:"learnMore",linkTo:Uu.OVERVIEW_URL,inheritFontSize:!0},Object(g.c)(id()))}))),m.a.createElement(_u.a,{src:zu,className:Qu.a.image}));return m.a.createElement(m.a.Fragment,null,m.a.createElement(yu,{className:Qu.a.self,isMatch:e,heading:r},m.a.createElement(y.b,Bu.PERMISSIONS,m.a.createElement(n,{qaType:"fresha-plus-setup-online-booking",linkTo:Bu.ROOT_URL,leftLabel:Object(g.c)(od())},Object(g.c)(rd()))),m.a.createElement(y.b,Gu.PERMISSIONS,m.a.createElement(n,{qaType:"fresha-plus-setup-marketing",linkTo:Gu.ROOT_URL,leftLabel:Object(g.c)(ad())},Object(g.c)(nd()))),ud(t,Fu.VALID_FRESHA_SETTINGS)&&m.a.createElement(y.b,Fu.PERMISSIONS,m.a.createElement(n,{qaType:"fresha-plus-setup-card-processing",linkTo:Fu.ROOT_URL,leftLabel:Object(g.c)(td())},Object(g.c)(ed()))),m.a.createElement(y.b,qu.PERMISSIONS,m.a.createElement(n,{qaType:"fresha-plus-setup-notifications",linkTo:qu.ROOT_URL,leftLabel:Object(g.c)($u())},Object(g.c)(Xu()))),ud(t,[z.d.PAYMENTS_ENABLED])&&m.a.createElement(y.b,{keys:go.a.EDIT_BILLING_INFO},m.a.createElement(n,{qaType:"fresha-plus-setup-billing-activity",linkTo:Uu.BILLING_ACTIVITY_URL,leftLabel:Object(g.c)(Zu())},Object(g.c)(Ku())),m.a.createElement(n,{qaType:"fresha-plus-setup-billing-details",linkTo:Uu.BILLING_DETAILS_URL,leftLabel:Object(g.c)(Ju())},Object(g.c)(Wu()))),ud(t,[z.d.PAYMENTS_ENABLED])&&m.a.createElement(n,{linkTo:v.R,leftLabel:Object(g.c)(Hu())},Object(g.c)(Yu()))))}},d()(Ru,"propTypes",{history:h.a.object,isMatch:h.a.bool,isReshedulEnabled:h.a.bool,freshaSetting:h.a.oneOf(Object.values(z.d)),ElementComponent:h.a.oneOfType([h.a.node,h.a.func])}),ku=Mu))||ku;function pd(){var e=l()(["Sales Settings"]);return pd=function(){return e},e}function md(){var e=l()(["Manage the default voucher expiry period and staff commissions"]);return md=function(){return e},e}function bd(){var e=l()(["Discount Types"]);return bd=function(){return e},e}function fd(){var e=l()(["Set up manual discount types for use during checkout"]);return fd=function(){return e},e}function hd(){var e=l()(["Payment Types"]);return hd=function(){return e},e}function gd(){var e=l()(["Set up manual payment types for use during checkout"]);return gd=function(){return e},e}function Ed(){var e=l()(["Taxes"]);return Ed=function(){return e},e}function yd(){var e=l()(["Manage tax rates that apply to items sold at checkout"]);return yd=function(){return e},e}function vd(){var e=l()(["Invoices & Receipts"]);return vd=function(){return e},e}function Od(){var e=l()(["Configure details displayed on invoices issued to your clients"]);return Od=function(){return e},e}function jd(){var e=l()(["Invoice Sequencing"]);return jd=function(){return e},e}function Td(){var e=l()(["Set custom prefixes and number sequence for invoices"]);return Td=function(){return e},e}function Sd(){var e=l()(["Invoice Template"]);return Sd=function(){return e},e}function xd(){var e=l()(["Configure details displayed on invoices issued to your clients"]);return xd=function(){return e},e}function Cd(){var e=l()(["Point of Sale"]);return Cd=function(){return e},e}class Nd extends p.PureComponent{render(){var{ElementComponent:e,isMatch:t}=this.props;return m.a.createElement(y.b,{keys:go.a.POINT_OF_SALE_SETTINGS},m.a.createElement(yu,{isMatch:t,title:Object(g.c)(Cd())},m.a.createElement(yn.b,{flags:"newAccountSetupEnabled"},({newAccountSetupEnabled:t})=>t?m.a.createElement(p.Fragment,null,m.a.createElement(e,{linkTo:v.n,leftLabel:Object(g.c)(xd())},Object(g.c)(Sd())),m.a.createElement(e,{linkTo:v.q,leftLabel:Object(g.c)(Td())},Object(g.c)(jd()))):m.a.createElement(e,{linkTo:v.n,leftLabel:Object(g.c)(Od())},Object(g.c)(vd()))),m.a.createElement(e,{linkTo:v.O,leftLabel:Object(g.c)(yd())},Object(g.c)(Ed())),m.a.createElement(e,{linkTo:v.I,leftLabel:Object(g.c)(gd())},Object(g.c)(hd())),m.a.createElement(e,{linkTo:v.h,leftLabel:Object(g.c)(fd())},Object(g.c)(bd())),m.a.createElement(e,{linkTo:v.L,leftLabel:Object(g.c)(md())},Object(g.c)(pd()))))}}d()(Nd,"propTypes",{isMatch:h.a.bool,ElementComponent:h.a.oneOfType([h.a.node,h.a.func])});var wd,Ad,Pd,Id=n("w++u");function kd(){var e=l()(["Cancellation Reasons"]);return kd=function(){return e},e}function Rd(){var e=l()(["Track why clients did not arrive for their appointments"]);return Rd=function(){return e},e}function Md(){var e=l()(["Client Notifications Settings"]);return Md=function(){return e},e}function Ld(){var e=l()(["Manage messages which send to clients about their appointments"]);return Ld=function(){return e},e}function Dd(){var e=l()(["Referral Sources"]);return Dd=function(){return e},e}function qd(){var e=l()(["Set up custom sources to track how clients found your business"]);return qd=function(){return e},e}function Bd(){var e=l()(["Client Settings"]);return Bd=function(){return e},e}class Fd extends p.PureComponent{render(){var{ElementComponent:e,isMatch:t}=this.props;return m.a.createElement(y.b,{keys:go.a.CLIENT_SETTINGS},m.a.createElement(yu,{isMatch:t,title:Object(g.c)(Bd())},m.a.createElement(e,{linkTo:v.J,leftLabel:Object(g.c)(qd())},Object(g.c)(Dd())),m.a.createElement(e,{linkTo:Id.d,leftLabel:Object(g.c)(Ld()),qaType:"setup-client-notification-settings"},Object(g.c)(Md())),m.a.createElement(e,{linkTo:v.e,leftLabel:Object(g.c)(Rd())},Object(g.c)(kd()))))}}d()(Fd,"propTypes",{isMatch:h.a.bool,ElementComponent:h.a.oneOfType([h.a.node,h.a.func])});var Gd=Object(N.g)()((Pd=Ad=class extends p.PureComponent{constructor(...e){super(...e),d()(this,"renderDesktop",()=>{var e={as:pu.a,flex:"column",wrap:"nowrap",basis:"50%",grow:1},t={isMatch:this.props.isMatch,ElementComponent:pu.b};return m.a.createElement(x.b,{flex:"row",type:"plain"},m.a.createElement(pu.a,e,m.a.createElement(Lu,t),m.a.createElement(Nd,t)),m.a.createElement(pu.a,e,m.a.createElement(dd,t),m.a.createElement(Fd,t)))}),d()(this,"renderMobile",()=>{var e={isMatch:this.props.isMatch,ElementComponent:mu.o};return m.a.createElement(m.a.Fragment,null,m.a.createElement(Lu,e),m.a.createElement(dd,e),m.a.createElement(Nd,e),m.a.createElement(Fd,e))})}render(){var{isMatch:e,history:t}=this.props;return m.a.createElement(S.b,{color:e?void 0:"gray-2"},m.a.createElement(Tn,{history:t}),e?this.renderMobile():this.renderDesktop())}},d()(Ad,"propTypes",{history:h.a.object,isMatch:h.a.bool}),wd=Pd))||wd,Ud=n("jDCS"),_d=n("wQmL"),zd=n("ANjH"),Vd=n("ZIP/"),Qd=n("bQ46"),Yd=n("7Edu"),Hd=n.n(Yd),Wd=n("wMVX"),Jd=n.n(Wd);function Kd(){var e=l()(["Values must be unique"]);return Kd=function(){return e},e}function Zd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Xd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zd(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $d(){var e=l()(["The tip values are default options, clients will also be able to add a custom amount."]);return $d=function(){return e},e}function ep(){var e=l()(["Suggested tip values"]);return ep=function(){return e},e}function tp(){var e=l()(["Ask clients to tip when clicking on past appointment or leaving a review."]);return tp=function(){return e},e}function np(){var e=l()(["Enable tipping for past appointments"]);return np=function(){return e},e}function ap(){var e=l()(["Ask clients to tip after an appointment has been completed in thank you messages."]);return ap=function(){return e},e}function rp(){var e=l()(["Enable tipping on thank you messages after checkout"]);return rp=function(){return e},e}function op(){var e=l()(["Ask clients to tip whilst paying by app or Fresha in-store payment terminals."]);return op=function(){return e},e}function ip(){var e=l()(["Enable tipping on pay by app or card terminals"]);return ip=function(){return e},e}function cp(){var e=l()(["Choose when to ask clients if they would like to tip."]);return cp=function(){return e},e}function sp(){var e=l()(["Enable Tipping"]);return sp=function(){return e},e}var lp=Object(j.b)((e,t)=>({initialValues:k.a.getTipSettingsDataById(e,t.locationId)})),up=Object(G.q)({form:Qd.c,enableReinitialize:!0,destroyOnUnmount:!1,validate:e=>{var t=Object.entries(e&&e.percentageValues||{}).reduce((e,[t,n])=>Xd(Xd({},e),{},{[n]:[...e[n]||[],t]}),{});return{percentageValues:Object.values(t).filter(e=>e.length>1).reduce((e,t)=>e.concat(t),[]).reduce((e,t)=>Xd(Xd({},e),{},{[t]:Object(g.c)(Kd())}),{})}}}),dp=Object(zd.d)(lp,up,p.memo)(()=>m.a.createElement(D.b,{className:Jd.a.self},m.a.createElement(q.a,{title:Object(g.c)(sp()),subtitle:Object(g.c)(cp())},m.a.createElement(G.f,{name:Qd.b.ENABLED_DURING_CHECKOUT,label:Object(g.c)(ip()),hint:Object(g.c)(op()),noMargin:!0}),m.a.createElement(G.f,{name:Qd.b.ENABLED_IN_NOTIFICATIONS,label:Object(g.c)(rp()),hint:Object(g.c)(ap()),noMargin:!0}),m.a.createElement(G.f,{name:Qd.b.ENABLED_IN_APPOINTMENT_VIEW,label:Object(g.c)(np()),hint:Object(g.c)(tp()),noMargin:!0})),m.a.createElement(q.a,{title:Object(g.c)(ep()),subtitle:Object(g.c)($d())},m.a.createElement("div",{className:Jd.a.tipValuesGrid},Qd.f.map((e,t)=>m.a.createElement(G.F,{key:e,className:Jd.a.inputField,selectClassName:Jd.a.select,normalize:Number,prefix:"%",label:Object(g.c)("%{number}. Tip value",{number:t+1}),name:e,noMargin:!0},Qd.a.map(e=>m.a.createElement("option",{key:e,value:e},e))))))));function pp(){var e=l()(["Cancel"]);return pp=function(){return e},e}function mp(){var e=l()(["Enable now"]);return mp=function(){return e},e}function bp(){var e=l()(["You have disabled thank-you messages in your notification settings. To ask for tips by email and SMS text message, thank-you messages will be enabled."]);return bp=function(){return e},e}function fp(){var e=l()(["Thank-you messages"]);return fp=function(){return e},e}var hp=({onCancel:e,onConfirm:t})=>m.a.createElement(vt.i,{size:"small",alignContainer:"center"},m.a.createElement(vt.g,{onClose:e},Object(g.c)(fp())),m.a.createElement(vt.c,{noPadding:!0},m.a.createElement(Hn.d,{type:"plain"},m.a.createElement(L.d,{type:"body-1"},Object(g.c)(bp())))),m.a.createElement(vt.e,null,m.a.createElement(vt.a,{onAction:t,type:w.f},Object(g.c)(mp())),m.a.createElement(vt.a,{onAction:e,type:w.a},Object(g.c)(pp()))));hp.propTypes={onCancel:h.a.func.isRequired,onConfirm:h.a.func.isRequired};var gp=hp,Ep=n("89Lc"),yp=n("16Wi"),vp=n.n(yp);function Op(){var e=l()(["Enable online payment"]);return Op=function(){return e},e}var jp={a:e=>m.a.createElement(T.Link,{inheritFont:!0,onAction:Ep.g,qaType:"banner-link-to-enable-online-payments"},e)},Tp=()=>m.a.createElement(D.b,{className:vp.a.self,qaType:"banner-enable-online-payments"},m.a.createElement(T.Text,{className:vp.a.title,type:"fresha-h3",color:"gray100"},Object(g.c)(Op())),m.a.createElement(T.Text,{type:"fresha-caption",color:"gray100"},Object(g.f)("Activate payments with Fresha to benefit from tip collection during and after sale and get access to no show protection, payment terminals, safe online payments and many more. <a>Enable payments</a>",{},jp))),Sp=n("wDzK"),xp=n.n(Sp),Cp=()=>m.a.createElement(D.b,{className:xp.a.self,qaType:"tip-settings-form-disabled-overview"}," ");function Np(){var e=l()(["Back to Setup"]);return Np=function(){return e},e}function wp(){var e=l()(["Save"]);return wp=function(){return e},e}function Ap(){var e=l()(["Update all locations"]);return Ap=function(){return e},e}function Pp(){var e=l()(["Settings saved!"]);return Pp=function(){return e},e}function Ip(){var e=l()(["All locations settings updated!"]);return Ip=function(){return e},e}function kp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Rp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kp(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mp=({providerId:e,hasTipSettingsData:t,submitForm:n,destroyForm:a,locations:r,shouldShowModal:o,turnOnThankYouNotification:i,isMobile:s,isFreshaPaySetUp:l,isBillingStatusSetUp:u})=>{var d=r&&r.length>0,[f,h]=Object(p.useState)(!1),[E,y]=Object(p.useState)(!1),[O,j]=Object(p.useState)(d?r[0].id:"");Object(p.useEffect)(()=>{u||Object(et.f)(v.T)},[]),Object(p.useEffect)(()=>a,[]),Object(p.useEffect)(()=>{I.a.readTipSettings(e),I.a.readLocationList(),I.a.readNotificationTypeByName(Vd.d.THANK_YOU)},[e]),Object(p.useEffect)(()=>{!O&&d&&j(r[0].id)},[r]);var T=()=>!!l&&(o?Object(et.c)(v.S):n());Object(p.useEffect)(()=>{E&&T()},[E]);var N=()=>{Object(et.b)(v.R)},P=()=>{i(),n(),Object(et.c)(v.R)},k=m.a.createElement(m.a.Fragment,null,r.length>1&&m.a.createElement(w.a,{qaType:"account-settings-form-submit-all",onAction:()=>{y(!0)},isPending:f},Object(g.c)(Ap())),m.a.createElement(w.f,{qaType:"account-settings-form-submit",onAction:T,isPending:f,isDisabled:!l},Object(g.c)(wp()))),R=m.a.createElement(dp,{onSubmit:e=>{h(!0);(E?Object(fo.all)(r.map(({id:t})=>I.a.updateLocationTipSettings(t,Ul.a.createRequestPayloadFromTipSettingsForm(e)))).then(()=>I.a.addSuccessToast(Object(g.c)(Ip()))):I.a.updateLocationTipSettings(O,Ul.a.createRequestPayloadFromTipSettingsForm(e)).then(()=>I.a.addSuccessToast(Object(g.c)(Pp())))).catch(()=>I.a.addErrorToast()).finally(()=>{h(!1),y(!1)})},locationId:O}),M=r&&r.length>1&&O&&m.a.createElement(Cc.g,{label:r.find(e=>e.id===O).name,className:nt()(Hd.a.dropdown,{[Hd.a.dropdownMobile]:s}),forceShowArrow:!0},r.map(({id:e,name:t})=>m.a.createElement(Cc.c,{key:e,onAction:()=>{j(e)}},t)));return s?m.a.createElement(A.a,c()({},Qd.d,{className:Hd.a.self,headerPrimaryAction:m.a.createElement(w.c,{onAction:v.bb,size:"large"}),noBottomPadding:!0,footer:k}),!l&&m.a.createElement(Tp,null),m.a.createElement(D.b,{className:Hd.a.formWrapper},!l&&m.a.createElement(Cp,null),M,m.a.createElement(_a.a,{if:!t,fixedMobile:!0,type:"color-gray-2"},R))):m.a.createElement(S.b,{color:"gray-2"},m.a.createElement(x.b,{grow:1,shrink:0,type:"plain",className:Hd.a.self},!l&&m.a.createElement(Tp,null),m.a.createElement(D.b,{className:Hd.a.formWrapper},!l&&m.a.createElement(Cp,null),m.a.createElement(D.b,{flex:"row",justifyContent:"space-between",alignItems:"center"},m.a.createElement(C.a,c()({},Qd.d,{goBackText:Object(g.c)(Np()),handleBack:v.bb})),M),m.a.createElement(_a.a,{if:!t,fixedMobile:!0,type:"color-gray-2"},R,m.a.createElement(D.b,{flex:"row",alignSelf:"flex-end",justifyContent:"center",className:Hd.a.submitButtons},k)))),m.a.createElement(b.b,{render:()=>m.a.createElement(gp,{onCancel:N,onConfirm:P}),path:v.S}))};Mp.propTypes={providerId:h.a.string.isRequired,hasTipSettingsData:h.a.bool.isRequired,onChangeLocation:h.a.func,turnOnThankYouNotification:h.a.func.isRequired,readThankYouNotificationSettings:h.a.func.isRequired,submitForm:h.a.func.isRequired,destroyForm:h.a.func.isRequired,shouldShowModal:h.a.bool,isMobile:h.a.bool.isRequired,locations:h.a.arrayOf(h.a.shape({id:h.a.string,name:h.a.string})),isFreshaPaySetUp:h.a.bool.isRequired,isBillingStatusSetUp:h.a.bool.isRequired};var Lp=Object(j.b)(e=>({providerId:k.a.getProviderId(e),hasTipSettingsData:k.a.hasTipSettingsData(e),locations:k.a.getLocationList(e).sort((e,t)=>e.id-t.id),thankYouNotificationSettings:k.a.getNotificationTypeSettings(e,Vd.d.THANK_YOU),enabledInNotificationsPerLocationId:k.a.getTipSettingsDataEnabledInNotificationsPerLocationId(e),formValues:Object(Ud.a)(Qd.c)(e),isFreshaPaySetUp:k.a.isFreshaPaySetUp(e),isBillingStatusSetUp:k.a.isBillingStatusSetUp(e)}),e=>({submitForm:()=>e(Object(_d.k)(Qd.c)),destroyForm:()=>e(Object(G.N)(Qd.c))}),(e,t,{isMatch:n})=>{var{thankYouNotificationSettings:a,enabledInNotificationsPerLocationId:r,formValues:o}=e,i=Kn()(e,["thankYouNotificationSettings","enabledInNotificationsPerLocationId","formValues"]),c=(a||{}).sendForBookings,{locationId:s,enabledInNotifications:l}=o||{},u=r[s],d=!c&&!u&&l;return Rp(Rp(Rp({},i),t),{},{turnOnThankYouNotification:()=>I.a.updateNotificationTypes(Vd.d.THANK_YOU,Ul.a.createNotificationTypeSettingsUpdateRequest(Rp(Rp(Rp({},a),void 0!==a.sendForBookings&&{sendForBookings:!0}),void 0!==a.sendForOfflineBookings&&{sendForOfflineBookings:!0}))),shouldShowModal:d,isMobile:n})}),Dp=Object(zd.d)(Object(N.g)(),Lp)(Mp),qp=n("mfLu"),Bp=()=>m.a.createElement(S.b,null,m.a.createElement(qp.a,null));function Fp(){var e=l()(["Setup"]);return Fp=function(){return e},e}class Gp extends p.Component{render(){var{history:{goBack:e}}=this.props;return m.a.createElement(y.b,c()({},O.d,{withPlaceholder:!0}),m.a.createElement(b.d,null,m.a.createElement(b.b,{path:v.r,component:du}),m.a.createElement(b.b,{render:()=>m.a.createElement(m.a.Fragment,null,m.a.createElement(E.d,{title:Object(g.c)(Fp()),mobileLeftContent:m.a.createElement(E.a,{icon:"arrow-left-cropped",onAction:e})}),m.a.createElement(b.d,null,m.a.createElement(b.b,{path:v.O,component:bo.a}),m.a.createElement(b.b,{path:v.n,component:vr}),m.a.createElement(b.b,{path:v.q,component:mo}),m.a.createElement(b.b,{path:v.a,component:Qe}),m.a.createElement(b.b,{path:v.K,component:He}),m.a.createElement(b.b,{path:v.H,component:En.a}),m.a.createElement(b.b,{path:v.G,component:We}),m.a.createElement(b.b,{path:v.I,component:Ke}),m.a.createElement(b.b,{path:v.R,component:Dp}),m.a.createElement(b.b,{path:v.T,component:Bp}),m.a.createElement(b.b,{path:v.h,component:bn}),m.a.createElement(b.b,{path:v.L,component:fn}),m.a.createElement(b.b,{path:v.J,component:hn}),m.a.createElement(b.b,{path:v.e,component:gn}),m.a.createElement(b.b,{path:v.M,component:En.b}),m.a.createElement(b.b,{path:v.V,component:Gd})))})))}}d()(Gp,"propTypes",{history:h.a.object})},qFIf:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n("pVnL"),r=n.n(a),o=n("QILm"),i=n.n(o),c=n("lSNA"),s=n.n(c),l=n("q1tI"),u=n.n(l),d=n("17x9"),p=n.n(d),m=n("TSYQ"),b=n.n(m),f=n("Jje6"),h=n("m6/V"),g=n.n(h);class E extends l.PureComponent{render(){var e=this.props,{type:t,className:n}=e,a=i()(e,["type","className"]);return u.a.createElement(f.b,r()({className:b()(g.a.self,g.a[t],n)},a))}}s()(E,"propTypes",{children:p.a.node.isRequired,type:p.a.oneOf(["info","warning","danger","error","success"]),className:p.a.string}),s()(E,"defaultProps",{type:"info"})},qGVk:function(e,t,n){"use strict";n.d(t,"b",(function(){return D})),n.d(t,"a",(function(){return ee}));var a=n("pVnL"),r=n.n(a),o=n("QILm"),i=n.n(o),c=n("lSNA"),s=n.n(c),l=n("lSCD"),u=n.n(l),d=n("pZt1"),p=n.n(d),m=n("q1tI"),b=n.n(m),f=n("17x9"),h=n.n(f),g=n("TSYQ"),E=n.n(g),y=n("pQ8y"),v=n("VeD8"),O=n("JqEL");class j extends m.PureComponent{constructor(e){super(e),this.state={isRendered:!1}}componentDidMount(){this.timeout=setTimeout(()=>this.setState({isRendered:!0}),this.props.delay)}componentWillUnmount(){Object(O.d)(this.timeout)}render(){return this.state.isRendered?m.Children.only(this.props.children):null}}s()(j,"propTypes",{delay:h.a.number,children:h.a.node}),s()(j,"defaultProps",{delay:500});n("uHid");var T=n("DTRD"),S=n("jXSx"),x=n("i6OX"),C=n("Jje6"),N=n("9wjN"),w=n("ww3E"),A=n("R3Cl"),P=n.n(A);class I extends m.Component{constructor(e){super(e),this.state={showTooltip:!1},this.handleActionRef=this.handleActionRef.bind(this)}UNSAFE_componentWillMount(){this.props.tooltip&&(this.timeout=setTimeout(()=>{this.setState({showTooltip:!0})},300))}componentWillUnmount(){clearTimeout(this.timeout)}handleActionRef(e){if(Object(O.h)(e)){"object"==typeof this.actionRefListener&&this.actionRefListener.remove();var{action:t}=this.props;this.actionRefListener=Object(O.a)(e,"touchstart",e=>{e.preventDefault(),"function"==typeof t&&t(e)},{passive:!1})}}render(){var e=this.props,{content:t,disabled:n,tooltip:a,expanded:o,action:c,qaType:s,buttonClassName:l,noFillIcon:u}=e,d=i()(e,["content","disabled","tooltip","expanded","action","qaType","buttonClassName","noFillIcon"]),{showTooltip:p}=this.state;return b.a.createElement(C.b,{className:E()(P.a.self,{[P.a.expanded]:o,[P.a.whiteIcon]:!u}),onClick:c,selfRef:this.handleActionRef,qaType:s},b.a.createElement(w.a,r()({disabled:n,type:"info float",className:E()(P.a.action,l),noFillIcon:u},d),t),b.a.createElement(v.a,null,o&&p?b.a.createElement(y.a,{classNames:{enter:P.a.tooltipAppear,enterActive:P.a.tooltipAppearActive,exit:P.a.tooltipLeave,exitActive:P.a.tooltipLeaveActive},timeout:200},b.a.createElement("div",{className:P.a.tooltip},a)):null))}}s()(I,"propTypes",{content:h.a.node.isRequired,disabled:h.a.bool,expanded:h.a.bool,tooltip:h.a.string,action:h.a.func,qaType:C.b.propTypes.qaType,buttonClassName:h.a.string,noFillIcon:h.a.bool});var k=n("tdHr"),R=n.n(k);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class D extends b.a.PureComponent{constructor(...e){super(...e),s()(this,"state",{isOpen:!1,showOverlay:!1}),s()(this,"onRootActionTouchStart",()=>{this.setState({showOverlay:!0})}),s()(this,"onRootActionMouseEnter",()=>{this.props.disabled||(this.setState({showOverlay:!1}),this.showActions())}),s()(this,"hideActions",()=>{this.setState({isOpen:!1})}),s()(this,"showActions",()=>{this.setState({isOpen:!0})}),s()(this,"renderActions",()=>this.props.actions.map((e,t)=>{var n=t,{onAction:a}=e,o=i()(e,["onAction"]);return b.a.createElement(y.a,{key:n,classNames:{enter:R.a.actionEnter,enterActive:R.a.actionEnterActive,exit:R.a.actionLeave,exitActive:R.a.actionLeaveActive},timeout:{enter:250,exit:200}},b.a.createElement(I,r()({},o,{action:()=>{this.hideActions(),"function"==typeof a&&a()},expanded:!0})))}))}UNSAFE_componentWillReceiveProps(e){!this.props.disabled&&e.disabled&&this.setState({isOpen:!1,showOverlay:!1})}get isOpen(){return this.state.isOpen&&this.state.showOverlay}render(){var{rootAction:e,disabled:t,noFillRootIcon:n,floatClassName:a,transitionSelfAppear:o,transitionSelfAppearActive:c,inModal:s}=this.props,{isOpen:l}=this.state,{onAction:d}=e,m=i()(e,["onAction"]);return b.a.createElement(S.b,{stopActionEvents:!1},b.a.createElement(T.a,{show:this.isOpen,onAction:this.hideActions},b.a.createElement(j,{delay:800},b.a.createElement(v.a,{appear:!0,enter:!1,exit:!1},b.a.createElement(y.a,{classNames:{appear:o,appearActive:c},timeout:500},b.a.createElement(C.b,{className:E()(R.a.self,a,{[R.a.mobile]:Object(N.f)(),[R.a.inModal]:s}),qaType:"floating-menu-button"},b.a.createElement(v.a,{appear:!0,enter:!1},l||t?null:b.a.createElement(y.a,{classNames:{appear:R.a.rootActionEnter,appearActive:R.a.rootActionEnterActive,exit:R.a.rootActionLeave,exitActive:R.a.rootActionLeaveActive},timeout:200},b.a.createElement(I,r()({action:()=>{if(this.props.actions.length>1)this.showActions();else{var e=p()(this.props.actions);e&&u()(e.onAction)&&e.onAction()}"function"==typeof d&&d()},onMouseEnter:this.onRootActionMouseEnter,onTouchStart:this.onRootActionTouchStart,noFillIcon:n,"data-qa":"floating-root-menu-button"},m)))))))),b.a.createElement("div",{className:E()(R.a.self,R.a.open,{[R.a.mobile]:Object(N.f)(),[R.a.inModal]:s}),onMouseLeave:this.hideActions},b.a.createElement(v.a,null,l&&this.renderActions()))))}}s()(D,"defaultProps",{rootAction:{content:b.a.createElement(x.b,{name:"plus"})},transitionSelfAppear:R.a.selfAppear,transitionSelfAppearActive:R.a.selfAppearActive}),s()(D,"propTypes",{actions:h.a.arrayOf(h.a.shape(L(L({},I.propTypes),{},{content:h.a.node,onAction:h.a.func}))).isRequired,rootAction:h.a.shape(I.propTypes),disabled:h.a.bool,noFillRootIcon:h.a.bool,floatClassName:h.a.string,transitionSelfAppear:h.a.string,transitionSelfAppearActive:h.a.string,inModal:h.a.bool});var q,B,F,G=n("VkAN"),U=n.n(G),_=n("/MKj"),z=n("PhEd"),V=n("ePPS"),Q=n("dhJQ"),Y=n("3wSE"),H=n("TSDZ"),W=n("nbpM"),J=n("3+wM"),K=n.n(J);function Z(){var e=U()(["Add New"]);return Z=function(){return e},e}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=Object(Q.g)()(q=Object(_.b)(e=>({isReshedulEnabled:W.a.isReshedulEnabled(e)}))((F=B=class extends m.PureComponent{render(){var{isMatch:e,hideOnDesktop:t,hideOnMobile:n,iconOnlyOnDesktop:a,actions:r,label:o,className:i,inModal:c,isReshedulEnabled:s,buttonSize:l}=this.props;if(e&&!n)return b.a.createElement(D,{actions:r,inModal:c});if(!e&&!t){var u=r.slice();u.reverse();var d={as:z.Button,variant:"primary",size:l,iconSize:"16",iconColor:"white",wrapChildren:!0,showRipple:!1};if(u.length>1){var p=$(a?{label:null,as:Y.f,showIcon:!0,icon:"plus",size:"large",className:E()(K.a.self,K.a.iconOnly,i),iconClassName:K.a.iconOnlyIcon,align:"right",qaType:"floating-menu-button"}:{label:o,as:Y.f,showIcon:!1,className:E()(K.a.self,i),align:"right",qaType:"floating-menu-button"},s?d:{});return b.a.createElement(H.g,p,u.map(({id:e,onAction:t,tooltip:n,linkTo:a,qaType:r})=>b.a.createElement(H.c,{key:e,onAction:t,linkTo:a,qaType:r},n)))}if(1===r.length){var{tooltip:m,onAction:f}=r[0],h=a?{showIcon:!0,icon:"plus",size:"large",className:E()(K.a.iconOnly,i),iconClassName:K.a.iconOnlyIcon,onAction:f,qaType:"floating-menu-button"}:{showIcon:!1,onAction:f,className:i,qaType:"floating-menu-button"};return b.a.createElement(Y.f,h,a?null:m)}return null}return null}},s()(B,"propTypes",{isMatch:h.a.bool,hideOnDesktop:h.a.bool,hideOnMobile:h.a.bool,iconOnlyOnDesktop:h.a.bool,actions:h.a.arrayOf(h.a.object),label:h.a.string,className:h.a.string,inModal:h.a.bool,isReshedulEnabled:h.a.bool,buttonSize:h.a.oneOf(["small","default","large"])}),s()(B,"defaultProps",{hideOnDesktop:!1,hideOnMobile:!1,iconOnlyOnDesktop:!1,actions:[],label:Object(V.c)(Z()),buttonSize:"default"}),q=F))||q)||q},qwlH:function(e,t,n){"use strict";n.d(t,"d",(function(){return z})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return A})),n.d(t,"c",(function(){return L}));var a=n("pVnL"),r=n.n(a),o=n("QILm"),i=n.n(o),c=n("Puqe"),s=n.n(c),l=n("q1tI"),u=n.n(l),d=n("17x9"),p=n.n(d),m=n("s/Ur"),b=n.n(m),f=n("TSYQ"),h=n.n(f),g=n("Xg/3"),E=n("i6OX"),y=n("zC5H"),v=n.n(y);function O(e){var{className:t,sortOrder:n,sortBy:a,active:o,format:c,onClick:s,children:l}=e,d=i()(e,["className","sortOrder","sortBy","active","format","onClick","children"]),p=h()(v.a.self,t,{[v.a.sortable]:a,[v.a.active]:a&&o,[v.a["order-".concat(n)]]:a&&o,[v.a[c]]:!!c});return u.a.createElement("th",r()({className:p},d,{onClick:s?e=>s(e,a,n):null}),u.a.createElement("div",null,l),a?u.a.createElement("span",null,u.a.createElement(E.b,{name:"chevron-up",className:h()(v.a.icon,v.a.iconUp)}),u.a.createElement(E.b,{name:"chevron-down",className:h()(v.a.icon,v.a.iconDown)})):null)}O.propTypes={children:p.a.node,className:p.a.string,sortBy:p.a.string,sortOrder:p.a.oneOf(["asc","desc"]),active:p.a.bool,onClick:p.a.func,format:p.a.oneOf(["number"])};var j=n("lSCD"),T=n.n(j),S=n("E/hq"),x=n.n(S);function C(e){var{children:t,className:n,wrapper:a,format:o}=e,c=i()(e,["children","className","wrapper","format"]),s=h()(n,x.a.self,{[x.a[o]]:o}),l=u.a.createElement("td",r()({className:s},c),t);return T()(a)&&(l=a(l)),l}C.propTypes={children:p.a.node,className:p.a.string,format:p.a.oneOf(["number"]),wrapper:p.a.func};var N=n("QlcP"),w=n.n(N);function A(e){var{children:t,className:n,cellClassName:a,hoverable:o,condensed:c,colSpan:s,wrapper:l,dataQa:d}=e,p=i()(e,["children","className","cellClassName","hoverable","condensed","colSpan","wrapper","dataQa"]),m=h()(w.a.cell,a),b=u.a.createElement("tr",r()({className:h()(w.a.self,n,{[w.a.hoverable]:o,[w.a.condensed]:c}),"data-qa":d||"product-list-item"},p),u.a.Children.toArray(t).map((e,t)=>{if(e&&Object(g.d)(e.type,C))return u.a.cloneElement(e,{className:h()(m,e.props.className)});var n=t;return u.a.createElement(C,{className:m,key:n,colSpan:s},e)}));return T()(l)&&(b=l(b)),b}A.propTypes={children:p.a.node,className:p.a.string,dataQa:p.a.string,colSpan:p.a.number,hoverable:p.a.bool,condensed:p.a.bool,wrapper:p.a.func,cellClassName:p.a.string};var P=n("w3g7"),I=n.n(P),k=e=>{var{fitView:t,headers:n,rows:a,className:o,dataQa:c}=e,s=i()(e,["fitView","headers","rows","className","dataQa"]),l=h()(I.a.table,{[I.a.fitView]:t},o);return u.a.createElement("table",r()({className:l},s),u.a.createElement("thead",{"data-qa":"".concat(c,"-head")},u.a.createElement("tr",null,n)),u.a.createElement("tbody",{"data-qa":"".concat(c,"-body")},a))};k.propTypes={headers:p.a.arrayOf(p.a.node).isRequired,rows:p.a.arrayOf(p.a.node).isRequired,fitView:p.a.bool,className:p.a.string,dataQa:p.a.string};var R=k,M=({children:e,className:t})=>u.a.createElement("div",{className:t},e);M.propTypes={className:p.a.string,children:p.a.node.isRequired};var L=M,D=n("fJus");function q(e){return e&&Object(g.d)(e.type,L)}var B=e=>{var{fitView:t,headers:n,rows:a,className:o,lastRowClassName:c}=e,s=i()(e,["fitView","headers","rows","className","lastRowClassName"]),l=n.filter(e=>e.props.children).map(e=>u.a.cloneElement(e,{className:I.a.responsiveHeader,sortBy:void 0,scope:"row"})),d=h()(I.a.table,I.a.responsive,o,{[I.a.fitView]:t});return u.a.createElement("table",r()({className:d},s),a.map((e,t)=>{var n=Object.values(Object(D.e)(e.props.children,e=>e)),a=n.find(q),r=t;return u.a.createElement("tbody",{key:r},l.map((e,t)=>{var r=0===t,o=t;return u.a.createElement("tr",{key:o,className:I.a.responsiveRow},e,u.a.createElement("td",{className:I.a.tableCell},n[t]),r&&u.a.createElement("td",{className:I.a.rowAction},a))}),function(e){return u.a.createElement("tr",null,u.a.createElement("td",{className:h()(I.a.borderBottom,e),colSpan:"3"}))}(c))}))};B.propTypes={headers:p.a.arrayOf(p.a.node).isRequired,rows:p.a.arrayOf(p.a.node).isRequired,fitView:p.a.bool,className:p.a.string,lastRowClassName:p.a.string};var F=B,G=n("91Qr"),U=n.n(G),_=["lastRowClassName"];function z(e){var{children:t,horizontalScroll:n,rowComponent:a,responsive:o}=e,c=i()(e,["children","horizontalScroll","rowComponent","responsive"]),l=u.a.Children.toArray(t),d=l.filter(e=>Object(g.d)(e.type,O)),p=l.filter(e=>Object(g.d)(e.type,a)),m=h()(U.a.self,{[U.a.horizontalScroll]:n});return o?u.a.createElement(b.a,{query:"(max-width: 767px)",className:m},e=>e?u.a.createElement(F,r()({headers:d,rows:p},c)):u.a.createElement(R,r()({headers:d,rows:p},s()(c,_)))):u.a.createElement("div",{className:m},u.a.createElement(R,r()({headers:d,rows:p},c)))}z.propTypes={children:p.a.node,className:p.a.string,fitView:p.a.bool,horizontalScroll:p.a.bool,rowComponent:p.a.func,responsive:p.a.bool},z.defaultProps={rowComponent:A,responsive:!1}},"r+ji":function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var a,r,o,i=n("lSNA"),c=n.n(i),s=n("VkAN"),l=n.n(s),u=n("q1tI"),d=n.n(u),p=n("/MKj"),m=n("17x9"),b=n.n(m),f=n("nbpM"),h=n("5ZU+"),g=n("k2fX"),E=n("XOD0"),y=n("ePPS"),v=n("cE5c"),O=n("3wSE"),j=n("/Q2I"),T=n("Qs7Y"),S=n("dhJQ"),x=n("+hsN");function C(){var e=l()(["Delete"]);return C=function(){return e},e}function N(){var e=l()(["Delete Tax"]);return N=function(){return e},e}function w(){var e=l()(["Tax cannot be deleted"]);return w=function(){return e},e}function A(){var e=l()(["To delete this tax you need to first remove it from the"]);return A=function(){return e},e}function P(){var e=l()(["Tax"]);return P=function(){return e},e}function I(){var e=l()(["Are you sure you want to delete this tax?"]);return I=function(){return e},e}var k=d.a.createElement(T.d,{type:"body-1"},Object(y.c)(I())),R=Object(p.b)((e,t)=>({taxes:f.a.getTaxRatesList(e),id:Object(v.c)(t)}),{})(a=Object(S.g)("tablet")((o=r=class extends u.PureComponent{constructor(...e){super(...e),c()(this,"handleClose",()=>{Object(E.b)(x.O)}),c()(this,"handleDelete",()=>{var{id:e,taxes:t}=this.props;return h.a.deleteTaxRate(e).then(()=>{h.a.addDeletedToast(Object(y.c)(P())),h.a.deleteTaxRateFromORM(e),Object(E.f)(x.O)}).catch(e=>{var{_error:n}=Object(g.e)(e,{fields:[{code:"tax-rate-in-use",jsonPointer:/\/tax-rate-in-use$/,message:Object(y.c)(A())}],metaAsObject:!0,globalMessage:Object(y.c)(w())});n&&h.a.addErrorToast("string"==typeof n?n:function(e,t){var n=e.meta.taxGroupIds.map(e=>t.find(t=>t.id===String(e)).name);if(1===n.length)return"".concat(e.message," ").concat(n[0]," tax group");var a=e.message;return n.length>1&&(a+=" ".concat(n.slice(0,3).reduce((e,t,a,r)=>r.length-1===a?"".concat(e," ").concat(t):"".concat(e," ").concat(t).concat(n.length-2!==a?",":" and"),""))),n.length>3&&(a+=" and more"),a+=" tax groups"}(n,t))})})}render(){var{tablet:e}=this.props;return d.a.createElement(j.i,{size:"small"},d.a.createElement(j.g,{onClose:this.handleClose,subheader:e&&k},Object(y.c)(N())),d.a.createElement(j.c,{onlyBottomPadding:e},!e&&k),d.a.createElement(j.e,{noPadding:!0},d.a.createElement(j.b,null,d.a.createElement(O.g,{onAction:this.handleDelete,withPending:!0,"data-qa":"confirm-delete-tax-button"},Object(y.c)(C())))))}},c()(r,"propTypes",{id:b.a.string.isRequired,taxes:b.a.arrayOf(b.a.object).isRequired,tablet:b.a.bool}),a=o))||a)||a},rah9:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a,r,o,i=n("VkAN"),c=n.n(i),s=n("QILm"),l=n.n(s),u=n("lSNA"),d=n.n(u),p=n("q1tI"),m=n.n(p),b=n("17x9"),f=n.n(b),h=n("ePPS"),g=n("/Q2I"),E=n("3wSE"),y=n("dhJQ"),v=n("qFIf"),O=n("Qs7Y");function j(){var e=c()(["Cancel"]);return j=function(){return e},e}function T(){var e=c()(["Delete"]);return T=function(){return e},e}var S=Object(y.g)("tablet")((o=r=class extends p.PureComponent{render(){var e=this.props,{name:t,header:n=m.a.createElement(O.d,{as:"span",type:"body-1"},Object(h.c)("Delete %{name}",{name:this.props.name})),onConfirm:a,onCancel:r,showDelete:o,showCancel:i,isFetching:c,confirmText:s=Object(h.c)(T()),onClose:u,cancelText:d=Object(h.c)(j()),errors:p,text:b=Object(h.c)("Are you sure you want to delete this %{name}?",{name:this.props.name}),tablet:f}=e,y=l()(e,["name","header","onConfirm","onCancel","showDelete","showCancel","isFetching","confirmText","onClose","cancelText","errors","text","tablet"]),S="string"==typeof b?m.a.createElement(O.d,{type:"body-1"},b):b;return m.a.createElement(g.i,y,m.a.createElement(g.g,{onClose:r,subheader:f&&S},n),m.a.createElement(g.c,{onlyBottomPadding:f},!p&&!f&&S,p&&m.a.createElement(v.a,{type:"error"},"".concat(p.base.join(". "),"."))),(o||i)&&m.a.createElement(g.e,{noPadding:!0},m.a.createElement(g.b,null,o&&m.a.createElement(E.g,{type:E.g,onAction:a,disabled:c,withPending:!0,qaType:"delete-modal-delete"},s),i&&m.a.createElement(E.a,{onAction:r,disabled:c,qaType:"delete-modal-cancel"},d))))}},d()(r,"propTypes",{name:f.a.string,header:f.a.node,text:f.a.string,onConfirm:f.a.func,onCancel:f.a.func,showDelete:f.a.bool,isFetching:f.a.bool,confirmText:f.a.string,onClose:f.a.func,errors:f.a.arrayOf(f.a.object),tablet:f.a.bool,cancelText:f.a.string,showCancel:f.a.bool}),d()(r,"defaultProps",{showDelete:!0}),a=o))||a},uHid:function(e,t,n){"use strict";(function(e){var t=n("lSNA"),a=n.n(t),r=n("q1tI"),o=n("17x9"),i=n.n(o);class c extends r.PureComponent{constructor(e){super(e),this.state={isRendered:!1}}componentDidMount(){this.timeout=e.requestAnimationFrame(()=>{e.requestAnimationFrame(()=>{this.setState({isRendered:!0})})})}componentWillUnmount(){e.cancelAnimationFrame(this.timeout)}render(){var e=this.state.isRendered?this.props:{};return this.props.children(e)}}a()(c,"propTypes",{children:i.a.func})}).call(this,n("yLpj"))},z141:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={MARKETING:"marketing",ONLINE_BOOKING:"onlineBooking",FRESHA_PAY:"freshaPay",FRESHA_PLUS:"freshaPlus",CARD_TERMINALS:"cardTerminals",CONSULTATION_FORMS:"consultationForms"}}}]);