(window.webpackJsonp=window.webpackJsonp||[]).push([[282],{"9hiP":function(e,t,a){"use strict";a.d(t,"b",(function(){return h})),a.d(t,"a",(function(){return b}));var n=a("lSNA"),r=a.n(n),i=a("q1tI"),o=a.n(i),s=a("17x9"),c=a.n(s),l=a("TSYQ"),u=a.n(l),m=a("Jje6"),d=a("DZ53"),f=a.n(d),b={GREEN:"green",BLUE:"blue",YELLOW:"yellow",RED:"red"};class p extends i.PureComponent{render(){var{badgeText:e,badgeColor:t,className:a}=this.props;return e&&t?o.a.createElement(m.b,{className:u()(f.a.self,f.a[t],a),as:"span"},e):null}}r()(p,"propTypes",{className:c.a.string,badgeText:c.a.string,badgeColor:c.a.oneOf(Object.values(b)).isRequired});var h=p},EJLE:function(e,t){e.exports='<svg viewBox="0 0 184 149" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M0 36.615L39.524 8.093 81.21 36.615v46.349a4.754 4.754 0 0 1-4.754 4.754H4.754A4.754 4.754 0 0 1 0 82.964V36.615z" id="email-sms-blue-path-1"></path><rect id="email-sms-blue-path-3" x="3.583" width="74.044" height="77.248" rx="4.754"></rect><filter x="-65.5%" y="-57.6%" width="231%" height="225.6%" filterUnits="objectBoundingBox" id="email-sms-blue-email-sms-blue-filter-4"><feOffset dy="4" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation="15.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0" in="shadowBlurOuter1"></feColorMatrix></filter><path d="M0 0h41.164c8.46 0 15.317 6.858 15.317 15.317 0 8.46-6.857 15.317-15.317 15.317H15.317C6.857 30.634 0 23.776 0 15.317V0z" id="email-sms-blue-path-5"></path><filter x="-85.9%" y="-145.3%" width="271.7%" height="416.6%" filterUnits="objectBoundingBox" id="email-sms-blue-filter-6"><feOffset dy="4" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation="15.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0" in="shadowBlurOuter1"></feColorMatrix></filter><path d="M0 0h41.164c8.46 0 15.317 6.858 15.317 15.317 0 8.46-6.857 15.317-15.317 15.317H15.317C6.857 30.634 0 23.776 0 15.317V0z" id="email-sms-blue-path-7"></path><filter x="-92.1%" y="-153.4%" width="284.1%" height="439.5%" filterUnits="objectBoundingBox" id="filter-8"><feOffset dy="5" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation="16.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0" in="shadowBlurOuter1"></feColorMatrix></filter></defs><g fill="none" fill-rule="evenodd"><g transform="translate(51.218 27.978)"><use fill="#4EB7F5" xlink:href="#email-sms-blue-path-1"></use><use fill="#000" filter="url(#email-sms-blue-filter-4)" xlink:href="#email-sms-blue-path-3"></use><use fill="#FFF" xlink:href="#email-sms-blue-path-3"></use><rect fill="#101928" opacity=".1" x="13.137" y="27.108" width="54.936" height="4.754" rx="2.377"></rect><rect fill="#101928" opacity=".1" x="13.137" y="9.281" width="16.72" height="13.073" rx="4.754"></rect><rect fill="#101928" opacity=".1" x="13.137" y="36.615" width="35.828" height="4.754" rx="2.377"></rect><rect fill="#101928" opacity=".1" x="13.137" y="46.122" width="9.554" height="4.754" rx="2.377"></rect><rect fill="#101928" opacity=".1" x="34.633" y="46.122" width="9.554" height="4.754" rx="2.377"></rect><rect fill="#101928" opacity=".1" x="56.13" y="46.122" width="9.554" height="4.754" rx="2.377"></rect><path fill="#B5E0F3" d="M81.21 36.615L45.382 62.166 81.21 87.718zM0 36.615l35.828 25.551L0 87.718z"></path><path fill="#4EB7F5" d="M0 87.718h81.21L40.605 58.007z"></path></g><g transform="matrix(-1 0 0 1 92.672 100.132)"><use fill="#000" filter="url(#email-sms-blue-filter-6)" xlink:href="#email-sms-blue-path-5"></use><use fill="#FFF" xlink:href="#email-sms-blue-path-5"></use><rect fill="#101928" opacity=".1" x="8.616" y="9.573" width="37.335" height="4.787" rx="2.393"></rect><rect fill="#101928" opacity=".1" x="24.179" y="17.232" width="22.018" height="4.787" rx="2.393"></rect></g><g transform="translate(92.672 11)"><use fill="#000" filter="url(#email-sms-blue-filter-8)" xlink:href="#email-sms-blue-path-7"></use><use fill="#4EB7F5" xlink:href="#email-sms-blue-path-7"></use><rect fill="#FFF" x="8.616" y="9.573" width="37.335" height="4.787" rx="2.393"></rect><rect fill="#FFF" x="8.616" y="17.232" width="22.018" height="4.787" rx="2.393"></rect></g></g></svg>'},LLmO:function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var n,r,i,o=a("VkAN"),s=a.n(o),c=a("pVnL"),l=a.n(c),u=a("QILm"),m=a.n(u),d=a("lSNA"),f=a.n(d),b=a("q1tI"),p=a.n(b),h=a("17x9"),g=a.n(h),y=a("TSYQ"),v=a.n(y),O=a("PhEd"),E=a("ePPS"),N=a("XOD0"),j=a("Jje6"),S=a("dhJQ"),w=a("XOuL"),P=a("cWYh"),T=a.n(P);function k(){var e=s()(["Previous"]);return k=function(){return e},e}function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var C=Object(S.g)()((i=r=class extends b.PureComponent{constructor(...e){super(...e),f()(this,"onBackAction",()=>{var{backLink:e}=this.props;Object(N.b)(e)}),f()(this,"onCloseAction",()=>{var{closeLink:e}=this.props;Object(N.c)(e)})}render(){var e=this.props,{isMatch:t,subtitle:a,backLink:n,closeLink:r,title:i,leftPanel:o,rightPanel:s,withoutSplit:c,isFetching:u,isFetchingLeftPanel:d,buttons:b,className:h,withMoreOptions:g}=e,y=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){f()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({headerLinkTo:r,header:i,subheader:a,color:t?"white":void 0},m()(e,["isMatch","subtitle","backLink","closeLink","title","leftPanel","rightPanel","withoutSplit","isFetching","isFetchingLeftPanel","buttons","className","withMoreOptions"]));if(t)return p.a.createElement(O.ModalFullScreen,l()({className:v()(T.a.self,h)},y),p.a.createElement(O.ModalFullScreenMobileHeader,{onClose:this.onCloseAction,onBack:n?this.onBackAction:void 0,title:i,aboveText:a}),u||d?p.a.createElement(w.a,{static:!0,fixedMobile:!0}):o,p.a.createElement(O.ModalFullScreenMobileFooter,{withMoreOptions:g,buttons:b}));var N=p.a.createElement(O.ModalFullScreenDesktopHeader,{qaType:"modal-header",onClose:this.onCloseAction,onBack:n&&this.onBackAction,onBackText:Object(E.c)(k()),sticky:!0,buttons:b,title:i,aboveText:a});return c?p.a.createElement(O.ModalFullScreen,l()({className:v()(T.a.self,h)},y),N,u||d?p.a.createElement(w.a,{static:!0,fixedMobile:!0}):o):p.a.createElement(O.ModalFullScreen,l()({className:v()(T.a.self,h),contentClassName:T.a.innerContent},y),N,u?p.a.createElement(w.a,{if:u,static:!0}):p.a.createElement(O.SplitViewUnequal,null,p.a.createElement(O.SplitViewContentLeft,{className:T.a.leftPanel},d?p.a.createElement(w.a,{static:!0}):p.a.createElement(j.b,{className:T.a.leftPanelContainer},o)),p.a.createElement(O.SplitViewContentRight,null,p.a.createElement(j.b,{className:T.a.rightPanelContainer},s))))}},f()(r,"propTypes",{className:g.a.string,withoutSplit:g.a.bool,leftPanel:g.a.node,buttons:g.a.node,rightPanel:g.a.node,isMatch:g.a.bool,title:g.a.string,subtitle:g.a.string,backLink:g.a.oneOfType([g.a.string,g.a.object,g.a.func]),closeLink:g.a.oneOfType([g.a.string,g.a.object,g.a.func]),isFetching:g.a.bool,isFetchingLeftPanel:g.a.bool,withMoreOptions:g.a.bool}),n=i))||n},UJwp:function(e,t){e.exports='<svg viewBox="0 0 184 149" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M51.087 64.392l39.908-28.8 42.092 28.8v46.8a4.8 4.8 0 0 1-4.8 4.8h-72.4a4.8 4.8 0 0 1-4.8-4.8v-46.8z" id="email-blue-path-1"></path><rect id="email-blue-path-3" x="54.704" y="25.992" width="74.765" height="78" rx="4.8"></rect><filter x="-65.5%" y="-56.4%" width="231.1%" height="225.6%" filterUnits="objectBoundingBox" id="email-blue-filter"><feOffset dy="5" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation="15.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0" in="shadowBlurOuter1"></feColorMatrix></filter></defs><g fill="none" fill-rule="evenodd"><use fill="#4EB7F5" xlink:href="#email-blue-path-1"></use><use fill="#000" filter="url(#email-blue-filter)" xlink:href="#email-blue-path-3"></use><use fill="#FFF" xlink:href="#email-blue-path-3"></use><rect fill="#101928" opacity=".1" x="64.352" y="54.792" width="55.471" height="4.8" rx="2.4"></rect><rect fill="#101928" opacity=".1" x="64.352" y="36.792" width="16.882" height="13.2" rx="4.8"></rect><rect fill="#101928" opacity=".1" x="64.352" y="64.392" width="36.176" height="4.8" rx="2.4"></rect><rect fill="#101928" opacity=".1" x="64.352" y="73.992" width="9.647" height="4.8" rx="2.4"></rect><rect fill="#101928" opacity=".1" x="86.057" y="73.992" width="9.647" height="4.8" rx="2.4"></rect><rect fill="#101928" opacity=".1" x="107.763" y="73.992" width="9.647" height="4.8" rx="2.4"></rect><path fill="#B5E0F3" d="M133.087 64.392l-36.177 25.8 36.177 25.8zM51.087 64.392l36.176 25.8-36.176 25.8z"></path><path fill="#4EB7F5" d="M51.087 115.992h82l-41-30z"></path></g></svg>'},"W+BO":function(e,t,a){"use strict";a.r(t);var n=a("VkAN"),r=a.n(n),i=a("9oTK"),o=a.n(i),s=a("q1tI"),c=a.n(s),l=a("Ty5D"),u=a("XOD0"),m=a("ePPS"),d=a("MoLQ"),f=a("QqEi"),b=a("/pl8"),p=a("5ZU+"),h=a("ZIP/"),g=a("w++u"),y=a("QILm"),v=a.n(y),O=a("ANjH"),E=a("/MKj"),N=a("17x9"),j=a.n(N),S=a("nbpM"),w=a("3wSE"),P=a("XOuL"),T=a("vfnK"),k=({children:e,hideFreshaPlusInactive:t})=>(Object(s.useEffect)(()=>{Object(T.e)()},[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(T.a,{hideFreshaPlusInactive:!t}),e));k.propTypes={children:j.a.node,hideFreshaPlusInactive:j.a.bool};var R=k,C=a("lSNA"),x=a.n(C),I=a("HTL0"),F=a("tDQA");function A(){var e=r()(["72 hours"]);return A=function(){return e},e}function M(){var e=r()(["48 hours"]);return M=function(){return e},e}function L(){var e=r()(["24 hours"]);return L=function(){return e},e}function D(){var e=r()(["3 hours"]);return D=function(){return e},e}function q(){var e=r()(["2 hours"]);return q=function(){return e},e}var B="client-notification-type-settings",z=[{text:Object(m.c)(q()),value:7200},{text:Object(m.c)(D()),value:10800},{text:Object(m.c)(L()),value:86400},{text:Object(m.c)(M()),value:172800},{text:Object(m.c)(A()),value:259200}],_=Object(F.a)(B),U=e=>_(e,h.e.IMPORTANT_INFO),H=e=>_(e,h.e.DISPLAY_PRICES);function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(a),!0).forEach((function(t){x()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function V(){return(e,t)=>{var{page:a,search:n}=S.a.getLegacyNotificationList(t());return p.a.deleteLegacyNotifications(),p.a.fetchLegacyNotifications(),p.a.readLegacyNotificationList({page:a,search:n}).then(({body:e})=>(p.a.fetchLegacyNotificationsSuccess(e),e)).catch(()=>{p.a.fetchLegacyNotificationsError()})}}var W=e=>(t,a)=>{var n=a(),r=S.a.getNotificationTypeSettings(n,e),i=S.a.clientNotificationsPreviewData(n,e),o=e===h.d.THANK_YOU,s=S.a.isFreshaPayEnabled(n);return{type:"GET_PREVIEW_REQUEST_PAYLOAD",payload:i?Y(Y(Y(Y(Y({},r),i),{importantInfo:U(n)||""}),{displayPrices:H(n)||!1}),o?{isFreshaPayEnabled:s}:{}):void 0}},J=()=>(e,t)=>{var{page:a,search:n}=S.a.getMessagesLog(t());return p.a.deleteMessageEntries(),p.a.fetchMessages(),p.a.readMessagesList({page:a,search:n}).then(({body:e})=>(p.a.fetchMessagesSuccess(e),e)).catch(()=>{p.a.fetchMessagesError()})},G=e=>{var t=I.a.notificationDeliveryUpdateRequest(e);return p.a.updateNotificationDelivery(t)},K=a("sEfC"),X=a.n(K),Z=a("PhEd"),$=a("r0Us"),ee=a("Jje6"),te=a("TSYQ"),ae=a.n(te),ne=a("JqEL"),re=a("WjpJ"),ie=a.n(re),oe=a("SeWN"),se=a("Wh/R"),ce=a.n(se);function le(){var e=r()(["Page"]);return le=function(){return e},e}var ue=(e,t)=>void 0===t?"".concat(Object(m.c)(le())," ").concat(e):"Page ".concat(e," of ").concat(t),me=(e,t,a)=>c.a.createElement("option",{key:t,value:t,disabled:a},a?"...":e);function de({onChange:e,currentPage:t,totalCount:a,paginationGap:n=4}){var r,i,o=n+1,s=e=>{return ie()((t=e,t-o<=1?2:t-o),(e=>a-e<=o?a:e+o+1)(e)).map((e=>t=>{var a=ue(t);return me(a,t,t-o===e||t+o===e)})(e));var t};return c.a.createElement("div",{className:ce.a.self},c.a.createElement("span",{className:ce.a.currentPage},ue(t,a),c.a.createElement(oe.a,{onChange:(t,a)=>{e(parseInt(t,10),a)},className:ae()(ce.a.hide,ce.a.select),iconRight:null,value:t,inGroup:!0},(r=a,i=t,[].concat(me(ue(1),1),s(i),me(ue(r),r))))))}de.propTypes={totalCount:j.a.number.isRequired,onChange:j.a.func.isRequired,currentPage:j.a.number.isRequired,paginationGap:j.a.number};var fe=a("pVnL"),be=a.n(fe),pe="prev",he="next",ge=a("ww3E"),ye=a("5iQ3"),ve=a.n(ye);function Oe(e){var{className:t,icon:a,text:n,type:r}=e,i=v()(e,["className","icon","text","type"]),o=ae()(ve.a.self,t,{[ve.a.reverseContent]:r===he});return c.a.createElement(ge.a,be()({className:o,type:"default",inGroup:!0},i),c.a.createElement("span",{className:ve.a.icon},a),c.a.createElement("span",{className:ve.a.text},n))}Oe.propTypes={type:j.a.oneOf(["next","prev"]).isRequired,icon:j.a.string.isRequired,text:j.a.string.isRequired,className:j.a.string};var Ee=a("INi7"),Ne=a.n(Ee);function je(){var e=r()(["of"]);return je=function(){return e},e}function Se(){var e=r()(["Displaying"]);return Se=function(){return e},e}function we(){var e=r()(["Displaying all"]);return we=function(){return e},e}function Pe({className:e,page:t,pageSize:a,count:n,totalCount:r,itemName:i}){var o=(t-1)*a;return c.a.createElement("div",{className:ae()(Ne.a.self,e)},r>1&&r<=a?Object(m.c)(we()):Object(m.c)(Se()),r>a?c.a.createElement("span",null,c.a.createElement("b",{className:Ne.a.currentPartition},o+1," - ",o+n),Object(m.c)(je())):null,c.a.createElement("b",{className:Ne.a.totalCount},r),i)}Pe.propTypes={page:j.a.number.isRequired,pageSize:j.a.number.isRequired,count:j.a.number.isRequired,totalCount:j.a.number.isRequired,itemName:j.a.string.isRequired,className:j.a.string};var Te=a("UYo0"),ke=a.n(Te);function Re(){var e=r()(["Last"]);return Re=function(){return e},e}function Ce(){var e=r()(["Next"]);return Ce=function(){return e},e}function xe(){var e=r()(["Prev"]);return xe=function(){return e},e}function Ie(){var e=r()(["First"]);return Ie=function(){return e},e}function Fe(e,t,a){var n=Object(ne.f)(e.currentTarget);n&&(n.scrollTop=0),a(e,t)}function Ae(e){var{page:t,pageSize:a,count:n,totalCount:r,onClick:i,showInfo:o,itemName:s,className:l,paginationInfoClassName:u}=e,d=Math.ceil(r/a),f=1===t,b=t===d;return c.a.createElement(ee.b,{className:ae()(ke.a.self,l)},r>a?c.a.createElement(ee.b,null,c.a.createElement(Oe,{icon:"«",text:Object(m.c)(Ie()),type:pe,className:ke.a.page,onClick:e=>Fe(e,1,i),disabled:f}),c.a.createElement(Oe,{icon:"‹",text:Object(m.c)(xe()),type:pe,className:ke.a.page,onClick:e=>Fe(e,t-1,i),disabled:f}),c.a.createElement(de,{totalCount:d,currentPage:t,onChange:(e,t)=>Fe(t,e,i)}),c.a.createElement(Oe,{icon:"›",text:Object(m.c)(Ce()),type:he,className:ke.a.page,onClick:e=>Fe(e,t+1,i),disabled:b}),c.a.createElement(Oe,{icon:"»",text:Object(m.c)(Re()),type:he,className:ke.a.page,onClick:e=>Fe(e,d,i),disabled:b})):null,r&&o?c.a.createElement(Pe,{className:u,page:t,pageSize:a,count:n,totalCount:r,itemName:s}):null)}Ae.defaultProps={showInfo:!0},Ae.propTypes={page:j.a.number.isRequired,pageSize:j.a.number.isRequired,totalCount:j.a.number.isRequired,itemName:j.a.string.isRequired,count:j.a.number,showInfo:j.a.bool,onClick:j.a.func,className:j.a.string,paginationInfoClassName:j.a.string};var Me=a("n0Cl"),Le=a("qwlH"),De=a("yk2N"),qe=a("2C1J"),Be=a("9hiP"),ze=e=>{var t;return"string"==typeof e&&(t=qe.b[e.toUpperCase()]),t||e},_e=a("DZ53"),Ue=a.n(_e),He=a("QXy2"),Qe=a("c0W2"),{string:Ye,number:Ve,bool:We,func:Je,shape:Ge,object:Ke,oneOf:Xe,oneOfType:Ze,array:$e,arrayOf:et,element:tt,node:at}=j.a,nt={id:Ve.isRequired,bookingId:Ve,bookingReference:Ye,bookingStatus:Ye,customerId:Ve,customerName:Ye,customerDeleted:We,destination:Ye.isRequired,message:Ye,status:Ye.isRequired,title:Ye,transportMethod:Ye.isRequired,type:Ye.isRequired},rt=a("QlCN"),it=a.n(rt),ot=({appointmentId:e,bookingId:t,bookingReference:a,bookingStatus:n})=>{if("string"!=typeof a)return null;var r="#".concat(a);return n===qe.a.PENDING?c.a.createElement("div",null,r):c.a.createElement(w.n,{linkTo:e?Object(Qe.k)(e):Object(Qe.l)(t),className:it.a.link},r)};ot.propTypes={appointmentId:nt.bookingId,bookingId:nt.bookingId,bookingReference:nt.bookingReference,bookingStatus:nt.bookingStatus};var st=ot,ct=a("dsWg"),lt=({id:e,name:t,deleted:a})=>{if("string"==typeof t){if(a)return c.a.createElement("span",null,t);if("number"==typeof e)return c.a.createElement(w.n,{linkTo:Object(ct.s)(e),className:it.a.link},t)}return null};lt.propTypes={id:nt.customerId,name:nt.customerName,deleted:nt.customerDeleted};var ut=lt,mt=({title:e,onClick:t})=>c.a.createElement(w.n,{onAction:t,className:it.a.link},e);mt.propTypes={title:nt.title,onClick:j.a.func};var dt=mt,ft=e=>{switch(e){case qe.b.SENT:return Be.a.GREEN;case qe.b.BOUNCED:case qe.b.DEBOUNCED:return Be.a.YELLOW;case qe.b.ERROR:return Be.a.RED;default:return Be.a.BLUE}},bt=({appointmentId:e,bookingId:t,bookingReference:a,bookingStatus:n,customerDeleted:r,customerId:i,customerName:o,destination:s,onMessageClick:l,sendAt:u,status:m,title:d,transportMethod:f,type:b,channel:p,dataQa:g})=>c.a.createElement(Le.b,{dataQa:g},c.a.createElement("div",null,Object(De.d)(u,"day_of_year_with_time")),c.a.createElement(ut,{deleted:r,id:i,name:o}),c.a.createElement(st,{appointmentId:e,bookingId:t,bookingReference:a,bookingStatus:n}),c.a.createElement("div",null,s),c.a.createElement("div",null,h.f["".concat(b,"-").concat(p||f)]),c.a.createElement(dt,{onClick:l,title:d}),c.a.createElement(Be.b,{badgeText:ze(m),badgeColor:ft(m),className:Ue.a.block}));bt.propTypes={bookingId:j.a.number,bookingReference:j.a.string,appointmentId:j.a.oneOfType([j.a.string,j.a.number]),bookingStatus:j.a.string,customerId:j.a.number,customerName:j.a.string,customerDeleted:j.a.bool,destination:j.a.string.isRequired,status:j.a.string.isRequired,title:j.a.string,channel:j.a.string,dataQa:j.a.string,transportMethod:j.a.string,type:j.a.string.isRequired,onMessageClick:j.a.func.isRequired,sendAt:He.b};var pt=bt,ht=a("5vMn"),gt=a.n(ht);function yt(){var e=r()(["No notifications found"]);return yt=function(){return e},e}function vt(){var e=r()(["Status"]);return vt=function(){return e},e}function Ot(){var e=r()(["Message"]);return Ot=function(){return e},e}function Et(){var e=r()(["Type"]);return Et=function(){return e},e}function Nt(){var e=r()(["Destination"]);return Nt=function(){return e},e}function jt(){var e=r()(["Appointment"]);return jt=function(){return e},e}function St(){var e=r()(["Client"]);return St=function(){return e},e}function wt(){var e=r()(["Time sent"]);return wt=function(){return e},e}var Pt=({items:e,onMessageClick:t})=>c.a.createElement(Le.d,{horizontalScroll:!0,dataQa:"notifications-table",rowComponent:e&&e.length?pt:null},c.a.createElement(Le.a,null,Object(m.c)(wt())),c.a.createElement(Le.a,null,Object(m.c)(St())),c.a.createElement(Le.a,null,Object(m.c)(jt())),c.a.createElement(Le.a,null,Object(m.c)(Nt())),c.a.createElement(Le.a,null,Object(m.c)(Et())),c.a.createElement(Le.a,null,Object(m.c)(Ot())),c.a.createElement(Le.a,null,Object(m.c)(vt())),e&&e.length>0?e.map(e=>{var{id:a,type:n}=e,r=v()(e,["id","type"]);return c.a.createElement(pt,be()({key:a,type:n},r,{onMessageClick:()=>t({type:n,id:a}),dataQa:"notifications-table-item"}))}):c.a.createElement(Le.b,{colSpan:7},c.a.createElement("div",{className:gt.a.noResults},Object(m.c)(yt()))));Pt.propTypes={items:j.a.array.isRequired,onMessageClick:j.a.func.isRequired};var Tt=Pt,kt=a("uopA"),Rt=a("Qs7Y");function Ct(){var e=r()(["Client Notifications"]);return Ct=function(){return e},e}function xt(){var e=r()(["Fresha will send automated customer notifications,\n      reminders, confirmations and much more. Make the most of this\n      feature by saving customer contact details in Fresha and give it a try!"]);return xt=function(){return e},e}function It(){var e=r()(["Fresha will send automated customer notifications,\n      reminders, confirmations and much more. Make the most of this\n      feature by saving customer contact details in Fresha and give it a try!"]);return It=function(){return e},e}function Ft(){var e=r()(["No Recent Messages"]);return Ft=function(){return e},e}var At=Object(E.b)(e=>({isReshedulEnabled:S.a.isReshedulEnabled(e)})),Mt=({isReshedulEnabled:e})=>c.a.createElement(kt.a,{icon:"mail",name:Object(m.c)(Ft())},e?c.a.createElement(Z.Text,{type:"fresha-caption",color:"gray100"},Object(m.c)(It())):c.a.createElement(ee.b,null,Object(m.c)(xt())),c.a.createElement("br",null),e?c.a.createElement(Z.Text,{type:"fresha-caption",color:"gray100"},Object(m.f)("You can manage these features on the <a>Client Notifications</a> settings page.",{},{a:e=>c.a.createElement(Z.Link,{inheritFont:!0,key:"link",linkTo:g.d},e)})):c.a.createElement(ee.b,null,Object(m.c)("You can manage these features on the %{client_notifications} settings page.",{client_notifications:c.a.createElement(w.n,{key:"link",linkTo:g.d},c.a.createElement(Rt.d,{as:"span",type:"row-button-secondary"},Object(m.c)(Ct())))})));Mt.propTypes={isReshedulEnabled:j.a.bool};var Lt=At(Mt),Dt=a("MoaS"),qt=a.n(Dt);function Bt(){var e=r()(["Search by name, email or booking reference"]);return Bt=function(){return e},e}function zt(){var e=r()(["Search by name, email or booking reference"]);return zt=function(){return e},e}function _t(){var e=r()(["notifications"]);return _t=function(){return e},e}function Ut(){var e=r()(["notification"]);return Ut=function(){return e},e}var Ht=e=>{e instanceof HTMLElement&&e.setAttribute("x-ms-format-detection","none")};class Qt extends c.a.Component{constructor(...e){super(...e),x()(this,"debouncedFetchNotifications",X()(this.props.fetchNotifications,300)),x()(this,"onModalClose",()=>{this.props.setModalData(null)}),x()(this,"onSearchInput",e=>{this.props.setNotificationsSearch(e),this.debouncedFetchNotifications()}),x()(this,"onSearchChange",({target:{value:e}})=>{this.onSearchInput(e)}),x()(this,"onSearchClear",()=>{this.onSearchInput("")}),x()(this,"onPaginationClick",(e,t)=>{this.props.onPageChange(t),this.props.fetchNotifications()})}componentWillUnmount(){this.debouncedFetchNotifications.cancel()}render(){var e,{children:t,items:a,page:n,pageSize:r,count:i,totalCount:o,isFetching:s,modalData:l,didFetch:u,setModalData:d,search:f,isReshedulEnabled:b}=this.props,p=o>0,h=o<=1?Object(m.c)(Ut()):Object(m.c)(_t());return!u||p||f?(l&&(e=c.a.createElement(Me.a,{id:l.id,onClose:this.onModalClose})),c.a.createElement("div",{className:qt.a.self},c.a.createElement(P.a,{if:!u,fixedMobile:!0,type:"color-gray-2"},c.a.createElement("div",{className:qt.a.innerWrapper,ref:Ht},c.a.createElement("div",{className:qt.a.navbar},c.a.createElement("div",{className:qt.a.navbarSearch},b?c.a.createElement(Z.Form.SearchField,{placeholder:Object(m.c)(zt()),value:f,onChange:this.onSearchChange,onReset:this.onSearchClear,noMargin:!0}):c.a.createElement($.a,{iconRight:"search-b",placeholder:Object(m.c)(Bt()),value:f,onChange:this.onSearchChange,onClear:this.onSearchClear}))),c.a.createElement(P.a,{if:s,type:"transparent"},c.a.createElement(Tt,{items:a,onMessageClick:d}),c.a.createElement("div",{className:qt.a.pagination},c.a.createElement(Ae,{page:n,pageSize:r,count:i,totalCount:o,itemName:h,onClick:this.onPaginationClick})),c.a.createElement(ee.b,{className:qt.a.children},t)),e)))):c.a.createElement("div",{className:qt.a.self},c.a.createElement(Lt,null))}}x()(Qt,"propTypes",{children:j.a.node,count:j.a.number.isRequired,fetchNotifications:j.a.func.isRequired,isFetching:j.a.bool.isRequired,didFetch:j.a.bool.isRequired,items:j.a.array.isRequired,modalData:j.a.shape({id:j.a.oneOfType([j.a.number,j.a.string]),message:j.a.string,type:j.a.string}),onPageChange:j.a.func.isRequired,page:j.a.number.isRequired,pageSize:j.a.number.isRequired,search:j.a.string,setModalData:j.a.func.isRequired,setNotificationsSearch:j.a.func.isRequired,totalCount:j.a.number.isRequired,isReshedulEnabled:j.a.bool});var Yt=Object(E.b)(e=>S.a.getLegacyNotificationList(e),e=>({fetchNotifications:()=>e(V()),onPageChange:p.a.setLegacyNotificationsPage,setModalData:p.a.setLegacyNotificationsModalData,setNotificationsSearch:p.a.setLegacyNotificationsSearch}))(Qt);function Vt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Wt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(a),!0).forEach((function(t){x()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Vt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Jt=e=>e.map(e=>{var{appointmentId:t,appointmentReferenceNumber:a,createdAt:n,customerFullName:r}=e;return Wt(Wt({},v()(e,["appointmentId","appointmentReferenceNumber","createdAt","customerFullName"])),{},{appointmentId:t,bookingReference:a?a.toUpperCase():null,sendAt:n,customerName:r})});function Gt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Kt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(a),!0).forEach((function(t){x()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Gt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Xt=Object(E.b)(e=>{var t=S.a.getMessagesLog(e),a=S.a.getAllMessageEntries(e);return Kt(Kt({},t),{},{items:Jt(a),isReshedulEnabled:S.a.isReshedulEnabled(e)})},e=>({fetchNotifications:()=>e(J()),onPageChange:p.a.setMessagesPage,setModalData:t=>e(p.a.setMessagesModalData(t)),setNotificationsSearch:p.a.setMessagesSearch}))(Qt),Zt=a("abs6"),$t=a.n(Zt);function ea(){var e=r()(["See older messages"]);return ea=function(){return e},e}var ta=Object(O.d)(Object(E.b)(e=>{var t=S.a.isMessagesFetched(e);return{hasFetched:S.a.isLegacyNotificationsFetched(e)&&t,hasLegacyNotifications:S.a.getLegacyNotificationCount(e)>0,hasMessages:S.a.hasMessages(e),hideFreshaPlusInactive:S.a.isBillingRequiredForSmsNotifications(e)}},e=>({fetchLegacyNotifications:()=>e(V()),fetchMessages:()=>e(J())}))),aa=e=>{var{hasMessages:t,hasLegacyNotifications:a,hasFetched:n,hideFreshaPlusInactive:r}=e,i=v()(e,["hasMessages","hasLegacyNotifications","hasFetched","hideFreshaPlusInactive"]);return Object(s.useEffect)(()=>{i.fetchLegacyNotifications(),i.fetchMessages()},[]),c.a.createElement(R,{hideFreshaPlusInactive:r},c.a.createElement(P.a,{if:!n,fixedMobile:!0,type:"color-gray-2"},t&&c.a.createElement(Xt,null,a&&c.a.createElement(w.n,{className:$t.a.link,linkTo:g.c},Object(m.c)(ea()))),!t&&c.a.createElement(Yt,null)))};aa.propTypes={fetchLegacyNotifications:N.func.isRequired,hasLegacyNotifications:N.bool.isRequired,fetchMessages:N.func.isRequired,hasMessages:N.bool.isRequired,hasFetched:N.bool.isRequired,hideFreshaPlusInactive:N.bool.isRequired};var na=ta(aa),ra=a("mwIZ"),ia=a.n(ra),oa=a("aAma"),sa=a("dhJQ"),ca=a("/Q2I"),la=a("5wqb"),ua=a.n(la);function ma(){var e=r()(["Disable"]);return ma=function(){return e},e}function da(){var e=r()(["Messages will continue to send for appointments booked online by clients."]);return da=function(){return e},e}function fa(){var e=r()(["Are you sure? Clients will not receive notifications about appointments booked by your staff."]);return fa=function(){return e},e}function ba(){var e=r()(["Disable Client Notifications"]);return ba=function(){return e},e}var pa=({closeModal:e,onConfirm:t})=>c.a.createElement(ca.i,null,c.a.createElement(ca.g,{onClose:e,noBottomPadding:!0},Object(m.c)(ba())),c.a.createElement(ca.c,{noPadding:!0},c.a.createElement(ee.b,{className:ua.a.contentContainer},c.a.createElement(Rt.d,{className:ua.a.content},Object(m.c)(fa())),c.a.createElement(Rt.d,{className:ua.a.content},Object(m.c)(da())))),c.a.createElement(ca.e,null,c.a.createElement(w.g,{withPending:!0,onAction:t},Object(m.c)(ma()))));pa.propTypes={closeModal:j.a.func,onConfirm:j.a.func};var ha=pa,ga=a("TSDZ"),ya=a("6kH+"),va=a("+hsN");function Oa(){var e=r()(["Enable notifications"]);return Oa=function(){return e},e}function Ea(){var e=r()(["Disable notifications"]);return Ea=function(){return e},e}function Na(){var e=r()(["Language options"]);return Na=function(){return e},e}function ja(){var e=r()(["Notification messages"]);return ja=function(){return e},e}var Sa=({isNotificationsEnabled:e,onAction:t})=>c.a.createElement(ya.b,{label:Object(m.c)(ja()),sublabel:Object(m.f)("Add extra information to your message templates and customize the advance timeframe for reminders, <a>learn more</a>",null,{a:e=>c.a.createElement(w.n,{inheritFontSize:!0,linkTo:g.h},e)}),suffix:c.a.createElement(ga.f,{icon:ga.f.ICON.OPTIONS,transparent:!0,align:"right"},c.a.createElement(ga.c,{linkTo:"".concat(va.a,"/?scroll=language")},Object(m.c)(Na())),e?c.a.createElement(ga.b,{onAction:t},Object(m.c)(Ea())):c.a.createElement(ga.c,{onAction:t},Object(m.c)(Oa()))),theme:ya.a.WITH_DESKTOP_BIG_HEADER});Sa.propTypes={isNotificationsEnabled:j.a.bool,onAction:j.a.func.isRequired};var wa=Sa,Pa=a("mdQd"),Ta=a("8mz+"),ka=a.n(Ta);function Ra(){var e=r()(["Disabled"]);return Ra=function(){return e},e}function Ca(){var e=r()(["Enabled"]);return Ca=function(){return e},e}var xa=({sendForBookings:e,sendForBookingsByType:t,notificationReminderSettings:{firstAdvancePeriod:a,secondAdvancePeriod:n}})=>c.a.createElement(ee.b,{className:ka.a.self},c.a.createElement(ee.b,{flex:"column",className:ka.a.triggersContainer},h.a.map((r,i)=>{var{fieldName:o,getSubtitle:s,subtitle:l}=r,u=v()(r,["fieldName","getSubtitle","subtitle"]),d=t[o]&&e;return c.a.createElement(Pa.a,be()({},u,{key:o,description:s?s({firstAdvancePeriod:a,secondAdvancePeriod:n}):l,linkTo:g.k(o),qaType:"tile-button-".concat(o),badgeText:d?Object(m.c)(Ca()):Object(m.c)(Ra()),badgeColor:d?Be.a.GREEN:Be.a.YELLOW,noArrow:!0,isFirst:0===i}))})));xa.propTypes={formValues:j.a.object,onDisableNotificationsClicked:j.a.func,enableNotifications:j.a.func,sendForBookingsByType:j.a.object,sendForBookings:j.a.bool,notificationReminderSettings:j.a.shape({firstAdvancePeriod:j.a.number,secondAdvancePeriod:j.a.number})};var Ia=xa,Fa=a("GWNf"),Aa=a("RFsE"),Ma=a.n(Aa);function La(){var e=r()(["Smart message delivery"]);return La=function(){return e},e}function Da(){var e=r()(["Smart message delivery"]);return Da=function(){return e},e}var qa=Object(E.b)(e=>({isReshedulEnabled:S.a.isReshedulEnabled(e)})),Ba=({isSMSEnabled:e,isReshedulEnabled:t})=>{var a={a:e=>t?c.a.createElement(Z.Link,{inheritFont:!0,linkTo:g.h},e):c.a.createElement(w.n,{inheritFontSize:!0,linkTo:g.h},e)};return c.a.createElement(ee.b,{className:Ma.a.self},t?c.a.createElement(Z.Text,{className:Ma.a.title,type:"fresha-h3",qaType:"channels-title",color:"gray100"},Object(m.c)(Da())):c.a.createElement(Rt.d,{className:Ma.a.title,"data-qa":"channels-title"},Object(m.c)(La())),t?c.a.createElement(Z.Text,{type:"fresha-caption",qaType:"channels-subtitle",color:"gray100"},e?Object(m.f)("Your notifications are automatically sent to clients using smart delivery across <strong>email</strong>, <strong>text message</strong> and <strong>app notification</strong> to maximize reach, <a>learn more</a>",{},a):Object(m.f)("Your notifications are automatically sent to clients using smart delivery across <strong>email</strong> and <strong>app notification</strong> to maximize reach, <a>learn more</a>",{},a)):c.a.createElement(Rt.d,{className:Ma.a.description,"data-qa":"channels-subtitle"},e?Object(m.f)("Your notifications are automatically sent to clients using smart delivery across <strong>email</strong>, <strong>text message</strong> and <strong>app notification</strong> to maximize reach, <a>learn more</a>",{},a):Object(m.f)("Your notifications are automatically sent to clients using smart delivery across <strong>email</strong> and <strong>app notification</strong> to maximize reach, <a>learn more</a>",{},a)))};Ba.propTypes={isSMSEnabled:j.a.bool,isReshedulEnabled:j.a.bool};var za=qa(Ba),_a=a("SSYw"),Ua=a.n(_a),Ha=a("EJLE"),Qa=a.n(Ha),Ya=a("UJwp"),Va=a.n(Ya),Wa=a("89Lc"),Ja=a("i6OX"),Ga=a("hHaU"),Ka=a("SacR"),Xa=a.n(Ka);function Za(){var e=r()(["Start Now"]);return Za=function(){return e},e}function $a(){var e=r()(["Start Now"]);return $a=function(){return e},e}function en(){var e=r()(["App push notifications"]);return en=function(){return e},e}function tn(){var e=r()(["App push notifications"]);return tn=function(){return e},e}function an(){var e=r()(["SMS text messages"]);return an=function(){return e},e}function nn(){var e=r()(["SMS text messages"]);return nn=function(){return e},e}function rn(){var e=r()(["Your notifications currently send by email and basic text, you can reach more clients by"]);return rn=function(){return e},e}function on(){var e=r()(["Your notifications currently send by email only, you can reach more clients by"]);return on=function(){return e},e}function sn(){var e=r()(["Your notifications currently send by email and basic text, you can reach more clients by"]);return sn=function(){return e},e}function cn(){var e=r()(["Your notifications currently send by email only, you can reach more clients by"]);return cn=function(){return e},e}function ln(){var e=r()(["Your notifications are currently sent by email and basic text only"]);return ln=function(){return e},e}function un(){var e=r()(["Your notifications are currently sent by email only"]);return un=function(){return e},e}function mn(){var e=r()(["Your notifications are currently sent by email and basic text only"]);return mn=function(){return e},e}function dn(){var e=r()(["Your notifications are currently sent by email only"]);return dn=function(){return e},e}function fn(){var e=r()(["Email notifications enabled"]);return fn=function(){return e},e}function bn(){var e=r()(["Email and text notifications enabled"]);return bn=function(){return e},e}function pn(){var e=r()(["Email notifications enabled"]);return pn=function(){return e},e}function hn(){var e=r()(["Email and text notifications enabled"]);return hn=function(){return e},e}var gn=Object(E.b)(e=>({isReshedulEnabled:S.a.isReshedulEnabled(e),isCreditsEnabled:S.a.isCreditsEnabled(e),isCreditsFeatureFlagEnabled:S.a.isCreditsFeatureFlagEnabled(e)})),yn=({isPushDisabled:e,isSMSEnabled:t,isSMSDisabled:a,isReshedulEnabled:n,isCreditsEnabled:r,isCreditsFeatureFlagEnabled:i})=>(Object(s.useEffect)(()=>{i&&p.a.readCreditsEligibility()},[i]),c.a.createElement(ee.b,{className:Xa.a.self},c.a.createElement(ee.b,{className:Xa.a.boxesWrapper},c.a.createElement(ee.b,{className:Xa.a.channelsBox,qaType:"channels-box"},c.a.createElement(Ua.a,{src:t?Qa.a:Va.a,className:Xa.a.icon}),n?c.a.createElement(Z.Text,{className:Xa.a.title,type:"fresha-h3",color:"gray100",qaType:"channels-box-title"},t?Object(m.c)(hn()):Object(m.c)(pn())):c.a.createElement(Rt.d,{className:Xa.a.title,color:"gray-7",qaType:"channels-box-title"},t?Object(m.c)(bn()):Object(m.c)(fn())),n?c.a.createElement(Z.Text,{className:Xa.a.description,type:"fresha-caption",color:"gray100",qaType:"channels-box-description"},t?Object(m.c)(mn()):Object(m.c)(dn())):c.a.createElement(Rt.d,{className:Xa.a.description,type:"inherit",qaType:"channels-box-description"},t?Object(m.c)(ln()):Object(m.c)(un()))),c.a.createElement(ee.b,{className:Xa.a.upgradeBox,qaType:"upgrade-box"},n?c.a.createElement(Z.Text,{type:"fresha-h3",color:"gray100",className:Xa.a.title,qaType:"upgrade-box-title"},Object(m.f)("Reach more clients with&#10;&#13;Fresha <yellow>Plus</yellow>",{},{yellow:e=>c.a.createElement(Z.Text,{color:"yellow50",as:"span"},e)})):c.a.createElement(Rt.d,{type:"main-title",className:Xa.a.title,qaType:"upgrade-box-title"},Object(m.f)("Reach more clients with&#10;&#13;Fresha <yellow>Plus</yellow>",{},{yellow:e=>c.a.createElement(Rt.d,{type:"inherit",color:"fresha-yellow",as:"span"},e)})),c.a.createElement(ee.b,{className:Xa.a.checkList},n?c.a.createElement(Z.Text,{type:"fresha-caption",color:"gray100",qaType:"upgrade-box-description"},t?Object(m.c)(sn()):Object(m.c)(cn())):c.a.createElement(Rt.d,{className:Xa.a.checkListText,qaType:"upgrade-box-description"},t?Object(m.c)(rn()):Object(m.c)(on())),c.a.createElement(c.a.Fragment,null,a&&c.a.createElement(ee.b,{className:ae()(Xa.a.checkItem),qaType:"upgrade-box-option"},c.a.createElement(Ja.b,{name:"check-solid",color:"green",className:Xa.a.checkItemIcon,size:"small"}),n?c.a.createElement(Z.Text,{type:"fresha-caption",color:"gray100"},Object(m.c)(nn())):c.a.createElement(Rt.d,{className:Xa.a.checkListText},Object(m.c)(an()))),e&&c.a.createElement(ee.b,{className:ae()(Xa.a.checkItem),qaType:"upgrade-box-option"},c.a.createElement(Ja.b,{name:"check-solid",color:"green",className:Xa.a.checkItemIcon,size:"small"}),n?c.a.createElement(Z.Text,{type:"fresha-caption",color:"gray100"},Object(m.c)(tn())):c.a.createElement(Rt.d,{className:Xa.a.checkListText},Object(m.c)(en()))))),n?r?c.a.createElement(Ga.a,{onAction:Wa.g,className:Xa.a.button,qaType:"fresha-upgrade",staticSize:!0}):c.a.createElement(Z.Button,{variant:"primary",onAction:Wa.g,className:Xa.a.button,qaType:"fresha-upgrade"},Object(m.c)($a())):c.a.createElement(w.f,{onAction:Wa.g,className:Xa.a.button,qaType:"fresha-upgrade"},Object(m.c)(Za()))))));yn.propTypes={isPushDisabled:j.a.bool,isSMSEnabled:j.a.bool,isSMSDisabled:j.a.bool,isReshedulEnabled:j.a.bool,isCreditsEnabled:j.a.bool,isCreditsFeatureFlagEnabled:j.a.bool};var vn=gn(yn),On=a("YP+F"),En=a.n(On);function Nn(){var e=r()(["Enable Now"]);return Nn=function(){return e},e}function jn(){var e=r()(["Your clients are not receiving notifications about appointments booked by your staff, enable delivery now to send by email and mobile notification"]);return jn=function(){return e},e}function Sn(){var e=r()(["Your clients are not receiving notifications about appointments booked by your staff, enable delivery now to send by email, text message and mobile notification"]);return Sn=function(){return e},e}function wn(){var e=r()(["Client messages disabled"]);return wn=function(){return e},e}var Pn=({enableNotifications:e,isSMSEnabled:t})=>c.a.createElement(ee.b,{className:ae()(En.a.self)},c.a.createElement(Rt.d,{className:En.a.title},Object(m.c)(wn())),c.a.createElement(Rt.d,{className:En.a.description},t?Object(m.c)(Sn()):Object(m.c)(jn())),c.a.createElement(w.k,{withPending:!0,onAction:e,className:En.a.button},Object(m.c)(Nn())));Pn.propTypes={enableNotifications:j.a.func,isSMSEnabled:j.a.bool};var Tn=Pn,kn=e=>[h.b.ENABLED,h.b.ENABLED_REMINDERS].includes(e),Rn=e=>e===h.b.DISABLED,Cn=Object(O.d)(Object(E.b)(e=>{var t=S.a.getNotificationChannels(e),a=kn(t.sms),n=Rn(t.push),r=Rn(t.sms);return{isSmartDeliveryEnabled:!Object(T.d)(e),channels:t,isSMSEnabled:a,isPushDisabled:n,isSMSDisabled:r}})),xn=({className:e,isSmartDeliveryEnabled:t,isSMSEnabled:a,isSMSDisabled:n,isPushDisabled:r,channels:i,sendForBookings:o,enableNotifications:s})=>c.a.createElement(ee.b,{className:e},t&&o&&c.a.createElement(za,{isSMSEnabled:a}),!1===o&&c.a.createElement(Tn,{enableNotifications:s,isSMSEnabled:a}),!1===t&&o&&c.a.createElement(vn,{isSMSEnabled:a,isSMSDisabled:n,isPushDisabled:r,notificationChannels:i}));xn.propTypes={sendForBookings:j.a.bool.isRequired,isSmartDeliveryEnabled:j.a.bool.isRequired,isSMSEnabled:j.a.bool.isRequired,isSMSDisabled:j.a.bool.isRequired,isPushDisabled:j.a.bool.isRequired,channels:j.a.shape(Fa.a.propTypes).isRequired,className:j.a.string,enableNotifications:j.a.func.isRequired};var In=Cn(xn),Fn=a("X8SR"),An=a.n(Fn);function Mn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ln(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(a),!0).forEach((function(t){x()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Mn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Dn=Object(O.d)(Object(E.b)(e=>({isBillingRequiredForSmsNotifications:S.a.isBillingRequiredForSmsNotifications(e),notificationDeliverySettings:S.a.getNotificationDeliverySettings(e),notificationReminderSettings:S.a.getNotificationReminderSettings(e,"appointment-reminder"),sendForBookingsByType:S.a.getClientNotificationSendForBookingsMap(e)}),null,(e,t,a)=>{var{notificationDeliverySettings:n,notificationReminderSettings:r,sendForBookingsByType:i}=e,o=v()(e,["notificationDeliverySettings","notificationReminderSettings","sendForBookingsByType"]),{firstAdvancePeriodInSeconds:s,secondAdvancePeriodInSeconds:c}=r||{},l=s?s/3600:0,u=c?c/3600:0,m=Object.values(i).reduce((e,t)=>e||t,!1)&&ia()(n,"sendForBookings");return Ln(Ln(Ln({},a),o),{},{fetched:!!n&&!!r,notificationReminderSettings:{firstAdvancePeriod:l,secondAdvancePeriod:u},sendForBookings:m,sendForBookingsByType:i})}),Object(sa.g)()),qn=({isBillingRequiredForSmsNotifications:e,notificationReminderSettings:t,sendForBookings:a,sendForBookingsByType:n,fetched:r,isMatch:i})=>{var[o,l]=Object(s.useState)(!1);Object(s.useEffect)(()=>{p.a.readNotificationReminder(),p.a.readNotificationDelivery(),p.a.readNotificationTypesList()},[]);var u=Object(s.useCallback)(()=>{G({sendForBookings:!0}).then(p.a.readNotificationTypesList)},[]),m=Object(s.useCallback)(()=>{G({sendForBookings:!1}).then(p.a.readNotificationTypesList).then(()=>l(!1))},[]);return c.a.createElement(P.a,{if:!r,fixedMobile:!0,type:"color-gray-2"},r&&c.a.createElement(c.a.Fragment,null,c.a.createElement(T.a,{hideFreshaPlusInactive:!e}),c.a.createElement(oa.b,{className:ae()(An.a.container),shrink:0,noSidePadding:i},c.a.createElement(In,{className:An.a.channels,sendForBookings:a,enableNotifications:u}),c.a.createElement(ee.b,null,c.a.createElement(wa,{isNotificationsEnabled:a,onAction:a?()=>l(!0):u}),c.a.createElement(Ia,{sendForBookingsByType:n,sendForBookings:a,notificationReminderSettings:t}))),o&&c.a.createElement(ha,{onConfirm:m,closeModal:()=>l(!1)})))};qn.propTypes={isMatch:j.a.bool,fetched:j.a.bool,isBillingRequiredForSmsNotifications:j.a.bool,sendForBookings:j.a.bool,sendForBookingsByType:j.a.object,notificationReminderSettings:j.a.object};var Bn=Dn(qn),zn=a("rIVd"),_n=a("wQmL"),Un=a("9wjN"),Hn=(e,t)=>t===h.d.CONFIRMATION?S.a.getNotificationConfirmationSettings(e,t):t===h.d.REMINDER?S.a.getNotificationReminderSettings(e,t):S.a.getNotificationTypeSettings(e,t),Qn=(e,t,a)=>{switch(t){case h.g.EMAIL:return S.a.clientNotificationsPreviewEmailHTML(e,a);case h.g.SMS:return S.a.clientNotificationsPreviewSmsText(e,a);case h.g.PUSH:return S.a.clientNotificationsPreviewPushText(e,a);default:return{}}};function Yn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Vn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(a),!0).forEach((function(t){x()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Yn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Wn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Jn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(a),!0).forEach((function(t){x()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Wn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Gn,Kn,Xn,Zn=a("kZhr"),$n=a("uZ2f"),er=a("heSc"),tr=a.n(er);function ar(){var e=r()(["e.g. Parking is available on the street"]);return ar=function(){return e},e}function nr(){var e=r()(["Important info (optional)"]);return nr=function(){return e},e}function rr(){var e=r()(["You can optionally include extra details for clients about their visit, this info is only displayed in emails"]);return rr=function(){return e},e}function ir(){var e=r()(["Important info"]);return ir=function(){return e},e}function or(){var e=r()(["none"]);return or=function(){return e},e}function sr(){var e=r()(["Additional reminder (optional)"]);return sr=function(){return e},e}function cr(){var e=r()(["Reminder advance notice"]);return cr=function(){return e},e}function lr(){var e=r()(["Choose how far in advance your reminder notification messages are sent to clients"]);return lr=function(){return e},e}function ur(){var e=r()(["Reminder timeframe"]);return ur=function(){return e},e}function mr(){var e=r()(["Display service prices on email"]);return mr=function(){return e},e}function dr(){var e=r()(["Display service prices and invoice link on email"]);return dr=function(){return e},e}function fr(){var e=r()(["Enable messages"]);return fr=function(){return e},e}var br,pr,hr,gr,yr,vr=e=>c.a.createElement(w.n,{key:"link",linkTo:g.b,inheritFontSize:!0,qaType:"learn-more-link"},e),Or=Zn.q.validate.maxLength(500),Er=Object(E.b)(e=>({importantInfoLength:(_(e,h.e.IMPORTANT_INFO)||"").length,advanceNoticeValue:_(e,h.e.ADVANCE_NOTICE),additionalAdvanceNoticeValue:_(e,h.e.ADDITIONAL_ADVANCE_NOTICE),isFreshaPlusActiveEnabled:!Object(T.d)(e),reshedulEnabled:S.a.isReshedulEnabled(e)}))(Gn=Object(Zn.q)({form:B,validate:({importantInfo:e})=>({importantInfo:Or(e)})})((Xn=Kn=class extends s.PureComponent{constructor(...e){super(...e),x()(this,"handleSettingsToggleChange",(e,t)=>{var{type:a,isFreshaPlusActiveEnabled:n}=this.props;a===h.d.THANK_YOU&&!t&&n&&Object(u.c)(g.j(a))})}render(){var{type:e,advanceNoticeValue:t,importantInfoLength:a,additionalAdvanceNoticeValue:n,disableSendSwitch:r,reshedulEnabled:i}=this.props,{showReminderSettings:o,getNotificationDescription:s}=h.c[e],l=z.filter(({value:e})=>e!==n),u=z.filter(({value:e})=>e!==t);return c.a.createElement(ee.b,{className:ae()(tr.a.self,{[tr.a.mobile]:Object(Un.f)()})},c.a.createElement(Rt.d,{className:ae()(tr.a.description,tr.a.subtitleText),qaType:"notification-settings-info"},s(vr)),c.a.createElement($n.b,be()({className:tr.a.toggle,normalize:Boolean,name:h.d.CONFIRMATION===e?h.e.SEND_FOR_OFFLINE_BOOKINGS:h.e.SEND_FOR_BOOKINGS,color:"green",size:"little","data-qa":"notification-settings-toggle",disabled:r,label:Object(m.c)(fr())},h.i[e],{onChange:this.handleSettingsToggleChange,noMargin:!0})),c.a.createElement($n.b,{className:tr.a.checkbox,normalize:Boolean,name:h.e.DISPLAY_PRICES,label:h.d.THANK_YOU===e?Object(m.c)(dr()):Object(m.c)(mr()),"data-qa":"prices-settings-toggle",noMargin:!0}),o&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ya.b,{label:Object(m.c)(ur()),sublabel:Object(m.c)(lr()),labelQaType:"reminder-advance-time-header",sublabelQaType:"reminder-advance-time-hint",theme:ya.a.WITH_DESKTOP_SMALL_HEADER}),c.a.createElement(ee.b,{className:tr.a.remindersContainer},c.a.createElement($n.r,{normalize:Number,className:tr.a.select,label:Object(m.c)(cr()),name:h.e.ADVANCE_NOTICE,qaType:"reminder-advance-time-select",noMargin:!0},l.map(e=>c.a.createElement("option",{key:e.value,value:e.value},e.text))),c.a.createElement($n.r,{normalize:Number,label:Object(m.c)(sr()),hideInvalidLabel:!0,name:h.e.ADDITIONAL_ADVANCE_NOTICE,className:ae()(tr.a.select,{[tr.a.disableSelect]:0===u.length}),qaType:"additional-reminder-advance-time-select",noMargin:!0},c.a.createElement("option",{value:0},Object(m.c)(or())),u.map(e=>c.a.createElement("option",{key:e.value,value:e.value},e.text))))),c.a.createElement(ya.b,{label:Object(m.c)(ir()),sublabel:Object(m.c)(rr()),labelQaType:"additional-info-header",sublabelQaType:"additional-info-hint",theme:ya.a.WITH_DESKTOP_SMALL_HEADER}),c.a.createElement($n.s,{name:h.e.IMPORTANT_INFO,qaType:"important-info-input",label:Object(m.c)(nr()),type:"textarea",className:tr.a.textarea,counterQaType:"important-info-remaining-characters-label",rows:Object(Un.f)()?1:3,maxLength:i?500:void 0,maxRows:Object(Un.f)()?2:3,hideErrorMessage:!0,placeholder:Object(m.c)(ar()),noMargin:!0,multiline:!0}),!i&&c.a.createElement(Z.Text,{color:"gray50",type:"fresha-caption-small",className:ae()(tr.a.textareaSubtitle,{[tr.a.error]:500-a<0}),qaType:"important-info-remaining-characters-label"},Object(m.c)("%{count} characters left",{count:500-a})))}},x()(Kn,"propTypes",{advanceNoticeValue:j.a.number,additionalAdvanceNoticeValue:j.a.number,importantInfoLength:j.a.number,disableSendSwitch:j.a.bool,isFreshaPlusActiveEnabled:j.a.bool,type:j.a.oneOf(Object.values(h.d)),reshedulEnabled:j.a.bool}),Gn=Xn))||Gn)||Gn,Nr=a("ukyF"),jr=a.n(Nr);function Sr(){var e=r()(["Send test"]);return Sr=function(){return e},e}function wr(){var e=r()(["Send test"]);return wr=function(){return e},e}function Pr(){var e=r()(["Too many messages sent. Try tomorrow."]);return Pr=function(){return e},e}function Tr(){var e=r()(["Test message sent!"]);return Tr=function(){return e},e}function kr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Rr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(a),!0).forEach((function(t){x()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):kr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Cr(){var e=r()(["Email address"]);return Cr=function(){return e},e}function xr(){var e=r()(["Mobile number"]);return xr=function(){return e},e}var Ir={[h.g.SMS]:{placeholder:Object(m.c)(xr())},[h.g.EMAIL]:{placeholder:Object(m.c)(Cr())}},Fr=(br=Object(E.b)((e,{type:t})=>({initialValues:Rr(Rr({},"sms"===t?{sms:S.a.getProviderPhonePrefix(e)}:{}),"email"===t?{email:S.a.getCurrentEmployeeEmail(e)}:{})}),e=>({getPreviewRequestPayload:t=>e(W(t)),pushNotificationEmailSendTest:(t,a)=>e(((e,t)=>()=>{var a=I.a.clientNotificationsPreviewPostRequest(t);return p.a.pushNotificationEmailSendTest(a,e)})(t,a)),pushNotificationSmsSendTest:(t,a)=>e(((e,t)=>()=>{var a=I.a.clientNotificationsPreviewPostRequest(t);return p.a.pushNotificationSmsSendTest(a,e)})(t,a))}),(e,t,a)=>{var{history:n,location:r,match:i}=a,s=v()(a,["history","location","match"]),{type:c}=i.params;return Rr(Rr(Rr({},e),s),{},{onSubmit:({email:e,sms:a})=>{var{payload:n}=t.getPreviewRequestPayload(c);return e?t.pushNotificationEmailSendTest(c,Rr(Rr({},n),{},{email:e})):a?t.pushNotificationSmsSendTest(c,Rr(Rr({},n),{},{phoneNumber:a})):new o.a}})}),pr=Object(Zn.q)({form:"send-test",validate:({email:e,sms:t})=>({email:e?Zn.kb.email()(e):void 0,sms:t?Zn.kb.phoneNumber()(t):void 0}),enableReinitialize:!0,onSubmitSuccess:()=>p.a.addSuccessToast(Object(m.c)(Tr()))}),Object(l.f)(hr=br(hr=pr((yr=gr=class extends s.Component{constructor(...e){super(...e),x()(this,"state",{disabled:!1}),x()(this,"onSubmit",()=>{this.props.submit(),this.setState({disabled:!0},()=>{setTimeout(()=>{this.props.submitFailed||this.setState({disabled:!1})},5e3)})})}componentDidUpdate(e){this.props.type!==e.type&&this.props.reset()}render(){var{isDesktop:e,type:t,label:a,invalid:n,submitFailed:r}=this.props,{disabled:i}=this.state;if(!Object.keys(Ir).includes(t))return null;var{placeholder:o}=Ir[t],s=r&&{error:Object(m.c)(Pr()),invalid:!0,touched:!0};return c.a.createElement(ee.b,{className:ae()({[jr.a.previewForm]:e,[jr.a.previewFormMobile]:!e})},c.a.createElement($n.e,be()({name:t,label:!e&&Object(m.c)(wr())},s&&{meta:s},{placeholder:o,onAction:this.onSubmit,wrapperClassName:ae()({[jr.a.inputWrapperMobile]:!e}),noMargin:!0,disabled:i||n,field:"sms"===t&&c.a.createElement($n.o,be()({className:jr.a.phoneInput,name:t,label:a},s&&{meta:s},{noLabel:!a,placeholder:o,wrapperClassName:ae()({[jr.a.inputWrapperMobile]:!e}),disabledSelect:!0})),actionText:Object(m.c)(Sr())})))}},x()(gr,"propTypes",{type:N.string,submit:N.func,reset:N.func,label:N.string,invalid:N.bool,submitFailed:N.bool,isDesktop:N.bool}),hr=yr))||hr)||hr)||hr),Ar=a("N/yg"),Mr=a.n(Ar),Lr=e=>c.a.createElement(Rt.d,{className:Mr.a.self},e.children);Lr.propTypes={children:j.a.node.isRequired};var Dr=a("Prm2"),qr=a.n(Dr),Br=e=>c.a.createElement(ee.b,{className:ae()(qr.a.self,{[qr.a.mobile]:e.isMobile})},e.children);Br.propTypes={isMobile:j.a.bool,children:j.a.node.isRequired},Br.defaultProps={isMobile:!1};var zr=a("jLFJ"),_r=a("X+/2"),Ur=a("9COs"),Hr=a.n(Ur),Qr=Object(zr.d)(Object(zr.e)(_r.a.Item)),Yr=({current:e,onChange:t,isDesktop:a,tabs:n,getTabName:r})=>c.a.createElement(_r.a,{className:Hr.a.self,selected:e},n.map(e=>c.a.createElement(Qr,{qaType:"preview-tab-".concat(e),key:e,as:"button",className:Hr.a.element,onAction:t(e)},r(e,a))));Yr.propTypes={onChange:N.func.isRequired,current:N.number.isRequired,tabs:N.array.isRequired,isDesktop:N.bool,getTabName:N.func.isRequired};var Vr=Yr,Wr=a("L8xJ"),Jr=a("2YMf"),Gr=a.n(Jr);class Kr extends s.PureComponent{render(){var{menu:e,children:t}=this.props;return c.a.createElement(ee.b,{className:Gr.a.self},e,c.a.createElement(Wr.b,{shadowTop:!0},t))}}x()(Kr,"propTypes",{menu:j.a.node,children:j.a.node});var Xr=Kr,Zr=({title:e,handleClose:t,children:a})=>c.a.createElement(ca.i,{fullHeight:!0,withoutAnimation:!0},c.a.createElement(ca.g,{onClose:t,noBottomPadding:!0},e),c.a.createElement(ca.c,{noShrink:!0,noPadding:!0},a));Zr.propTypes={title:j.a.string,handleClose:j.a.func,children:j.a.node};var $r=Zr,ei=a("tJFL"),ti=a("AUDC"),ai=a.n(ti),ni=({children:e,isDesktop:t,isSmallPhone:a,type:n,content:r,isLoading:i,isBlankScreen:o})=>{var{body:s,subject:l}=r||{};return t?c.a.createElement(c.a.Fragment,null,c.a.createElement(ei.c,{className:ai.a.phone,small:a,withScreenShadow:a,isLoading:i,blankScreen:o},c.a.createElement(ei.a,{type:n,content:s,title:l,isExample:!0})),e):c.a.createElement(ee.b,{className:ai.a.scrollContainer},c.a.createElement(ei.b,{withShadow:!0,isLoading:i,isBlank:o,small:a},c.a.createElement(ei.a,{type:n,content:s,title:l,isExample:!0})),e)};ni.propTypes={children:N.node,isDesktop:N.bool,isSmallPhone:N.bool,isLoading:N.bool,isBlankScreen:N.bool,type:Object(N.oneOf)(["html","text"]),content:N.object};var ri=({match:{params:{type:e}},children:t})=>c.a.createElement($r,{title:Object(m.c)("%{campaignType} - Preview",{campaignType:h.c[e].mobileHeader}),handleClose:()=>Object(u.b)(Object(g.k)(e))},t);ri.propTypes={match:j.a.shape({params:j.a.shape({type:j.a.oneOf(Object.values(h.d))})}),children:j.a.node};var ii=ri,oi=a("nh2e"),si=a.n(oi),ci=({className:e,label:t})=>c.a.createElement(ee.b,{className:ae()(si.a.self,e)},c.a.createElement(Ja.b,{name:"check-solid",color:"green",className:si.a.icon,size:"small"}),c.a.createElement(Rt.d,{type:"inherit"},t));ci.propTypes={className:j.a.string,label:j.a.string.isRequired};var li=ci,ui=a("510Z"),mi=a.p+"1451d96f982c324ce84afb59677c8ae5.png",di=a("Qtws"),fi=a.n(di);function bi(){var e=r()(["Start Now"]);return bi=function(){return e},e}var pi=e=>{var{className:t,title:a,children:n}=e,r=v()(e,["className","title","children"]);return c.a.createElement(ee.b,be()({className:ae()(fi.a.self,t)},r),c.a.createElement(Rt.d,{className:fi.a.title,type:"main-title"},a),c.a.createElement(ee.b,{className:fi.a.description},n),c.a.createElement(w.a,{onAction:Wa.g,className:fi.a.button},Object(m.c)(bi())),c.a.createElement(ee.b,{className:fi.a.imageContainer},c.a.createElement(ee.b,{className:fi.a.circle}),c.a.createElement(ui.a,{className:fi.a.image,src:mi})))};pi.propTypes={className:j.a.string,title:j.a.string,children:j.a.node};var hi=pi,gi=a("mTOs"),yi=a.n(gi);function vi(){var e=r()(["App push notifications"]);return vi=function(){return e},e}function Oi(){var e=r()(["SMS text messages"]);return Oi=function(){return e},e}function Ei(){var e=r()(["Reduce no shows by reaching more clients with:"]);return Ei=function(){return e},e}var Ni=e=>c.a.createElement(hi,be()({className:yi.a.self,title:Object(m.c)("Unlock full potential with Fresha %{plus}",{plus:c.a.createElement(Rt.d,{as:"span",color:Rt.b.FRESHA_YELLOW,type:"inherit"},"Plus")})},e),c.a.createElement(ee.b,{className:yi.a.description},Object(m.c)(Ei())),c.a.createElement(li,{className:yi.a.checkItem,label:Object(m.c)(Oi())}),c.a.createElement(li,{className:yi.a.checkItem,label:Object(m.c)(vi())}));Ni.propTypes={className:j.a.string};var ji=Ni;function Si(){var e=r()(["Get access to powerful online booking features used by millions of\n        customers to supercharge your business growth"]);return Si=function(){return e},e}var wi=e=>c.a.createElement(hi,be()({title:Object(m.c)("Send app notifications with Fresha %{plus}",{plus:c.a.createElement(Rt.d,{as:"span",color:Rt.b.FRESHA_YELLOW,type:"inherit"},"Plus")})},e),Object(m.c)(Si()));function Pi(){var e=r()(["now"]);return Pi=function(){return e},e}function Ti(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ki(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ti(Object(a),!0).forEach((function(t){x()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ti(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ri(){var e=r()(["Example message"]);return Ri=function(){return e},e}function Ci(){var e=r()(["App"]);return Ci=function(){return e},e}function xi(){var e=r()(["App Notification"]);return xi=function(){return e},e}function Ii(){var e=r()(["SMS Text"]);return Ii=function(){return e},e}function Fi(){var e=r()(["Email"]);return Fi=function(){return e},e}var Ai=(e,t)=>({email:Object(m.c)(Fi()),sms:Object(m.c)(Ii()),push:t?Object(m.c)(xi()):Object(m.c)(Ci())}[e]),Mi=({children:e,content:t,tab:a,tabs:n,onChangeTab:r,forceMobile:i,notificationChannels:o,isLoading:l,onUnmount:u})=>{Object(s.useEffect)(()=>u,[]);var d=i?!i:Object(Un.d)(),f=h.g.SMS===a&&o.sms===h.b.DISABLED&&c.a.createElement(ji,null),b=h.g.PUSH===a&&o.push===h.b.DISABLED&&c.a.createElement(wi,null),p=(e=>{var{HTML:t,PUSH:a,SMS:n}=Z.PhonePreview.PREVIEW_TYPE;switch(e){case"email":return t;case"push":return a;default:return n}})(a);return c.a.createElement(Xr,{menu:c.a.createElement(Vr,{current:n.indexOf(a),onChange:r,isDesktop:d,getTabName:Ai,tabs:n})},f||b||c.a.createElement(Z.PhonePreview,{title:Object(m.c)(Ri()),type:p,content:ki({date:Object(m.c)(Pi())},t),isLoading:l,isDesktop:d,htmlHasRootElement:!0},e))};Mi.propTypes={content:Object(N.shape)({subject:N.string,body:N.string}),children:N.node,tab:Object(N.oneOf)(["email","push","sms"]),tabs:N.array,notificationChannels:Object(N.shape)(Fa.a.propTypes),forceMobile:N.bool,onChangeTab:N.func,onUnmount:N.func.isRequired,isLoading:N.bool};var Li=Mi,Di=Object(s.createContext)();function qi(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Bi(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qi(Object(a),!0).forEach((function(t){x()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qi(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var zi=Object(O.d)(Object(E.b)(e=>({getContent:(t,a)=>Qn(e,t,a)}),null,(e,t,a)=>Bi(Bi(Bi(Bi({},e),t),a),{},{onUnmount:()=>{p.a.clearPreviewEmail(),p.a.clearPreviewPush(),p.a.clearPreviewSms()}}))),_i=({getContent:e,onUnmount:t,children:a})=>{var{tab:n,type:r,tabs:i,isTyping:o,notificationChannels:l,onChangeTab:u}=Object(s.useContext)(Di),m=e(n,r);return c.a.createElement(Li,{isLoading:o,content:m,notificationChannels:l,tab:n,tabs:i,onChangeTab:u,onUnmount:t},a)};_i.propTypes={getContent:j.a.func.isRequired,onUnmount:j.a.func.isRequired,children:j.a.node};var Ui=zi(_i);function Hi(){var e=r()(["Preview"]);return Hi=function(){return e},e}function Qi(){var e=r()(["Save"]);return Qi=function(){return e},e}var Yi=({children:e,goBack:t,tab:a,type:n,isLoading:r,isSubmitting:i,invalid:o,submitForm:s,onOpenPreview:u})=>c.a.createElement(d.a,{header:(h.c[n]||{}).mobileHeader,headerPrimaryAction:c.a.createElement(w.c,{onAction:t,size:"large"}),footer:c.a.createElement(c.a.Fragment,null,c.a.createElement(w.f,{isPending:i,onAction:s,basis:"50%",disabled:o},Object(m.c)(Qi())),c.a.createElement(w.a,{onAction:u,basis:"50%"},Object(m.c)(Hi()))),withoutAnimation:!0,disableToaster:!0},r?c.a.createElement(P.a,{if:r,static:!0,fixedMobile:!0}):c.a.createElement(c.a.Fragment,null,e,c.a.createElement(l.b,{path:g.g,render:e=>c.a.createElement(ii,e,c.a.createElement(Ui,null,c.a.createElement(Fr,{type:a})))})));Yi.propTypes={children:N.node,tab:N.string,type:N.string,goBack:N.func,onOpenPreview:N.func,isLoading:N.bool,isSubmitting:N.bool,submitForm:N.func,invalid:N.bool};var Vi=Yi,Wi=a("LLmO");function Ji(){var e=r()(["Save"]);return Ji=function(){return e},e}var Gi=({children:e,backLink:t,tab:a,type:n,isLoading:r,isSubmitting:i,invalid:o,submitForm:s})=>c.a.createElement(Wi.a,{title:h.c[n].header,closeLink:t,isFetching:r,leftPanel:e,rightPanel:c.a.createElement(Ui,null,c.a.createElement(Fr,{type:a,isDesktop:!0})),buttons:c.a.createElement(Z.Button,{variant:"primary",isPending:i,onAction:s,disabled:o,qaType:"save-settings-button"},Object(m.c)(Ji()))});Gi.propTypes={children:N.node,tab:N.string,type:N.string,backLink:N.string,isLoading:N.bool,isSubmitting:N.bool,submitForm:N.func.isRequired,invalid:N.bool.isRequired};var Ki=Gi,Xi=a("ZO1O");function Zi(){var e=r()(["Cancel"]);return Zi=function(){return e},e}function $i(){var e=r()(["Continue"]);return $i=function(){return e},e}function eo(){var e=r()(["Thank you messages are the most effective way for clients to rebook their next appointment, leave reviews and pay tips. Disabling thank you messages can negatively impact your business."]);return eo=function(){return e},e}function to(){var e=r()(["Are you sure?"]);return to=function(){return e},e}var ao=({enableForBookedAppointments:e})=>{var t=()=>{e(),Object(u.b)(Object(g.k)(h.d.THANK_YOU))};return c.a.createElement(ca.i,{size:"small"},c.a.createElement(ca.g,{onClose:t},Object(m.c)(to())),c.a.createElement(ca.c,{noPadding:!0},c.a.createElement(Xi.d,{type:"plain"},c.a.createElement(Rt.d,{type:"body-1"},Object(m.c)(eo())))),c.a.createElement(ca.e,null,c.a.createElement(ca.a,{onAction:()=>{Object(u.b)(Object(g.k)(h.d.THANK_YOU))},type:w.g},Object(m.c)($i())),c.a.createElement(ca.a,{onAction:t,type:w.a},Object(m.c)(Zi()))))};ao.propTypes={enableForBookedAppointments:j.a.func};var no=ao,ro=Object(O.d)(Object(E.b)(null,e=>({enableForBookedAppointments:()=>e(Object(Zn.L)(B,h.e.SEND_FOR_BOOKINGS,!0))})))(no);function io(){var e=r()(["Message"]);return io=function(){return e},e}function oo(){var e=r()(["Cannot load notification settings"]);return oo=function(){return e},e}function so(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function co(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?so(Object(a),!0).forEach((function(t){x()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):so(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var lo=Object(O.d)(Object(E.b)((e,t)=>{var{type:a}=t.match.params;return{tab:S.a.getVisibleNotificationChannelsByType(e,a)[0],tabs:S.a.getVisibleNotificationChannelsByType(e,a),notificationChannels:S.a.getNotificationChannels(e),settings:Hn(e,a),formImportantInfo:U(e),formDisplayPrices:H(e),notificationDeliverySettings:S.a.getNotificationDeliverySettings(e),content:Qn(e,t.tab,t.type),invalid:Object(zn.a)(B)(e)}},(e,t)=>({getNotification:t=>e((e=>()=>e===h.d.REMINDER?p.a.readNotificationReminder():e===h.d.CONFIRMATION?p.a.readNotificationConfirmation():p.a.readNotificationTypeByName(e))(t)),updateNotification:(t,a)=>e(((e,t)=>()=>e===h.d.REMINDER?p.a.updateNotificationReminder(t):e===h.d.CONFIRMATION?p.a.updateNotificationConfirmation(t):p.a.updateNotificationTypes(e,t))(t,a)),submitForm:()=>e(Object(_n.k)(B)),fetchPreview:a=>n=>{var{type:r}=t.match.params;if(a){var{payload:i}=e(W(r));if(n||i)switch(a){case h.g.EMAIL:e(((e,t)=>()=>{var a=I.a.clientNotificationsPreviewPostRequest(t);return p.a.fetchNotificationEmailPreview(a,e)})(r,n||i));break;case h.g.SMS:e(((e,t)=>()=>{var a=I.a.clientNotificationsPreviewPostRequest(t);return p.a.fetchNotificationSmsPreview(a,e)})(r,n||i));break;case h.g.PUSH:e(((e,t)=>()=>{var a=I.a.clientNotificationsPreviewPostRequest(t);return p.a.fetchNotificationPushPreview(a,e)})(r,n||i))}}}}),(e,t,a)=>{var{notificationDeliverySettings:n}=e,r=v()(e,["notificationDeliverySettings"]),{type:i}=a.match.params;return co(co(co({},r),t),{},{type:i,sendForOnlineBookings:ia()(n,"sendForOfflineBookings")})})),uo=({type:e,tab:t,tabs:a,notificationChannels:n,settings:r,formImportantInfo:o,formDisplayPrices:d,sendForOnlineBookings:f,getNotification:b,updateNotification:y,fetchPreview:O,content:E,invalid:N,submitForm:j})=>{var[S,w]=Object(s.useState)(t),[P,T]=Object(s.useState)(!0),[k,R]=Object(s.useState)(!1),[C,x]=Object(s.useState)(!1),F=()=>Object(u.b)(g.d);Object(s.useEffect)(()=>{Object.values(h.d).includes(e)?Object(i.all)([p.a.readClientNotificationsPreview(e),b(e),p.a.readNotificationDelivery()]).catch(()=>{p.a.addErrorToast(Object(m.c)(oo())),F()}).finally(()=>{T(!1)}):F()},[]);var A=t=>{R(!0);var a=((e,t)=>{var{sendForBookings:a,sendForOfflineBookings:n}=t,r=v()(t,["sendForBookings","sendForOfflineBookings"]);return Jn(Jn({},e===h.d.CONFIRMATION?{sendForOfflineBookings:n}:{sendForBookings:a}),r)})(e,t);e===h.d.REMINDER&&(a=(e=>{var{firstAdvancePeriodInSeconds:t,secondAdvancePeriodInSeconds:a}=e;return Vn(Vn({},v()(e,["firstAdvancePeriodInSeconds","secondAdvancePeriodInSeconds"])),a>t?{firstAdvancePeriodInSeconds:a,secondAdvancePeriodInSeconds:t}:{firstAdvancePeriodInSeconds:t,secondAdvancePeriodInSeconds:a})})(a)),y(e,I.a.createNotificationTypeSettingsUpdateRequest(a)).then(()=>{p.a.addUpdatedToast(Object(m.c)(io())),F()}).finally(()=>{R(!1)})},M=e=>{O(S)(e),x(!1)},L=Object(s.useRef)(X()(M,1e3)).current,D=()=>!C&&x(!0);Object(s.useEffect)(()=>{D(),M()},[S]),Object(s.useEffect)(()=>{h.j.includes(S)&&(D(),L())},[o,d]);var q={goBack:F,backLink:g.d,tab:S,type:e,isLoading:P,isTyping:C,isSubmitting:k,content:E,invalid:N,submitForm:j};return c.a.createElement(Di.Provider,{value:{tab:S,type:e,tabs:a,isTyping:C,notificationChannels:n,onChangeTab:e=>()=>w(e)}},Object(Un.f)()&&c.a.createElement(Vi,be()({},q,{onOpenPreview:()=>Object(u.c)(Object(g.l)(e))}),c.a.createElement(Er,{type:e,onSubmit:A,initialValues:r,disableSendSwitch:!f}),c.a.createElement(l.b,{path:g.f,component:ro})),!Object(Un.f)()&&c.a.createElement(Ki,q,c.a.createElement(Er,{type:e,onSubmit:A,initialValues:r,disableSendSwitch:!f}),c.a.createElement(l.b,{path:g.f,component:ro})))};uo.propTypes={type:N.string.isRequired,tab:N.string.isRequired,tabs:Object(N.arrayOf)(N.string).isRequired,notificationChannels:Object(N.shape)(Fa.a.propTypes).isRequired,getDisableFetching:N.func.isRequired,fetchPreview:N.func.isRequired,getNotification:N.func.isRequired,updateNotification:N.func.isRequired,settings:N.object.isRequired,formImportantInfo:N.string.isRequired,formDisplayPrices:N.string.isRequired,sendForOnlineBookings:N.bool.isRequired,submitForm:N.func.isRequired,invalid:N.bool.isRequired,content:Object(N.shape)({subject:N.string,body:N.string}).isRequired};var mo=lo(uo);function fo(){var e=r()(["Older Client Messages"]);return fo=function(){return e},e}function bo(){var e=r()(["Client Messages"]);return bo=function(){return e},e}function po(){var e=r()(["Manage messages which send to clients about their appointments"]);return po=function(){return e},e}function ho(){var e=r()(["Settings"]);return ho=function(){return e},e}function go(){var e=r()(["Review messages sent to clients about their appointments"]);return go=function(){return e},e}function yo(){var e=r()(["Messages Log"]);return yo=function(){return e},e}var vo=()=>Object(i.all)([p.a.readAvailableNotificationChannels(),p.a.readNotificationTypesList()]),Oo=e=>[...e.notifications?[{url:g.a,title:Object(m.c)(yo()),description:Object(m.c)(go()),icon:"nav-m-messages",desktopComponent:na}]:[],...e.clientSettings?[{url:g.d,title:Object(m.c)(ho()),description:Object(m.c)(po()),icon:"settings",desktopComponent:Bn}]:[]];t.default=()=>c.a.createElement(b.b,h.h,e=>c.a.createElement(f.e,{routes:Oo(e),url:g.i,title:Object(m.c)(bo()),makeApiCalls:vo},c.a.createElement(l.b,{path:g.e,component:mo}),c.a.createElement(l.b,{path:g.c,render:()=>c.a.createElement(d.a,{header:Object(m.c)(fo()),headerOnAction:()=>Object(u.b)(g.a)},c.a.createElement(Yt,null))})))},hHaU:function(e,t,a){"use strict";a.d(t,"a",(function(){return D}));var n,r,i,o=a("lSNA"),s=a.n(o),c=a("VkAN"),l=a.n(c),u=a("q1tI"),m=a.n(u),d=a("17x9"),f=a.n(d),b=a("TSYQ"),p=a.n(b),h=a("PhEd"),g=a("/MKj"),y=a("kWUZ"),v=a("ePPS"),O=a("nbpM"),E=a("dhJQ"),N=a("swAa"),j=a("3wSE"),S=a("Efg3"),w=a.n(S),P=a("z141");function T(){var e=l()(["Start now"]);return T=function(){return e},e}function k(){var e=l()(["Register interest"]);return k=function(){return e},e}function R(){var e=l()(["Start now"]);return R=function(){return e},e}function C(){var e=l()(["Register interest"]);return C=function(){return e},e}function x(){var e=l()(["Interested in Consultation Forms"]);return x=function(){return e},e}function I(){var e=l()(["Interested in Card Terminal"]);return I=function(){return e},e}function F(){var e=l()(["Interested in Fresha Plus"]);return F=function(){return e},e}function A(){var e=l()(["Interested in Fresha Pay"]);return A=function(){return e},e}function M(){var e=l()(["Interested in Marketing"]);return M=function(){return e},e}var L={[P.a.MARKETING]:Object(v.c)(M()),[P.a.FRESHA_PAY]:Object(v.c)(A()),[P.a.FRESHA_PLUS]:Object(v.c)(F()),[P.a.CARD_TERMINALS]:Object(v.c)(I()),[P.a.CONSULTATION_FORMS]:Object(v.c)(x())},D=Object(E.g)("isMobile")(n=Object(g.b)(e=>({isReshedulEnabled:O.a.isReshedulEnabled(e),isCreditsEnabled:O.a.isCreditsEnabled(e),isRewardApplicable:O.a.isRewardApplicable(e,N.a.FIRST_ONLINE_PROFILE_PUBLICATION),formattedRewardAmount:O.a.formattedRewardAmount(e,N.a.FIRST_ONLINE_PROFILE_PUBLICATION)}))((i=r=class extends u.PureComponent{render(){var{isComingSoon:e,onAction:t,className:a,type:n,qaType:r,isReshedulEnabled:i,isMobile:o,isCreditsEnabled:s,formattedRewardAmount:c,isRewardApplicable:l,staticSize:u}=this.props,d=o||u?void 0:"large";return i?e?m.a.createElement(h.Button,{linkTo:"mailto:".concat(y.c,"?subject=").concat(encodeURI(L[n])),className:p()(w.a.self,a),qaType:r,variant:"primary",size:d},Object(v.c)(C())):m.a.createElement(h.Button,{className:p()(w.a.self,a),onAction:t,qaType:r,variant:"primary",size:d},s&&l?Object(v.c)("Start now and get %{amount}",{amount:c}):Object(v.c)(R())):e?m.a.createElement(j.j,{linkTo:"mailto:".concat(y.c,"?subject=").concat(encodeURI(L[n])),className:p()(w.a.self,a),qaType:r},Object(v.c)(k())):m.a.createElement(j.k,{className:p()(w.a.self,a),onAction:t,qaType:r},Object(v.c)(T()))}},s()(r,"propTypes",{isComingSoon:f.a.bool,isReshedulEnabled:f.a.bool,onAction:f.a.func,className:f.a.string,qaType:f.a.string,type:f.a.oneOf(Object.values(P.a)),isMobile:f.a.bool,staticSize:f.a.bool,isCreditsEnabled:f.a.bool,formattedRewardAmount:f.a.string,isRewardApplicable:f.a.bool}),n=i))||n)||n},mdQd:function(e,t,a){"use strict";a.d(t,"a",(function(){return F}));var n,r,i,o,s,c=a("pVnL"),l=a.n(c),u=a("QILm"),m=a.n(u),d=a("lSNA"),f=a.n(d),b=a("N1om"),p=a.n(b),h=a("q1tI"),g=a.n(h),y=a("17x9"),v=a.n(y),O=a("TSYQ"),E=a.n(O),N=a("PhEd"),j=a("/MKj"),S=a("Jje6"),w=a("dhJQ"),P=a("jLFJ"),T=a("i6OX"),k=a("9hiP"),R=a("IiP0"),C=a("nbpM"),x=a("/8oc"),I=a.n(x),F=(n=Object(w.g)(),r=Object(j.b)(e=>({isReshedulEnabled:C.a.isReshedulEnabled(e)})),Object(P.b)(i=n(i=r((s=o=class extends h.PureComponent{render(){var e,t=this.props,{title:a,description:n,icon:r,color:i,badgeText:o,badgeColor:s=k.a.BLUE,hasAction:c,className:u,noArrow:d,isReshedulEnabled:f,isFirst:b}=t,h=m()(t,["title","description","icon","color","badgeText","badgeColor","hasAction","className","noArrow","isReshedulEnabled","isFirst"]);return r?e=g.a.createElement(T.b,{shrink:0,className:I.a.icon,name:r,color:"original",size:"large"}):i&&(e=g.a.createElement(S.b,{shrink:0,style:{background:Object(R.e)(i)},className:I.a.colorDot})),g.a.createElement(S.b,l()({qaType:"tile-button-".concat(p()(a)),className:E()(u,I.a.self,{[I.a.hasAction]:c,[I.a.isFirst]:b})},h),e,g.a.createElement(S.b,{className:I.a.container},g.a.createElement(S.b,{grow:1,alignItems:"center",className:I.a.content},f?g.a.createElement(N.Text,{type:"fresha-h4",className:I.a.title,color:"gray100"},a):g.a.createElement(S.b,{type:"row-button-primary",className:I.a.title,flex:"row",alignItems:"center",justifyContent:"space-between"},a),n&&(f?g.a.createElement(N.Text,{type:"fresha-caption",color:"gray50",className:I.a.description},n):g.a.createElement(S.b,{className:I.a.description},n))),g.a.createElement(k.b,{badgeText:o,badgeColor:s,className:I.a.badge}),!d&&c&&g.a.createElement(T.b,{className:I.a.arrowRight,name:"fresha-chevron-right",color:"fresha-black",size:"standard"})))}},f()(o,"propTypes",{title:v.a.string,description:v.a.string,icon:v.a.string,color:v.a.string,badgeColor:v.a.oneOf(Object.values(k.a)),badgeText:v.a.string,hasAction:v.a.bool,noArrow:v.a.bool,isReshedulEnabled:v.a.bool,isFirst:v.a.bool,className:v.a.string}),i=s))||i)||i)||i)},n0Cl:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var n,r,i,o=a("VkAN"),s=a.n(o),c=a("lSNA"),l=a.n(c),u=a("mwIZ"),m=a.n(u),d=a("q1tI"),f=a.n(d),b=a("17x9"),p=a.n(b),h=a("/MKj"),g=a("TSYQ"),y=a.n(g),v=a("5ZU+"),O=a("nbpM"),E=a("ePPS"),N=a("Jje6"),j=a("XOuL"),S=a("/Q2I"),w=a("tJFL"),P=a("FAYg"),T=a("ZIP/"),k=a("dvkN"),R=a.n(k);function C(){var e=s()(["View Message"]);return C=function(){return e},e}var x=Object(h.b)((e,t)=>{var a=O.a.getMessageEntryById(e,t.id);return{channel:m()(a,"channel")}})((i=r=class extends d.PureComponent{constructor(...e){super(...e),l()(this,"state",{type:null,loaded:!1,content:null,header:null}),l()(this,"onIframeLoad",()=>{this.setState({loaded:!0})}),l()(this,"getEmbedMessageLink",e=>"".concat(P.SHEDUL_IFRAME_URL,"/notifications/").concat(e,"/embed"))}componentDidMount(){v.a.readMessage(this.props.id).catch(()=>this.setState({type:"embed"})).then(e=>{var t=m()(e,"body.data.attributes.content");t&&this.setState({content:t,header:m()(e,"body.data.attributes.header"),loaded:!0,type:"iframe"})})}render(){var{id:e,channel:t,onClose:a}=this.props,{loaded:n,content:r,header:i,type:o}=this.state,s=t===T.g.EMAIL?"html":"text";return f.a.createElement(N.b,null,f.a.createElement(S.i,{containerClassName:R.a.self,withoutAnimation:!0},f.a.createElement(S.g,{onClose:a},Object(E.c)(C())),f.a.createElement(S.c,{className:y()({[R.a.content]:"iframe"===o})},f.a.createElement(j.a,{className:R.a.loader,fixedMobile:!0,if:!n},"embed"===o&&f.a.createElement(N.b,{as:"iframe",className:R.a.iframe,src:this.getEmbedMessageLink(e),onLoad:this.onIframeLoad}),"iframe"===o&&f.a.createElement("div",{className:R.a.fakePhoneContainer},f.a.createElement(w.b,{withShadow:!0},f.a.createElement(w.a,{type:s,content:r,title:t===T.g.SMS?"":i})))))))}},l()(r,"propTypes",{id:p.a.oneOfType([p.a.number,p.a.string]),channel:p.a.string,onClose:p.a.func.isRequired}),n=i))||n},qwlH:function(e,t,a){"use strict";a.d(t,"d",(function(){return H})),a.d(t,"a",(function(){return E})),a.d(t,"b",(function(){return R})),a.d(t,"c",(function(){return M}));var n=a("pVnL"),r=a.n(n),i=a("QILm"),o=a.n(i),s=a("Puqe"),c=a.n(s),l=a("q1tI"),u=a.n(l),m=a("17x9"),d=a.n(m),f=a("s/Ur"),b=a.n(f),p=a("TSYQ"),h=a.n(p),g=a("Xg/3"),y=a("i6OX"),v=a("zC5H"),O=a.n(v);function E(e){var{className:t,sortOrder:a,sortBy:n,active:i,format:s,onClick:c,children:l}=e,m=o()(e,["className","sortOrder","sortBy","active","format","onClick","children"]),d=h()(O.a.self,t,{[O.a.sortable]:n,[O.a.active]:n&&i,[O.a["order-".concat(a)]]:n&&i,[O.a[s]]:!!s});return u.a.createElement("th",r()({className:d},m,{onClick:c?e=>c(e,n,a):null}),u.a.createElement("div",null,l),n?u.a.createElement("span",null,u.a.createElement(y.b,{name:"chevron-up",className:h()(O.a.icon,O.a.iconUp)}),u.a.createElement(y.b,{name:"chevron-down",className:h()(O.a.icon,O.a.iconDown)})):null)}E.propTypes={children:d.a.node,className:d.a.string,sortBy:d.a.string,sortOrder:d.a.oneOf(["asc","desc"]),active:d.a.bool,onClick:d.a.func,format:d.a.oneOf(["number"])};var N=a("lSCD"),j=a.n(N),S=a("E/hq"),w=a.n(S);function P(e){var{children:t,className:a,wrapper:n,format:i}=e,s=o()(e,["children","className","wrapper","format"]),c=h()(a,w.a.self,{[w.a[i]]:i}),l=u.a.createElement("td",r()({className:c},s),t);return j()(n)&&(l=n(l)),l}P.propTypes={children:d.a.node,className:d.a.string,format:d.a.oneOf(["number"]),wrapper:d.a.func};var T=a("QlcP"),k=a.n(T);function R(e){var{children:t,className:a,cellClassName:n,hoverable:i,condensed:s,colSpan:c,wrapper:l,dataQa:m}=e,d=o()(e,["children","className","cellClassName","hoverable","condensed","colSpan","wrapper","dataQa"]),f=h()(k.a.cell,n),b=u.a.createElement("tr",r()({className:h()(k.a.self,a,{[k.a.hoverable]:i,[k.a.condensed]:s}),"data-qa":m||"product-list-item"},d),u.a.Children.toArray(t).map((e,t)=>{if(e&&Object(g.d)(e.type,P))return u.a.cloneElement(e,{className:h()(f,e.props.className)});var a=t;return u.a.createElement(P,{className:f,key:a,colSpan:c},e)}));return j()(l)&&(b=l(b)),b}R.propTypes={children:d.a.node,className:d.a.string,dataQa:d.a.string,colSpan:d.a.number,hoverable:d.a.bool,condensed:d.a.bool,wrapper:d.a.func,cellClassName:d.a.string};var C=a("w3g7"),x=a.n(C),I=e=>{var{fitView:t,headers:a,rows:n,className:i,dataQa:s}=e,c=o()(e,["fitView","headers","rows","className","dataQa"]),l=h()(x.a.table,{[x.a.fitView]:t},i);return u.a.createElement("table",r()({className:l},c),u.a.createElement("thead",{"data-qa":"".concat(s,"-head")},u.a.createElement("tr",null,a)),u.a.createElement("tbody",{"data-qa":"".concat(s,"-body")},n))};I.propTypes={headers:d.a.arrayOf(d.a.node).isRequired,rows:d.a.arrayOf(d.a.node).isRequired,fitView:d.a.bool,className:d.a.string,dataQa:d.a.string};var F=I,A=({children:e,className:t})=>u.a.createElement("div",{className:t},e);A.propTypes={className:d.a.string,children:d.a.node.isRequired};var M=A,L=a("fJus");function D(e){return e&&Object(g.d)(e.type,M)}var q=e=>{var{fitView:t,headers:a,rows:n,className:i,lastRowClassName:s}=e,c=o()(e,["fitView","headers","rows","className","lastRowClassName"]),l=a.filter(e=>e.props.children).map(e=>u.a.cloneElement(e,{className:x.a.responsiveHeader,sortBy:void 0,scope:"row"})),m=h()(x.a.table,x.a.responsive,i,{[x.a.fitView]:t});return u.a.createElement("table",r()({className:m},c),n.map((e,t)=>{var a=Object.values(Object(L.e)(e.props.children,e=>e)),n=a.find(D),r=t;return u.a.createElement("tbody",{key:r},l.map((e,t)=>{var r=0===t,i=t;return u.a.createElement("tr",{key:i,className:x.a.responsiveRow},e,u.a.createElement("td",{className:x.a.tableCell},a[t]),r&&u.a.createElement("td",{className:x.a.rowAction},n))}),function(e){return u.a.createElement("tr",null,u.a.createElement("td",{className:h()(x.a.borderBottom,e),colSpan:"3"}))}(s))}))};q.propTypes={headers:d.a.arrayOf(d.a.node).isRequired,rows:d.a.arrayOf(d.a.node).isRequired,fitView:d.a.bool,className:d.a.string,lastRowClassName:d.a.string};var B=q,z=a("91Qr"),_=a.n(z),U=["lastRowClassName"];function H(e){var{children:t,horizontalScroll:a,rowComponent:n,responsive:i}=e,s=o()(e,["children","horizontalScroll","rowComponent","responsive"]),l=u.a.Children.toArray(t),m=l.filter(e=>Object(g.d)(e.type,E)),d=l.filter(e=>Object(g.d)(e.type,n)),f=h()(_.a.self,{[_.a.horizontalScroll]:a});return i?u.a.createElement(b.a,{query:"(max-width: 767px)",className:f},e=>e?u.a.createElement(B,r()({headers:m,rows:d},s)):u.a.createElement(F,r()({headers:m,rows:d},c()(s,U)))):u.a.createElement("div",{className:f},u.a.createElement(F,r()({headers:m,rows:d},s)))}H.propTypes={children:d.a.node,className:d.a.string,fitView:d.a.bool,horizontalScroll:d.a.bool,rowComponent:d.a.func,responsive:d.a.bool},H.defaultProps={rowComponent:R,responsive:!1}},r0Us:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var n=a("lSNA"),r=a.n(n),i=a("QILm"),o=a.n(i),s=a("Puqe"),c=a.n(s),l=a("q1tI"),u=a.n(l),m=a("17x9"),d=a.n(m),f=a("TSYQ"),b=a.n(f),p=a("i6OX"),h=a("Jje6"),g=a("jLFJ"),y=a("8Gij"),v=a.n(y);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var N=["isHover","isPending","isComplete","isDisabled"];function j(e){e.currentTarget.querySelector("input").focus()}var S=e=>{var{iconRight:t,iconLeft:a,labelRight:n,labelLeft:r,isError:i,containerClassName:s,wrapperClassName:l,className:m,defaultValue:d,component:f,onClear:g,onInputRefAvailable:y,isActive:O,onBlur:S,onFocus:w,suffix:P}=e,T=o()(e,["iconRight","iconLeft","labelRight","labelLeft","isError","containerClassName","wrapperClassName","className","defaultValue","component","onClear","onInputRefAvailable","isActive","onBlur","onFocus","suffix"]),k=T.value||d,R=g&&k,C=b()(v.a.self,l,{[v.a.withIconRight]:t||R,[v.a.withIconLeft]:a,[v.a.active]:O}),x=b()(v.a.input,m,{[v.a.isError]:i,[v.a.withLabelRight]:n,[v.a.withLabelLeft]:r}),I=b()(v.a.label,v.a.labelLeft,{[v.a.isError]:!O&&i,[v.a.active]:O}),F=f||u.a.createElement(h.b,{as:"input"}),A=c()(T,N);return u.a.createElement(h.b,{className:C},r&&u.a.createElement(h.b,{className:I},r),u.a.createElement(h.b,{className:b()(v.a.container,s),onClick:j},u.a.cloneElement(F,E(E({className:x,ref:e=>function(e,t,a){!function(e,t){e&&!e.value&&null!=t&&(e.value=t)}(e,t),a&&a(e)}(e,d,y)},A),{},{defaultValue:d,onBlur:S,onFocus:w})),a&&u.a.createElement(p.b,{className:v.a.iconLeft,name:a}),!R&&t&&u.a.createElement(p.b,{className:v.a.iconRight,name:t}),R&&u.a.createElement(h.b,{as:"button",className:b()(v.a.iconRight,v.a.clearButton),onClick:g},u.a.createElement(p.b,{name:"close",size:"small",color:"gray-7"})),P&&u.a.createElement(h.b,{as:"span",className:b()(v.a.suffix)},P)),n&&u.a.createElement(h.b,{className:b()(v.a.label,v.a.labelRight)},n))};S.propTypes={isActive:d.a.bool.isRequired,iconRight:d.a.string,iconLeft:d.a.string,labelLeft:d.a.string,labelRight:d.a.string,containerClassName:d.a.string,wrapperClassName:d.a.string,className:d.a.string,isError:d.a.bool,onClear:d.a.func,onInputRefAvailable:d.a.func,defaultValue:d.a.any,component:d.a.element,onBlur:d.a.func,onFocus:d.a.func,suffix:d.a.node};var w=Object(g.d)(S,{type:g.a.IMPLICIT})},tJFL:function(e,t,a){"use strict";a.d(t,"c",(function(){return g})),a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return z}));var n=a("q1tI"),r=a.n(n),i=a("17x9"),o=a("TSYQ"),s=a.n(o),c=a("Jje6"),l=a("iiWb"),u=a.n(l),m=a("XOuL"),d=a("tmrx"),f=a.n(d),b=({children:e,className:t,withShadow:a,isLoading:n,isBlank:i,small:o})=>r.a.createElement(c.b,{className:s()(f.a.self,{[f.a.shadow]:a||i,[f.a.blank]:i,[f.a.small]:o},t)},(n||i)&&r.a.createElement(m.a,{className:f.a.loader,if:!0,static:!0,fixedMobile:!0}),!i&&e);b.propTypes={className:i.string,small:i.bool,children:i.node,withShadow:i.bool,isLoading:i.bool,isBlank:i.bool};var p=b,h=({children:e,className:t,small:a,withScreenShadow:n,isLoading:i,blankScreen:o})=>r.a.createElement(c.b,{className:s()(u.a.container,{[u.a.containerBottomBorder]:a},t)},r.a.createElement(c.b,{className:s()(u.a.self,{[u.a.small]:a})},r.a.createElement(c.b,{className:u.a.speaker}),r.a.createElement(p,{withShadow:n,isLoading:i,isBlank:o,small:a},e)));h.propTypes={className:i.string,children:i.node,small:i.bool,withScreenShadow:i.bool,isLoading:i.bool,blankScreen:i.bool};var g=h,y=a("VkAN"),v=a.n(y),O=a("ePPS"),E=a("i6OX"),N=a("Qs7Y"),j=a("0knz"),S=a.n(j);function w(){var e=v()(["Fresha"]);return w=function(){return e},e}function P(){var e=v()(["now"]);return P=function(){return e},e}function T(){var e=v()(["messages"]);return T=function(){return e},e}var k=({className:e,children:t})=>{var[a,n]=t.split(/(https?:\/\/[^\s]+)/);return r.a.createElement(c.b,{className:s()(S.a.self,e)},r.a.createElement(c.b,{as:"header",className:S.a.header,role:"presentation"},r.a.createElement(c.b,{className:S.a.headerTitle},r.a.createElement(E.b,{color:"white",className:S.a.icon,size:"25",name:"sms-icon"}),r.a.createElement(N.d,{className:S.a.title,qaType:"message-title"},Object(O.c)(T()))),r.a.createElement(N.d,{qaType:"message-date"},Object(O.c)(P()))),r.a.createElement(c.b,{className:S.a.subject,role:"presentation"},Object(O.c)(w())),r.a.createElement(c.b,{className:S.a.content,qaType:"message-text"},a,r.a.createElement(N.d,{className:S.a.link},n)))};k.propTypes={className:i.string,children:i.node};var R=k;function C(){var e=v()(["now"]);return C=function(){return e},e}function x(){var e=v()(["fresha"]);return x=function(){return e},e}var I=({className:e,children:t,subject:a})=>r.a.createElement(c.b,{className:s()(S.a.self,e)},r.a.createElement(c.b,{as:"header",className:S.a.header,role:"presentation"},r.a.createElement(c.b,{className:S.a.headerTitle},r.a.createElement(E.b,{color:"white",className:S.a.icon,size:"25",name:"fresha"}),r.a.createElement(N.d,{className:S.a.title,qaType:"notification-title"},Object(O.c)(x()))),r.a.createElement(N.d,{qaType:"notification-date"},Object(O.c)(C()))),r.a.createElement(c.b,{className:S.a.subject,role:"presentation",qaType:"notification-subject"},a),r.a.createElement(c.b,{className:S.a.content,qaType:"notification-text"},t));I.propTypes={className:i.string,subject:i.string,children:i.node};var F=I,A=a("lSNA"),M=a.n(A),L=a("u4U/"),D=a("I31e"),q=a.n(D);function B(){var e=v()(["Example message"]);return B=function(){return e},e}class z extends n.Component{getContent(){var{title:e,content:t,type:a}=this.props;return"html"===a?r.a.createElement(L.a,{qaType:"preview-iframe",title:"email-preview",html:t,width:"100%",htmlHasRootElement:!0}):"text"===a&&e?r.a.createElement(F,{subject:e},t):r.a.createElement(R,null,t)}render(){var{isExample:e}=this.props;return r.a.createElement(r.a.Fragment,null,e&&r.a.createElement(c.b,{className:q.a.infoBox,qaType:"info-box"},Object(O.c)(B())),this.getContent())}}M()(z,"propTypes",{title:i.string,content:i.string,type:Object(i.oneOf)(["text","html"]),isExample:i.bool})},"u4U/":function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a("9oTK"),r=a.n(n),i=a("lSNA"),o=a.n(i),s=a("DzJC"),c=a.n(s),l=a("q1tI"),u=a.n(l),m=a("17x9"),d=a("TSYQ"),f=a.n(d),b=a("h96j"),p=a.n(b);class h extends l.Component{constructor(e){super(e),o()(this,"ref",Object(l.createRef)()),o()(this,"hasEventListener",!1),o()(this,"setIframeSize",(e,t)=>{this.setState({width:e,height:t})}),o()(this,"doIframe",e=>{if(this.ref.current){var t,{width:a,height:i}=this.props;a>0&&i>0&&this.setIframeSize({width:a,height:i});var o=this.ref.current.contentDocument,s=this.ref.current.contentWindow;if(e){o.documentElement.innerHTML=e;var c=[...o.querySelectorAll("img")].map(e=>new r.a(t=>{e.onload=()=>t()}));Object(n.all)(c).then(()=>this.onLoadImages())}this.hasEventListener&&(this.hasEventListener=!0,s.addEventListener("resize",this.onResize)),this.props.htmlHasRootElement?("100%"===o.body.children[0].style.height&&(o.body.children[0].style.height="auto"),t=((e,t,a)=>{var n=((e,t)=>{var a=t.currentStyle||e.getComputedStyle(t),{marginLeft:n,marginRight:r,marginTop:i,marginBottom:o}=a;return{left:n,right:r,top:i,bottom:o}})(t,e.body),r=parseInt(n.left,10)+parseInt(n.right,10),i=parseInt(n.top,10)+parseInt(n.bottom,10),{offsetHeight:o,offsetWidth:s}=a;return{width:r+s,height:i+o}})(o,s,o.body.children[0])):t=(e=>({width:e.body.scrollWidth,height:e.body.scrollHeight}))(o),this.setIframeSize(a||t.width,i||t.height)}else this.setState({mounted:!1},()=>this.setState({mounted:!0}))}),o()(this,"onLoadImages",c()(()=>this.doIframe(),1e3)),this.state={mounted:!1,width:e.width,height:e.height}}componentDidMount(){this.setState({mounted:!0})}componentDidUpdate(e,t){var{html:a,htmlHasRootElement:n,width:r,height:i}=this.props,{mounted:o}=this.state;!t.mounted&&o&&this.doIframe(a),e.width===r&&e.height===i&&e.html===a&&e.htmlHasRootElement===n||this.doIframe(this.props.html)}componentWillUnmount(){this.ref.current.contentWindow.removeEventListener("resize",this.onLoadImages)}render(){var{className:e,title:t,qaType:a}=this.props,{height:n,width:r}=this.state,{ref:i}=this;return u.a.createElement("iframe",{className:f()(p.a.self,e),ref:i,title:t,"data-qa":a,frameBorder:"0",style:{width:r,height:n,minHeight:n}})}}o()(h,"propTypes",{className:m.string,title:m.string,qaType:m.string,html:m.string,htmlHasRootElement:m.bool,width:Object(m.oneOfType)([m.number,m.string]),height:m.number}),o()(h,"defaultProps",{htmlHasRootElement:!1,width:0,height:0});var g=h},z141:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={MARKETING:"marketing",ONLINE_BOOKING:"onlineBooking",FRESHA_PAY:"freshaPay",FRESHA_PLUS:"freshaPlus",CARD_TERMINALS:"cardTerminals",CONSULTATION_FORMS:"consultationForms"}}}]);