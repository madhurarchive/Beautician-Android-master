(window.webpackJsonp=window.webpackJsonp||[]).push([[278],{"+Wfv":function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a);t.a=r.a.createContext({})},"05U9":function(e,t,n){"use strict";n.d(t,"a",(function(){return ye}));var a,r,o,i,c,s,l=n("9oTK"),u=n("VkAN"),d=n.n(u),p=n("lSNA"),m=n.n(p),b=n("mwIZ"),f=n.n(b),h=n("q1tI"),y=n.n(h),E=n("17x9"),g=n.n(E),O=n("/MKj"),v=n("ePPS"),S=n("5ZU+"),j=n("HTL0"),P=n("XOD0"),N=n("/pl8"),A=n("X67z"),T=n("JZM8"),C=n.n(T),I=n("nbpM"),w=n("WLfC"),D=n("dhJQ"),k=n("kZhr"),_=n("uZ2f"),x=n("Jje6"),M=n("CtqP"),R=n.n(M);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(){var e=d()(["Select bank"]);return F=function(){return e},e}function V(){var e=d()(["Bank name"]);return V=function(){return e},e}function Y(){var e=d()(["IBAN account number"]);return Y=function(){return e},e}function U(){var e=d()(["Account holder city"]);return U=function(){return e},e}function q(){var e=d()(["Account holder address"]);return q=function(){return e},e}function H(){var e=d()(["Account holder name"]);return H=function(){return e},e}var K,G,z,Z=[k.q.validate.required(),k.q.validate.ascii()],W=[...Z,k.q.validate.maxLength(60)],Q=[...Z,k.q.validate.maxLength(255)],J="CheckoutBankAccountForm",X={NAME:"accountHolderName",ADDRESS:"accountHolderAddress",CITY:"accountHolderCity",NUMBER:"bankAccountNumber",BANK_CODE:"bankCode"},$=[k.q.validate.required(),k.q.validate.ascii()],ee=[...$,k.q.validate.iban,k.q.validate.UAEIban],te=Object(k.W)(J),ne={},ae=Object(k.bb)(J),re=(a=Object(D.g)(),r=Object(O.b)(e=>{var t=I.a.getCheckoutBankAccount(e),n=t?C()(t,Object.values(X)):{};return{banks:I.a.getLegacyBanksList(e),formValues:te(e)||ne,initialValues:n}}),o=Object(k.q)({form:J}),a(i=Object(w.a)(i=r(i=o((s=c=class extends h.PureComponent{render(){var{banks:e,isMatch:t,formValues:n}=this.props,a=!!n.bankCode;return y.a.createElement(x.b,{className:R.a.clearSidePaddings},y.a.createElement(_.s,{name:X.NAME,label:Object(v.c)(H()),validate:W}),y.a.createElement(_.s,{name:X.ADDRESS,label:Object(v.c)(q()),validate:Q}),y.a.createElement(_.s,{name:X.CITY,label:Object(v.c)(U()),validate:Q}),y.a.createElement(_.s,{name:X.NUMBER,label:Object(v.c)(Y()),validate:ee}),y.a.createElement(_.r,{name:X.BANK_CODE,label:t&&!a?"":Object(v.c)(V()),invalidValueLabel:Object(v.c)(F()),validate:$},e.map(({code:e,name:t})=>y.a.createElement("option",{key:e,value:e},t))))}},m()(c,"propTypes",B(B({},k.Q),{},{banks:g.a.arrayOf(g.a.shape({code:g.a.string,name:g.a.string})),isMatch:g.a.bool})),m()(c,"defaultProps",{banks:[]}),i=s))||i)||i)||i)||i),oe=n("DWor"),ie=n("+pqN"),ce=n("61cg"),se=n("jGOT"),le=n("UaUC"),ue=n("Axym");function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function pe(){var e=d()(["Save"]);return pe=function(){return e},e}function me(){var e=d()(["Setup your bank account to receive funds collected from clients paying online\n    with integrated card processing. Make sure these details exactly match what you have\n    registered with your bank."]);return me=function(){return e},e}function be(){var e=d()(["Bank Account"]);return be=function(){return e},e}function fe(){var e=d()(["Bank account couldn't be updated, please try again later"]);return fe=function(){return e},e}function he(){var e=d()(["Bank account updated"]);return he=function(){return e},e}var ye=Object(O.b)(e=>({submitting:ae(e)}),{submit:()=>Object(k.hb)(J)})((z=G=class extends h.PureComponent{constructor(...e){super(...e),m()(this,"state",{loading:!0,showConfirmPasswordModal:!0}),m()(this,"onConfirmPasswordSuccess",({password:e})=>this.setState({password:e,showConfirmPasswordModal:!1})),m()(this,"handleCancel",()=>{Object(P.b)(ce.l)}),m()(this,"handleSubmitSuccess",()=>{S.a.addGlobalSuccessToast(Object(v.c)(he())),Object(P.b)(ce.l)}),m()(this,"handleSubmit",e=>S.a.patchCheckoutBankAccount(j.a.patchCheckoutBankAccount(e,this.props.password||this.state.password)).then(()=>Object(l.all)([S.a.readProvider(),S.a.readProviderBadgeStatus()])).then(this.props.handleSubmitSuccess||this.handleSubmitSuccess).catch(e=>{var t=Object(v.c)(fe());f()(e,"response.body.errors[0].code")===ue.a&&(t=ue.g),S.a.addGlobalErrorToast(t)}))}componentDidMount(){Object(l.all)([S.a.readCheckoutBankAccount(),S.a.readLegacyBanks()]).finally(()=>{this.setState({loading:!1})}).catch(()=>S.a.addGlobalErrorToast())}render(){var{submit:e,submitting:t,buttonText:n,noPasswordConfirmation:a,handleDiscard:r,handleCancel:o,backLink:i,children:c,stepPrefix:s,leftSectionTexts:l}=this.props,{loading:u,showConfirmPasswordModal:d}=this.state,p=Object(v.c)(be());return y.a.createElement(N.b,{keys:A.a.EDIT_BILLING_INFO,withPlaceholder:!0},y.a.createElement(ie.b,{isLoading:u,title:p,description:Object(v.c)(me()),isSubmitting:t,buttonOnAction:e,buttonText:n||Object(v.c)(pe()),onExit:o||this.handleCancel,stepView:y.a.createElement(re,{onSubmit:this.handleSubmit}),backLink:i,stepPrefix:s,wizardVariant:le.g.FRESHA_PAY,leftSectionTexts:l||le.a},c,!a&&d&&y.a.createElement(se.a,{onSuccess:this.onConfirmPasswordSuccess,onClose:r||this.handleCancel})))}},m()(G,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({submit:g.a.func.isRequired,submitting:g.a.bool.isRequired},oe.a)),K=z))||K},"15T9":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var a=n("pVnL"),r=n.n(a),o=n("lSNA"),i=n.n(o),c=n("q1tI"),s=n.n(c),l=n("17x9"),u=n.n(l);function d(t){var n,a;return a=n=class extends c.PureComponent{constructor(...e){super(...e),i()(this,"state",{animate:!1})}componentDidMount(){this.props.animateOnEnter&&e.requestAnimationFrame(()=>{e.requestAnimationFrame(()=>{this.setState({animate:!0})})})}render(){var{animate:e}=this.state;return s.a.createElement(t,r()({animate:e},this.props))}},i()(n,"propTypes",{animateOnEnter:u.a.bool}),a}}).call(this,n("yLpj"))},"1nQO":function(e){e.exports=JSON.parse('{"CA":[{"code":"AB","name":"Alberta"},{"code":"BC","name":"British Columbia"},{"code":"MB","name":"Manitoba"},{"code":"NB","name":"New Brunswick"},{"code":"NL","name":"Newfoundland and Labrador"},{"code":"NS","name":"Nova Scotia"},{"code":"ON","name":"Ontario"},{"code":"PE","name":"Prince Edward Island"},{"code":"QC","name":"Quebec"},{"code":"SK","name":"Saskatchewan"},{"code":"NT","name":"Northwest Territories"},{"code":"NU","name":"Nunavut"},{"code":"YT","name":"Yukon"}],"BR":[{"code":"AC","name":"Acre"},{"code":"AL","name":"Alagoas"},{"code":"AP","name":"Amapá"},{"code":"AM","name":"Amazonas"},{"code":"BA","name":"Bahia"},{"code":"CE","name":"Ceará"},{"code":"DF","name":"Distrito Federal"},{"code":"ES","name":"Espírito Santo"},{"code":"GO","name":"Goiás"},{"code":"MA","name":"Maranhão"},{"code":"MT","name":"Mato Grosso"},{"code":"MS","name":"Mato Grosso do Sul"},{"code":"MG","name":"Minas Gerais"},{"code":"PA","name":"Pará"},{"code":"PB","name":"Paraíba"},{"code":"PR","name":"Paraná"},{"code":"PE","name":"Pernambuco"},{"code":"PI","name":"Piauí"},{"code":"RJ","name":"Rio de Janeiro"},{"code":"RN","name":"Rio Grande do Norte"},{"code":"RS","name":"Rio Grande do Sul"},{"code":"RO","name":"Rondônia"},{"code":"RR","name":"Roraima"},{"code":"SC","name":"Santa Catarina"},{"code":"SP","name":"São Paulo"},{"code":"SE","name":"Sergipe"},{"code":"TO","name":"Tocantins"}],"US":[{"code":"AL","name":"Alabama"},{"code":"AK","name":"Alaska"},{"code":"AZ","name":"Arizona"},{"code":"AR","name":"Arkansas"},{"code":"CA","name":"California"},{"code":"CO","name":"Colorado"},{"code":"CT","name":"Connecticut"},{"code":"DC","name":"District of Columbia"},{"code":"DE","name":"Delaware"},{"code":"FL","name":"Florida"},{"code":"GA","name":"Georgia"},{"code":"HI","name":"Hawaii"},{"code":"ID","name":"Idaho"},{"code":"IL","name":"Illinois"},{"code":"IN","name":"Indiana"},{"code":"IA","name":"Iowa"},{"code":"KS","name":"Kansas"},{"code":"KY","name":"Kentucky"},{"code":"LA","name":"Louisiana"},{"code":"ME","name":"Maine"},{"code":"MD","name":"Maryland"},{"code":"MA","name":"Massachusetts"},{"code":"MI","name":"Michigan"},{"code":"MN","name":"Minnesota"},{"code":"MS","name":"Mississippi"},{"code":"MO","name":"Missouri"},{"code":"MT","name":"Montana"},{"code":"NE","name":"Nebraska"},{"code":"NV","name":"Nevada"},{"code":"NH","name":"New Hampshire"},{"code":"NJ","name":"New Jersey"},{"code":"NM","name":"New Mexico"},{"code":"NY","name":"New York"},{"code":"NC","name":"North Carolina"},{"code":"ND","name":"North Dakota"},{"code":"OH","name":"Ohio"},{"code":"OK","name":"Oklahoma"},{"code":"OR","name":"Oregon"},{"code":"PA","name":"Pennsylvania"},{"code":"RI","name":"Rhode Island"},{"code":"SC","name":"South Carolina"},{"code":"SD","name":"South Dakota"},{"code":"TN","name":"Tennessee"},{"code":"TX","name":"Texas"},{"code":"UT","name":"Utah"},{"code":"VT","name":"Vermont"},{"code":"VA","name":"Virginia"},{"code":"WA","name":"Washington"},{"code":"WV","name":"West Virginia"},{"code":"WI","name":"Wisconsin"},{"code":"WY","name":"Wyoming"}]}')},"25Rk":function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a,r,o,i=n("pVnL"),c=n.n(i),s=n("VkAN"),l=n.n(s),u=n("QILm"),d=n.n(u),p=n("lSNA"),m=n.n(p),b=n("q1tI"),f=n.n(b),h=n("17x9"),y=n.n(h),E=n("TSYQ"),g=n.n(E),O=n("ePPS"),v=n("Jje6"),S=n("i6OX"),j=n("dhJQ"),P=n("lROn"),N=n.n(P),A=n("jLFJ"),T=n("6WGa"),C=n.n(T);function I(){var e=l()(["New"]);return I=function(){return e},e}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=Object(A.f)(["isHover","isDisabled","isComplete","hasAction"])(a=Object(j.g)()((o=r=class extends b.PureComponent{constructor(...e){super(...e),m()(this,"getIconProps",()=>{var{checked:e,isDisabled:t,icon:n,iconSize:a,activeIcon:r,disabledIcon:o}=this.props,i={name:n,className:C.a.icon,size:a,color:"original"};return t?D(D({},i),{},o?{name:o}:{color:"gray-6"}):e&&r?D(D({},i),{},{name:r}):i})}render(){var e=this.props,{icon:t,title:n,description:a,checked:r,isDisabled:o,isComplete:i,isHover:s,hasAction:l,iconSize:u,activeIcon:p,disabledIcon:m,isMatch:b,isNew:h,children:y}=e,E=d()(e,["icon","title","description","checked","isDisabled","isComplete","isHover","hasAction","iconSize","activeIcon","disabledIcon","isMatch","isNew","children"]),j=!o&&r;return f.a.createElement(v.b,c()({},E,{className:g()(C.a.self,{[C.a.checked]:j,[C.a.hasAction]:!o&&l,[C.a.disabled]:o,[C.a.hovered]:s||j})}),t&&f.a.createElement(S.b,this.getIconProps()),f.a.createElement(v.b,{grow:1},f.a.createElement(v.b,{type:"row-button-primary",className:C.a.title,flex:"row",alignItems:"center",justifyContent:"space-between"},n),a&&f.a.createElement(v.b,{className:C.a.description},a)),j&&!b&&f.a.createElement(v.b,{className:C.a.iconTick},f.a.createElement(S.b,{name:"check-solid",size:"small",color:"white"})),h&&f.a.createElement(v.b,{className:g()(N.a.self,N.a.desktop)},f.a.createElement(v.b,{className:N.a.ribbon},Object(O.c)(I()))),y)}},m()(r,"propTypes",{children:y.a.node,title:y.a.node.isRequired,description:y.a.oneOfType([y.a.string,y.a.array]),checked:y.a.bool,hasAction:y.a.bool,isHover:y.a.bool,isDisabled:y.a.bool,isComplete:y.a.bool,iconSize:y.a.oneOfType([y.a.bool,y.a.string]),icon:y.a.string,activeIcon:y.a.string,disabledIcon:y.a.string,isMatch:y.a.bool,isNew:y.a.bool}),m()(r,"defaultProps",{iconSize:"large"}),a=o))||a)||a},"62mk":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("pVnL"),r=n.n(a),o=n("lSNA"),i=n.n(o),c=n("6acW"),s=n.n(c),l=n("q1tI"),u=n.n(l),d=n("5ZU+"),p=n("hs7G");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class f extends l.PureComponent{constructor(...e){super(...e),i()(this,"updateAction",(e,t)=>d.a.patchAdyenAccountHolder({data:{type:"adyen-account-holder",attributes:b(b({},e[e.legalEntity]),{},{legalEntity:s()(e.legalEntity)})},meta:{password:t}}))}render(){return u.a.createElement(p.a,r()({},this.props,{updateAction:this.updateAction}))}}},"6GjK":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return W}));var a=n("9oTK"),r=n.n(a),o=n("VkAN"),i=n.n(o),c=n("lSNA"),s=n.n(c),l=n("mwIZ"),u=n.n(l),d=n("q1tI"),p=n.n(d),m=n("17x9"),b=n.n(m),f=n("TSYQ"),h=n.n(f),y=n("Tl70"),E=n("5ZU+"),g=n("FAYg"),O=n("ePPS"),v=n("Jje6"),S=n("XOuL"),j=n("qIB4"),P=n("HJiA"),N=n("kZhr"),A=n("XQjB"),T=n("af1H"),C=n("ocZZ"),I=n("bymT"),w=n("Ejwb"),D=n("FKdw"),k=n("JtxT"),_=n("I/kF"),x=n.n(_),M=n("+Wfv");function R(){var e=i()(["CVV"]);return R=function(){return e},e}function L(){var e=i()(["Expiry date"]);return L=function(){return e},e}function B(){var e=i()(["Card number"]);return B=function(){return e},e}function F(){var e=i()(["Card holder name"]);return F=function(){return e},e}function V(){var e=i()(["This field is required"]);return V=function(){return e},e}function Y(){var e=i()(["Please fill all required fields."]);return Y=function(){return e},e}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H={isValid:!1,touched:!1,hasFocus:!1},K="encryptedCardNumber",G="encryptedExpiryDate",z="encryptedSecurityCode",Z="cardHolderName";class W extends d.PureComponent{constructor(t){super(t),s()(this,"setUpSecureFields",()=>{var e={locale:"en-GB",environment:g.ADYEN_PAYMENTS_ENVIRONMENT,originKey:this.originKey};new this.AdyenCheckout(e).create("securedfields",{type:"card",styles:{base:{fontSize:"15.8px",fontWeight:"500",letterSpacing:"0.2px",padding:"8px 0",fontFamily:"Muli, sans-serif"},placeholder:{color:P.colorInputPlaceholder}},placeholders:{encryptedCardNumber:"Credit or debit card number",encryptedExpiryDate:"MM/YY",encryptedSecurityCode:"123"},onChange:this.handleChange,onConfigSuccess:this.handleConfigSuccess,onFieldValid:this.handleFieldValid,onError:this.handleError,onFocus:this.handleFocus,onBrand:this.handleBrand}).mount("#".concat("adyen-form-container"))}),s()(this,"handleConfigSuccess",()=>{this.setState({loading:!1})}),s()(this,"handleBrand",({brand:e})=>{"card"===e?this.setState({possibleCards:N.x}):this.setState({possibleCards:[e.replace("mc","mastercard")]})}),s()(this,"handleFocus",e=>{var{fieldType:t,focus:n}=e,a=q(q({},this.state[t]),{},{hasFocus:n});n||(a.touched=!0),this.setState({[t]:a})}),s()(this,"handleChange",e=>{var t=u()(e,"data.paymentMethod");this.setState({isValid:e.isValid,formData:q(q({},this.state.formData),t)})}),s()(this,"handleFieldValid",e=>{var{fieldType:t,valid:n}=e;n&&this.setState({[t]:q(q({},this.state[t]),{},{isValid:n})})}),s()(this,"handleError",e=>{var{fieldType:t,i18n:n}=e;this.setState({[t]:q(q({},this.state[t]),{},{isValid:!1,errorMessage:n})})}),s()(this,"handleNameFieldChange",({target:{value:e}})=>{var t=Z;this.setState({[t]:q(q({},this.state[t]),{},{isValid:!!e}),formData:q(q({},this.state.formData),{},{cardHolderName:e})})}),s()(this,"handleNameFieldBlur",()=>{var e=Z;this.setState({[e]:q(q({},this.state[e]),{},{hasFocus:!1,touched:!0})})}),s()(this,"handleModalClose",()=>{this.setState({showAdyenIframe:!1}),this.reject3dsFlow()}),s()(this,"handleIframeMessage",e=>{var{data:{success:t,request:n}}=e;n&&n.MD&&n.PaRes&&t&&this.resolve3dsFlow(n)}),s()(this,"startAdyen3dsFlow",e=>{var{md:t,paReq:n,url:a,paymentDataId:o}=e;return this.setState({showAdyenIframe:!0,adyenRedirectUrl:a,scaDetails:{MD:t,PaReq:n,TermUrl:"".concat(g.APP_URL,"/adyen-request-capture")}}),new r.a((e,t)=>{this.resolve3dsFlow=n=>{var{MD:a,PaRes:r}=n;return this.setState({showAdyenIframe:!1}),E.a.finalizeAdyen3Ds({data:{attributes:{md:a,pa_res:r,payment_data_id:o}}}).then(({body:n})=>{Object(w.b)(Object(A.b)(n).providerCardJobId).then(e).catch(t)}).catch(t)},this.reject3dsFlow=()=>{this.setState({showAdyenIframe:!1}),t()}})}),s()(this,"handleFormSubmission",()=>{if(!this.isFormValid())return this.state.forceShowErrors&&E.a.addGlobalErrorToast(Object(O.c)(Y())),this.setState({forceShowErrors:!0}),Object(a.reject)(new Error("formInvalid"));var t=q({},this.state.formData);return E.a.createAdyenProviderCard({provider_card:{encrypted_credit_card_details:JSON.stringify(t),browser_info:JSON.stringify({userAgent:e.navigator.userAgent,acceptHeader:"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8",javaEnabled:!0,language:"en-EN",colorDepth:e.screen.colorDepth||24,screenHeight:e.screen.height,screenWidth:e.screen.width,timeZoneOffset:(new Date).getTimezoneOffset()||0}),enable_feature_bundle:!!this.props.enableFeatureBundle}}).then(({body:e})=>Object(w.b)(Object(A.b)(e).providerCardJobId)).then(({providerCardJob:e})=>{if(e&&e.status===w.a.REQUIRED_3DS){var{scaVerificationDetails:t}=e;return this.startAdyen3dsFlow(t)}return Object(a.resolve)()}).catch(e=>{var t=Object(k.a)(e);throw E.a.addGlobalErrorToast(t),e})}),this.state={loading:!0,[z]:H,[G]:H,[K]:H,[Z]:H,possibleCards:N.x,forceShowErrors:!1,formData:{},isValid:!1,showAdyenIframe:!1}}componentDidMount(){Object(a.all)([Object(T.a)(),E.a.readAdyenOriginKeys()]).then(([t,{body:{originKeys:n}}])=>{this.AdyenCheckout=t,this.originKey=function(t){var{origin:n}=e.location;return t[n]}(n)}).then(this.setUpSecureFields).catch(e=>{Object(C.b)(e),E.a.addGlobalErrorToast()}),this.context.registerPaymentSubmit(this.handleFormSubmission)}componentWillUnmount(){this.context.registerPaymentSubmit(null)}hasError(e){var t=this.state[e];if(!t)return!1;var{forceShowErrors:n}=this.state,{touched:a,isValid:r,hasFocus:o}=t;return(a||n)&&!r&&!o}getErrorValues(e){return this.state[e].errorMessage||Object(O.c)(V())}getFieldMeta(e){var t=this.state[e];return{error:this.getErrorValues(e),invalid:this.hasError(e),touched:t.touched||this.state.forceShowErrors}}isFormValid(){var{isValid:e}=this.state[Z];return this.state.isValid&&e}render(){var{possibleCards:e,loading:t,showAdyenIframe:n,adyenRedirectUrl:a,scaDetails:r}=this.state,{children:o}=this.props;return p.a.createElement(S.a,{if:t,className:x.a.self,loaderClassName:x.a.spinner},n&&p.a.createElement(D.a,{handleClose:this.handleModalClose,redirectUrl:a,handleIframeMessage:this.handleIframeMessage,scaDetails:r}),p.a.createElement(v.b,{id:"adyen-form-container",flex:"column"},p.a.createElement(I.c,{input:Object(y.c)(),label:Object(O.c)(F()),inputClassName:h()(x.a.input),meta:this.getFieldMeta(Z),onChange:this.handleNameFieldChange,onBlur:this.handleNameFieldBlur,inputQaType:"card-holder-name",className:x.a.fieldFullWidth}),p.a.createElement(I.a,{input:Object(y.c)(),label:Object(O.c)(B()),inlineSuffix:!0,suffix:p.a.createElement(j.a,{possibleCards:e}),meta:this.getFieldMeta(K),inputCse:K,inputComponent:p.a.createElement("span",{"data-cse":K,className:x.a.customInput}),className:x.a.fieldFullWidth}),p.a.createElement(v.b,{flex:"row"},p.a.createElement(I.a,{input:Object(y.c)(),label:Object(O.c)(L()),meta:this.getFieldMeta(G),inputCse:G,inputComponent:p.a.createElement("span",{"data-cse":G,className:x.a.customInput}),className:x.a.fieldLeftHalf}),p.a.createElement(I.a,{input:Object(y.c)(),label:Object(O.c)(R()),meta:this.getFieldMeta(z),inputCse:z,inputComponent:p.a.createElement("span",{"data-cse":z,className:x.a.customInput}),className:x.a.fieldRightHalf})),o))}}s()(W,"contextType",M.a),s()(W,"propTypes",{enableFeatureBundle:b.a.bool,children:b.a.node})}).call(this,n("yLpj"))},"Af+M":function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return x}));var a,r,o,i=n("VkAN"),c=n.n(i),s=n("lSNA"),l=n.n(s),u=n("q1tI"),d=n.n(u),p=n("17x9"),m=n.n(p),b=n("/MKj"),f=n("ePPS"),h=n("DWor"),y=n("nbpM"),E=n("SFs4"),g=n("3wSE"),O=n("Jje6"),v=n("Qs7Y"),S=n("kZhr"),j=n("/LDt"),P=n("yZJL"),N=n("EiY6"),A=n("eFGT"),T=n("ZD+Q"),C=n.n(T);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(){var e=c()(["Document must include bank name, account number and account holder name"]);return w=function(){return e},e}function D(){var e=c()(["Bank statement"]);return D=function(){return e},e}function k(){var e=c()(["Copy of bank statement"]);return k=function(){return e},e}var _="BANK_STATEMENT",x=Object(b.b)(e=>({adyenAccountHolder:y.a.getAdyenAccountHolder(e),adyenBankAccount:y.a.getAdyenBankAccount(e),kycErrors:y.a.getAdyenBankStatementErrors(e)}))((o=r=class extends u.PureComponent{render(){var{kycErrors:e,handleChange:t,adyenAccountHolder:{accountHolderDetails:n,legalEntity:a},cachedBankAccountStatement:r={}}=this.props,o=a===j.a.BUSINESS?n.businessDetails.legalBusinessName:n.fullName;return d.a.createElement(O.b,{className:C.a.self},d.a.createElement(S.p,null,d.a.createElement(v.d,{type:"default",className:C.a.headerText},Object(f.c)(k())),d.a.createElement(E.b,{type:"typeInfo",noPadding:!0,description:Object(f.f)('Submit a bank statement copy clearly showing the bank account number entered above, the account holder’s name <strong>%{name}</strong>, and the bank’s logo or official name. <a href="%{link}">See our guidelines for bank documents</a>',{name:o,link:A.b.BANK_STATEMENT},{a:(e,{href:t})=>d.a.createElement(g.n,{inheritFontSize:!0,linkTo:t},e)}),icon:"info-circle"})),e.map(e=>d.a.createElement(S.p,null,d.a.createElement(E.b,{type:"typeError",noPadding:!0,description:e,icon:"info-circle-red"}))),d.a.createElement(P.a,{handleUpload:t,handleImageDismissal:t,filename:r.filename,imageSrc:r.imageSrc,title:Object(f.c)(D()),note:d.a.createElement(v.d,null,Object(f.c)(w())),qaType:"".concat(_,"-dropzone"),maxFileSize:1e7,minPdfSize:1,minImageSize:1e4}),d.a.createElement(N.a,null))}},l()(r,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({kycErrors:m.a.array,cachedBankAccountStatement:m.a.object},h.a)),a=o))||a},AmjK:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return x})),n.d(t,"d",(function(){return M}));var a,r,o,i=n("pVnL"),c=n.n(i),s=n("VkAN"),l=n.n(s),u=n("lSNA"),d=n.n(u),p=n("q1tI"),m=n.n(p),b=n("17x9"),f=n.n(b),h=n("Ty5D"),y=n("TSYQ"),E=n.n(y),g=n("PhEd"),O=n("/MKj"),v=n("ePPS"),S=n("3wSE"),j=n("Qs7Y"),P=n("/Q2I"),N=n("dhJQ"),A=n("XOD0"),T=n("nbpM"),C=n("LO0I"),I=n.n(C);function w(){var e=l()(["Yes, exit now"]);return w=function(){return e},e}function D(){var e=l()(["Are you sure you want to exit without saving?"]);return D=function(){return e},e}var k=Object(N.g)()(a=Object(O.b)(e=>({isReshedulEnabled:T.a.isReshedulEnabled(e)}))((o=r=class extends p.PureComponent{render(){var{isMatch:e,headerText:t,confirmationText:n,onAction:a,onClose:r,buttonText:o,rightButton:i,isReshedulEnabled:c}=this.props;return m.a.createElement(P.i,{size:"small",containerClassName:I.a.self},m.a.createElement(P.g,{onClose:r||_,subheader:e&&(c?m.a.createElement(g.Text,{type:"fresha-paragraph",color:"gray100"},n):m.a.createElement(j.d,{type:"body-1"},n))},t),m.a.createElement(P.c,{noPadding:e},!e&&(c?m.a.createElement(g.Text,{type:"fresha-paragraph",color:"gray100"},n):m.a.createElement(j.d,{type:"body-1"},n))),m.a.createElement(P.e,{noPadding:!0},m.a.createElement(P.b,{className:E()(I.a.buttons,{[I.a.withRightButton]:!!i})},c?m.a.createElement(g.Button,{variant:"danger",qaType:"exit-button",withPending:!0,onAction:a},o):m.a.createElement(S.g,{qaType:"exit-button",withPending:!0,onAction:a},o),i)))}},d()(r,"propTypes",{headerText:f.a.node,confirmationText:f.a.node,buttonText:f.a.node,onAction:f.a.func,onClose:f.a.func,isMatch:f.a.bool,rightButton:f.a.func,isReshedulEnabled:f.a.bool}),d()(r,"defaultProps",{confirmationText:Object(v.c)(D()),buttonText:Object(v.c)(w())}),a=o))||a)||a;function _(){var{pathname:t,search:n}=e.location,a=t.replace("/danger","");return Object(A.b)("".concat(a).concat(n).replace(/\/+/g,"/"))}function x(t="/danger"){var{pathname:n,search:a}=e.location,r=n.replace(t,"");return"".concat(r,"/").concat(t).concat(a).replace(/\/+/g,"/")}function M(){Object(A.c)(x())}var R=e=>m.a.createElement(h.b,{path:x(e.routeSuffix),render:t=>m.a.createElement(k,c()({},e,t))});R.propTypes={routeSuffix:f.a.string},t.c=R}).call(this,n("yLpj"))},DUfz:function(e,t,n){"use strict";(function(e){var a;function r(){e.history.pushState(e.history.state,null,""),a=e.history.length;var{activeElement:t}=e.document;t&&t.blur()}function o(){e.history.length>a?e.history.go(a-e.history.length-1):e.history.go(-1)}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}))}).call(this,n("yLpj"))},DWor:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("17x9"),r=n.n(a),o=n("UaUC"),i={handleSubmitSuccess:r.a.func,stepPrefix:r.a.string,sidebarTitle:r.a.string,buttonText:r.a.string,password:r.a.string,noPasswordConfirmation:r.a.bool,handleCancel:r.a.func,handleDiscard:r.a.func,backLink:r.a.string,stepIndex:r.a.number,children:r.a.node,leftSectionTexts:r.a.shape({title:r.a.string,firstSection:r.a.shape({title:r.a.string,description:r.a.string}),secondSection:r.a.shape({title:r.a.string,description:r.a.string})}),handleAnimateExit:r.a.func,animateExit:r.a.bool,providerCard:r.a.object,isEditable:r.a.bool,wizardType:r.a.oneOf(Object.values(o.g))}},DalI:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n("VkAN"),r=n.n(a),o=n("q1tI"),i=n.n(o),c=n("17x9"),s=n.n(c),l=n("TSYQ"),u=n.n(l),d=n("/MKj"),p=n("PhEd"),m=n("nbpM"),b=n("ePPS"),f=n("s5rH"),h=n("Jje6"),y=n("i6OX"),E=n("qzHu"),g=n.n(E),O=n("G4qV"),v=n("mBgX"),S=n("V/N5");function j(){var e=r()(["You do not have upcoming payouts."]);return j=function(){return e},e}function P(){var e=r()(["You do not have upcoming payouts."]);return P=function(){return e},e}var N=Object(O.a)(m.a.getPromotionBillingBalance,m.a.getPaymentsProvider,m.a.getProviderCard,m.a.isFreshaPaySetUp,m.a.getKycStatus,({nextPayoutAmount:e,minimalPayoutAmount:t,minimalDailyPayoutAmount:n,formattedNextChargeDate:a,balance:r,formattedNextPayoutDate:o,isNextPayoutDateSameOrBeforeNextBusinessDay:c,formattedMinimalDailyPayoutAmount:s,formattedNextPayoutAmount:l},u,d,m,h)=>{if(m&&h){if(h.status===v.a.PENDING)return e<t?Object(b.c)("We are verifying your bank account details in order to process your next payout %{formattedNextPayoutAmount}. You'll be notified once the process's been completed.",{formattedNextPayoutAmount:l}):Object(b.c)("We are verifying your bank account details in order to process your next payout of at least %{formattedNextPayoutAmount}. You'll be notified once the process's been completed.",{formattedNextPayoutAmount:l});if([v.a.FAILED,v.a.AWAITING].includes(h.status))return e<t?Object(b.c)("Please update your bank details in order to receive payout %{formattedNextPayoutAmount} on time, otherwise it can be delayed.",{formattedNextPayoutAmount:l}):Object(b.c)("Please update your bank details in order to receive payout of at least %{formattedNextPayoutAmount} on time, otherwise it can be delayed.",{formattedNextPayoutAmount:l})}if(r<0)return d?d.expired?Object(b.f)("Your payment method has expired. Please <a>set up</a> new one to continue using online booking.",{},{a:e=>i.a.createElement(p.Link,{key:"setUpLink",linkTo:f.b,replace:!0},e)}):Object(b.f)("Your <bold>%{cardBrand}</bold> card ending <bold>%{last4}</bold> will be charged <bold>%{nextChargeDate}</bold>.",{cardBrand:d.cardBrandFormatted,last4:d.cardLast4,nextChargeDate:a},{bold:e=>i.a.createElement(p.Text,{as:"span",type:"fresha-h5",color:"gray100"},e)}):Object(b.f)("You have not setup your payment method. Please <a>set it up</a> to continue using online booking.",{},{a:e=>i.a.createElement(p.Link,{key:"setUpLink",linkTo:f.b,replace:!0},e)});if(u===S.c.ADYEN){var y={nextPayout:i.a.createElement(p.Text,{key:"nextPayoutAmount",as:"span",type:"fresha-h5",color:"gray100"},l),nextPayoutDate:i.a.createElement(p.Text,{key:"payoutDate",as:"span",type:"fresha-h5",color:"gray100"},o),formattedMinimalDailyPayoutAmount:s};return e>=n&&c?Object(b.c)("Your next payout of at least %{nextPayout} will be released on %{nextPayoutDate}.",y):e>0?Object(b.c)("Your next payout of at least %{nextPayout} will be released on %{nextPayoutDate}. Balances over %{formattedMinimalDailyPayoutAmount} are released within 2 working days.",y):Object(b.c)(P())}return e<=0?r>t?Object(b.c)("Your next payout is scheduled to be released %{nextPayoutDate}.",{nextPayoutDate:i.a.createElement(p.Text,{key:"payoutDate",as:"span",type:"fresha-h5",color:"gray100"},o)}):Object(b.c)(j()):Object(b.c)("Your next payout of %{nextPayout} is scheduled to be released %{nextPayoutDate}.",{nextPayout:i.a.createElement(p.Text,{key:"nextPayoutAmount",as:"span",type:"fresha-h5",color:"gray100"},l),nextPayoutDate:i.a.createElement(p.Text,{key:"payoutDate",as:"span",type:"fresha-h5",color:"gray100"},o)})}),A=Object(O.a)(m.a.getCreditsValidityLengthInDays,m.a.getTotalCreditsAmountFormatted,m.a.getTotalCreditsAmount,(e,t,n)=>[Object(b.g)("You have %{totalCreditsAmountFormatted} Fresha Plus credit remaining.","You have %{totalCreditsAmountFormatted} Fresha Plus credits remaining.",n,{totalCreditsAmountFormatted:t})," ",Object(b.g)("Credits are valid for another %{creditsValidityLengthInDays} day.","Credits are valid for another %{creditsValidityLengthInDays} days.",e,{creditsValidityLengthInDays:e||0})]);function T(){var e=r()(["See detailed billing activity"]);return T=function(){return e},e}var C=Object(d.b)((function(e){var t=m.a.getPromotionBillingBalance(e),{formattedBalance:n}=t;return{formattedBalance:n,isCreditsEnabled:m.a.isCreditsEnabled(e),paymentsBalanceText:N(e),creditsBalanceText:A(e)}}));function I(e){var{formattedBalance:t,className:n,withDetailsLink:a,paymentsBalanceText:r,isCreditsEnabled:o,creditsBalanceText:c}=e;return i.a.createElement("div",{className:u()(g.a.self,n)},i.a.createElement(h.b,{flex:"row",className:u()(g.a.money)},i.a.createElement(h.b,{className:g.a.iconBox},i.a.createElement(y.b,{color:"original",size:"info-text",name:"current-balance"})),i.a.createElement(h.b,{flex:"column"},i.a.createElement(p.Text,{type:"fresha-h3",color:"gray100"},Object(b.c)("Your current balance is %{balance}",{balance:i.a.createElement(p.Text,{as:"span",type:"fresha-h3",key:"balance",qaType:"current-balance",color:"gray100"},t)})),i.a.createElement(p.Text,{type:"fresha-caption",color:"gray100"},r," ",a&&i.a.createElement(p.Link,{inheritFont:!0,linkTo:f.a},Object(b.c)(T()))))),o&&i.a.createElement("div",{className:g.a.credits},i.a.createElement(p.Icon,{size:"48",name:"money-stack",className:g.a.iconBox}),i.a.createElement(p.Text,{type:"fresha-caption",color:"gray50",qaType:"credits-balance-text"},c)))}I.propTypes={className:s.a.string,formattedBalance:s.a.string,withDetailsLink:s.a.bool,paymentsBalanceText:s.a.string,isCreditsEnabled:s.a.bool,creditsBalanceText:s.a.node};var w=C(I)},EiY6:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("VkAN"),r=n.n(a),o=n("q1tI"),i=n.n(o),c=n("Qs7Y"),s=n("ePPS"),l=n("kZhr"),u=n("CNib"),d=n.n(u);function p(){var e=r()(["Files must be max. 10mb size in JPEG, JPG, PDF or PNG file type"]);return p=function(){return e},e}class m extends o.PureComponent{render(){return i.a.createElement(l.p,null,i.a.createElement(c.d,{type:"body-2",className:d.a.self},Object(s.c)(p())))}}},Ejwb:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var a=n("9oTK"),r=n.n(a),o=n("VkAN"),i=n.n(o),c=n("5ZU+"),s=n("ePPS"),l=n("XQjB");function u(){var e=i()(["Your new payment method was saved successfully"]);return u=function(){return e},e}function d(){var e=i()(["We are saving your new payment method, this may take several more seconds"]);return d=function(){return e},e}var p={SUCCESSFUL:"successful",FAILED:"failed",REQUIRED_3DS:"required_3ds"},m=t=>new r.a((n,r)=>{var o=e.setTimeout(()=>{c.a.addGlobalInfoToast(Object(s.c)(d()))},1e4),i=({body:d})=>{var{providerCardJob:m}=Object(l.b)(d);m.status===p.SUCCESSFUL?(e.clearTimeout(o),c.a.addGlobalSuccessToast(Object(s.c)(u())),c.a.readPublishedLocationProfilesCheck.cache.clear(),Object(a.all)([c.a.readProvider(),c.a.readProviderBadgeStatus(),c.a.readPublishedLocationProfilesCheck(),c.a.readProviderCard()]).then(n)):m.status===p.REQUIRED_3DS?(e.clearTimeout(o),n({providerCardJob:m})):m.status===p.FAILED?(e.clearTimeout(o),r(m.errorMessage)):e.setTimeout(()=>{c.a.readProviderCardJobs(t).then(i).catch(t=>{e.clearTimeout(o),r(t)})},1e3)};c.a.readProviderCardJobs(t).then(i).catch(r)})}).call(this,n("yLpj"))},FKdw:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return I}));var a,r,o,i=n("VkAN"),c=n.n(i),s=n("lSNA"),l=n.n(s),u=n("q1tI"),d=n.n(u),p=n("17x9"),m=n.n(p),b=n("TSYQ"),f=n.n(b),h=n("ePPS"),y=n("3wSE"),E=n("Qs7Y"),g=n("Jje6"),O=n("dhJQ"),v=n("/Q2I"),S=n("XOuL"),j=n("9wjN"),P=n("DUfz"),N=n("QzqF"),A=n.n(N);function T(){var e=c()(["To make sure your card is captured in a secure way, please proceed with authentication with your bank"]);return T=function(){return e},e}function C(){var e=c()(["Authenticate Transaction"]);return C=function(){return e},e}var I=Object(O.g)()((o=r=class extends u.PureComponent{constructor(e){super(e),l()(this,"onIframeLoad",({target:e})=>{"iframe"===e.localName&&"adyen"===e.name&&(this.setState({loading:!1}),document.removeEventListener("load",this.onIframeLoad,!0))}),this.adyenRef=d.a.createRef(),this.state={loading:!0}}componentDidMount(){e.addEventListener("message",this.props.handleIframeMessage),document.addEventListener("load",this.onIframeLoad,!0),this.adyenRef.current.submit(),Object(P.a)()}componentWillUnmount(){e.removeEventListener("message",this.props.handleIframeMessage),Object(P.b)(),document.removeEventListener("load",this.onIframeLoad,!0)}render(){var{loading:e}=this.state,{handleClose:t,redirectUrl:n,scaDetails:a}=this.props,{MD:r,PaReq:o,TermUrl:i}=a,c=f()(A.a.iframeWrapper,{[A.a.scrollable]:Object(j.f)()}),s=f()(A.a.adyenIframe,{[A.a.hidden]:e});return d.a.createElement(v.i,{size:"small"},d.a.createElement(v.g,{secondaryAction:d.a.createElement(y.e,{"data-qa":"close-iframe-modal",onAction:t})},Object(h.c)(C())),d.a.createElement(v.c,{className:A.a.iframeModalContent,wrapperClassName:A.a.frameModalContentWrapper,noPadding:!0},d.a.createElement(E.d,{className:A.a.description},Object(h.c)(T())),d.a.createElement(g.b,{className:c},d.a.createElement("form",{target:"adyen",ref:this.adyenRef,method:"post",className:A.a.postingForm,action:n,encType:"application/x-www-form-urlencoded"},d.a.createElement("input",{type:"text",name:"MD",value:r}),d.a.createElement("input",{type:"text",name:"PaReq",value:o}),d.a.createElement("input",{type:"text",name:"TermUrl",value:i})),d.a.createElement("iframe",{name:"adyen",title:"adyen",src:"",className:s}),d.a.createElement(S.a,{if:e,className:A.a.loader}))))}},l()(r,"propTypes",{handleClose:m.a.func,redirectUrl:m.a.string,handleIframeMessage:m.a.func,scaDetails:m.a.object}),a=o))||a}).call(this,n("yLpj"))},"H+id":function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var a,r,o,i=n("VkAN"),c=n.n(i),s=n("pVnL"),l=n.n(s),u=n("QILm"),d=n.n(u),p=n("lSNA"),m=n.n(p),b=n("q1tI"),f=n.n(b),h=n("17x9"),y=n.n(h),E=n("TSYQ"),g=n.n(E),O=n("PhEd"),v=n("/MKj"),S=n("ePPS"),j=n("Jje6"),P=n("Qs7Y"),N=n("nbpM"),A=n("wBpA"),T=n.n(A);function C(){var e=c()(["not provided"]);return C=function(){return e},e}var I=Object(v.b)(e=>({isReshedulEnabled:N.a.isReshedulEnabled(e)}))((o=r=class extends b.PureComponent{constructor(...e){super(...e),m()(this,"renderText",(e,t="single")=>e?this.props.isReshedulEnabled?f.a.createElement(O.Text,{key:"details-row-".concat(t),className:g()({[T.a.textPadding]:this.props.withPadding}),type:"fresha-paragraph"},e):f.a.createElement(P.d,{key:"details-row-".concat(t),className:g()({[T.a.textPadding]:this.props.withPadding}),type:"form-field-content"},e):null)}render(){var e=this.props,{label:t,value:n,withPadding:a,isReshedulEnabled:r}=e,o=d()(e,["label","value","withPadding","isReshedulEnabled"]);return t?f.a.createElement(j.b,l()({},o,{className:T.a.self}),r?f.a.createElement(O.Text,{type:"fresha-caption",color:"gray50",className:T.a.summaryLabel},t):f.a.createElement(P.d,{type:"body-1",className:T.a.summaryLabel},t),Array.isArray(n)?f.a.createElement(j.b,null,n.map(this.renderText)):this.renderText(n)):null}},m()(r,"propTypes",{label:y.a.node.isRequired,value:y.a.oneOfType([h.node,Object(h.arrayOf)(h.node)]),withPadding:y.a.bool,isReshedulEnabled:y.a.bool}),m()(r,"defaultProps",{value:Object(S.c)(C())}),a=o))||a},JnEf:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a,r,o,i=n("lSNA"),c=n.n(i),s=n("q1tI"),l=n.n(s),u=n("17x9"),d=n.n(u),p=n("aAma"),m=n("L8xJ"),b=n("dhJQ"),f=n("vfnK"),h=Object(b.g)()((o=r=class extends l.a.PureComponent{render(){var{children:e,isMatch:t,options:{noSidePadding:n,noMobilePadding:a,smallMobilePadding:r,showKycPending:o}}=this.props;return l.a.createElement(m.b,{color:"gray-2"},l.a.createElement(f.a,{showKycPending:o}),l.a.createElement(p.b,{noSidePadding:n&&t,noPadding:t&&a||t&&r,paddingTop:t&&r?4:void 0,shrink:0,grow:1},e))}},c()(r,"propTypes",{children:d.a.node.isRequired,isMatch:d.a.bool.isRequired,options:d.a.object}),a=o))||a,y=(e={})=>t=>n=>l.a.createElement(h,{options:e},l.a.createElement(t,n))},JtxT:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n("VkAN"),r=n.n(a),o=n("ePPS");function i(){var e=r()(["Two-factor authentication has failed."]);return i=function(){return e},e}function c(){var e=r()(["Your card withdrawal limit has been exceeded."]);return c=function(){return e},e}function s(){var e=r()(["Attempted transaction has been declined by the bank."]);return s=function(){return e},e}function l(){var e=r()(["Your card has been declined."]);return l=function(){return e},e}function u(){var e=r()(["Attempted transaction has been declined for unspecified reasons."]);return u=function(){return e},e}function d(){var e=r()(["Attempted transaction has been declined for security reasons."]);return d=function(){return e},e}function p(){var e=r()(["Provided CVV number is invalid."]);return p=function(){return e},e}function m(){var e=r()(["Provided credit card number is invalid."]);return m=function(){return e},e}function b(){var e=r()(["Your card has been declined."]);return b=function(){return e},e}function f(){var e=r()(["Your card has insufficient funds."]);return f=function(){return e},e}function h(){var e=r()(["Your card has expired."]);return h=function(){return e},e}function y(){var e=r()(["We were unable to save your new payment method, please try again."]);return y=function(){return e},e}var E=Object(o.c)(y());function g(e){switch(e){case"expired_card":return Object(o.c)(h());case"insufficient_funds":return Object(o.c)(f());case"invalid_card_details":return Object(o.c)(b());case"invalid_card_number":return Object(o.c)(m());case"invalid_cvv":return Object(o.c)(p());case"suspected_fraud":return Object(o.c)(d());case"transaction_declined":return Object(o.c)(u());case"requires_bank_contact":return Object(o.c)(l());case"transaction_declined_by_bank":return Object(o.c)(s());case"withdrawal_limit_exceeded":return Object(o.c)(c());case"two_factor_error":return Object(o.c)(i());default:return E}}function O(e="[]"){try{var t=JSON.parse(e)[0].split("#").pop();return"".concat(g(t))}catch(e){return"".concat(g())}}},KYH1:function(e,t,n){"use strict";var a=n("AmjK");n.d(t,"c",(function(){return a.c})),n.d(t,"b",(function(){return a.b})),n.d(t,"d",(function(){return a.d})),n.d(t,"a",(function(){return a.a}))},M22i:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var a,r=n("9oTK"),o=n.n(r),i=n("FAYg"),c=i.CHECKOUT_DEBUG_MODE,s="https://cdn.checkout.com/".concat(c?"sandbox/":"","js/checkoutkit.js");function l(){if(a)return a;var t=new o.a((t,n)=>{if(e.CheckoutKit)t(e.CheckoutKit);else{var r=e.document.getElementsByTagName("head")[0],o=e.document.createElement("script"),l=e=>{n(e),a=null};e.CKOConfig={debugMode:c,publicKey:i.CHECKOUT_API_KEY,ready(){t(e.CheckoutKit)},apiError:l},o.src=s,o.async=!0,o.onerror=l,r.appendChild(o)}});return a=t,t}}).call(this,n("yLpj"))},MpU3:function(e,t,n){"use strict";n.d(t,"f",(function(){return Q})),n.d(t,"d",(function(){return J})),n.d(t,"c",(function(){return X})),n.d(t,"a",(function(){return $})),n.d(t,"e",(function(){return ee})),n.d(t,"b",(function(){return ae}));var a=n("lSNA"),r=n.n(a),o=n("pVnL"),i=n.n(o),c=n("VkAN"),s=n.n(c),l=n("QILm"),u=n.n(l),d=n("mwIZ"),p=n.n(d),m=n("Z0cm"),b=n.n(m),f=n("q1tI"),h=n.n(f),y=n("/MKj"),E=n("17x9"),g=n.n(E),O=n("Wwog"),v=n("Q2AE"),S=n("3wSE"),j=n("nbpM"),P=n("kZhr"),N=n("uZ2f"),A=n("Jje6"),T=n("Qs7Y"),C=n("SFs4"),I=n("ePPS"),w=n("MqMK"),D=n("/LDt"),k=n("nNRm"),_=n("eFGT"),x=n("kWUZ");function M(){var e=s()(["restrictions"]);return M=function(){return e},e}function R(){var e=s()(["terms"]);return R=function(){return e},e}class L extends f.PureComponent{render(){return h.a.createElement(P.p,{as:T.d,basis:"100%"},Object(I.c)("Fresha delivers payment services in partnership with Adyen, your usage is subject to Adyen's standard %{terms} and %{restrictions}",{terms:h.a.createElement(S.n,{inheritFontSize:!0,linkTo:x.b,key:"tos"},h.a.createElement(T.d,{type:"inherit",as:"span"},Object(I.c)(R()))),restrictions:h.a.createElement(S.n,{inheritFontSize:!0,linkTo:x.a,key:"restrictiveList"},h.a.createElement(T.d,{type:"inherit",as:"span"},Object(I.c)(M())))}))}}var B,F,V,Y=n("oyHU"),U=n.n(Y);function q(){var e=s()(["Company"]);return q=function(){return e},e}function H(){var e=s()(["Individual / Sole Trader"]);return H=function(){return e},e}function K(){var e=s()(["Account type"]);return K=function(){return e},e}function G(){var e=s()(["Make sure your business details exactly match your official company registration."]);return G=function(){return e},e}function z(){var e=s()(["Make sure the details entered below match exactly with the bank account holder’s government-issued document copy that you submit."]);return z=function(){return e},e}function Z(){var e=s()(["Phone number"]);return Z=function(){return e},e}var W="AdyenOnboardingForm",Q=()=>Object(P.hb)(W),J=Object(P.bb)(W),X=Object(P.W)(W),$=(e,t)=>v.a.dispatch(Object(P.L)(W,e,t)),ee=e=>0===Object.keys(Object(P.V)(W)(e)).length,te=({path:e,field:t,separator:n})=>t?((e,{key:t,type:n,options:a,required:r,minLength:o,maxLength:c,label:s,placeholder:l,hint:d})=>{var p=_.c[t]||{},{validate:m}=p,b=u()(p,["validate"]),f=_.a[n];return h.a.createElement(f,i()({className:U.a.field,key:e,name:e,validate:[r&&P.q.validate.required(),void 0!==o&&P.q.validate.minLength(o),void 0!==c&&P.q.validate.maxLength(c),"fullPhoneNumber"===t&&P.q.validate.requiredPhoneNumber(Object(I.c)(Z())),m].filter(Boolean)},b,{label:s||b.label,placeholder:l||b.placeholder,hint:d||b.hint}),a&&a.map(e=>h.a.createElement("option",{key:e.value,value:e.value},e.label)))})(e,t):_.e[n]?(e=>{var{header:t,note:n}=e;return h.a.createElement(A.b,{key:t,className:U.a.separator},h.a.createElement(P.p,{type:"view-header",as:T.d,noMargin:!0},t),n&&h.a.createElement(P.p,null,h.a.createElement(C.b,{type:"typeInfo",noPadding:!0,description:n,icon:"info-circle"},n)))})(_.e[n]):null,ne=Object(O.a)(e=>e.map(e=>b()(e)?h.a.createElement(A.b,{className:U.a.section},e.map(te)):te(e))),ae=Object(y.b)((e,t)=>{var n=X(e),a=p()(n,"legalEntity",t.initialValues.legalEntity);return{countryCode:j.a.getProviderCountryCode(e),configuration:j.a.getAdyenOnboardingFieldsConfiguration(e)[a],legalEntity:a}})(B=Object(P.q)({form:W})((V=F=class extends h.a.PureComponent{render(){return h.a.createElement(re,{bankAccountForm:this.props.bankAccountForm,hideLegalEntitySelect:this.props.hideLegalEntitySelect,legalEntity:this.props.legalEntity,countryCode:this.props.countryCode,configuration:this.props.configuration,kycErrors:this.props.kycErrors,hideAdyenFormText:this.props.hideAdyenFormText},this.props.children)}},r()(F,"propTypes",{bankAccountForm:g.a.bool,hideLegalEntitySelect:g.a.bool,configuration:g.a.oneOfType([g.a.object,g.a.array]),kycErrors:g.a.array,legalEntity:g.a.string,countryCode:g.a.string,children:g.a.node,hideAdyenFormText:g.a.bool}),B=V))||B)||B;class re extends h.a.PureComponent{render(){var{configuration:e,bankAccountForm:t,hideLegalEntitySelect:n,countryCode:a,kycErrors:r,legalEntity:o,children:i,hideAdyenFormText:c}=this.props,s=Object(I.c)(z()),l=Object(w.a)(a).ONLINE_COMPANY_DETAILS?Object(I.f)("You can search for your company details online <a>here</a>",null,{a:e=>h.a.createElement(S.n,{inheritFontSize:!0,linkTo:Object(w.a)(a).ONLINE_COMPANY_DETAILS},e)}):"",u=Object(I.c)(G());return h.a.createElement(A.b,{flex:"column",className:U.a.self},r&&r.map(e=>h.a.createElement(P.p,null,h.a.createElement(C.b,{type:"typeError",noPadding:!0,description:e,icon:"info-circle-red"}))),i,!n&&h.a.createElement(N.r,{className:U.a.accountTypeSelect,name:_.d,label:Object(I.c)(K()),basis:"100%"},h.a.createElement("option",{value:D.a.INDIVIDUAL},Object(I.c)(H())),h.a.createElement("option",{value:D.a.BUSINESS},Object(I.c)(q()))),!t&&h.a.createElement(P.p,null,h.a.createElement(C.b,{className:U.a.businessInfo,type:"typeInfo",noPadding:!0,description:o===D.a.BUSINESS?h.a.createElement(T.d,null,u," ",l):h.a.createElement(T.d,null,s),icon:"info-circle"})),ne(e,a),h.a.createElement(k.b,null),!c&&h.a.createElement(L,null))}}r()(re,"propTypes",{configuration:g.a.arrayOf(g.a.oneOfType([g.a.object,g.a.array])),bankAccountForm:g.a.bool,hideLegalEntitySelect:g.a.bool,legalEntity:g.a.string,countryCode:g.a.string,kycErrors:g.a.oneOfType([g.a.object,g.a.array]),children:g.a.node,hideAdyenFormText:g.a.bool})},MqMK:function(e,t,n){"use strict";n.d(t,"a",(function(){return ne}));var a=n("VkAN"),r=n.n(a),o=n("ePPS"),i=n("kZhr");function c(){var e=r()(["VAT number"]);return c=function(){return e},e}function s(){var e=r()(["IČO"]);return s=function(){return e},e}function l(){var e=r()(["VAT number"]);return l=function(){return e},e}function u(){var e=r()(["Company Number"]);return u=function(){return e},e}function d(){var e=r()(["VAT number"]);return d=function(){return e},e}function p(){var e=r()(["UID/IDE/IDI"]);return p=function(){return e},e}function m(){var e=r()(["VAT number"]);return m=function(){return e},e}function b(){var e=r()(["Numer KRS"]);return b=function(){return e},e}function f(){var e=r()(["VAT number"]);return f=function(){return e},e}function h(){var e=r()(["Número de Identificación Fiscal (NIF)"]);return h=function(){return e},e}function y(){var e=r()(["VAT number"]);return y=function(){return e},e}function E(){var e=r()(["NIPC"]);return E=function(){return e},e}function g(){var e=r()(["VAT number"]);return g=function(){return e},e}function O(){var e=r()(["Kamer van Koophandel (KvK)"]);return O=function(){return e},e}function v(){var e=r()(["VAT number"]);return v=function(){return e},e}function S(){var e=r()(["Company Number"]);return S=function(){return e},e}function j(){var e=r()(["VAT number"]);return j=function(){return e},e}function P(){var e=r()(["Company Number"]);return P=function(){return e},e}function N(){var e=r()(["VAT number"]);return N=function(){return e},e}function A(){var e=r()(["Codice fiscale"]);return A=function(){return e},e}function T(){var e=r()(["VAT number"]);return T=function(){return e},e}function C(){var e=r()(["Company Number"]);return C=function(){return e},e}function I(){var e=r()(["VAT number"]);return I=function(){return e},e}function w(){var e=r()(["Handelsregisternummer"]);return w=function(){return e},e}function D(){var e=r()(["VAT number"]);return D=function(){return e},e}function k(){var e=r()(["SIRET number"]);return k=function(){return e},e}function _(){var e=r()(["VAT number"]);return _=function(){return e},e}function x(){var e=r()(["Y-TUNNUS"]);return x=function(){return e},e}function M(){var e=r()(["VAT number"]);return M=function(){return e},e}function R(){var e=r()(["Company Number"]);return R=function(){return e},e}function L(){var e=r()(["VAT number"]);return L=function(){return e},e}function B(){var e=r()(["Firmenbuchnummer"]);return B=function(){return e},e}function F(){var e=r()(["VAT number"]);return F=function(){return e},e}function V(){var e=r()(["GST number"]);return V=function(){return e},e}function Y(){var e=r()(["Company Number"]);return Y=function(){return e},e}function U(){var e=r()(["GST number"]);return U=function(){return e},e}function q(){var e=r()(["Company Number"]);return q=function(){return e},e}function H(){var e=r()(["VAT number"]);return H=function(){return e},e}function K(){var e=r()(["CRN"]);return K=function(){return e},e}function G(){var e=r()(["VAT number"]);return G=function(){return e},e}function z(){var e=r()(["ABN number"]);return z=function(){return e},e}function Z(){var e=r()(["ABN"]);return Z=function(){return e},e}function W(){var e=r()(["TRN number"]);return W=function(){return e},e}var Q=[i.q.validate.trnNumber],J=[i.q.validate.abnNumber],X=[i.q.validate.vatNumber],$=[i.q.validate.caGstNumber],ee=[i.q.validate.nzGstNumber],te=e=>e?e.replace(/\D+/g,""):"";function ne(e){return{AE:{VAT_NUMBER_NAME:"TRN",VAT_NUMBER_PROPS:{label:Object(o.c)(W()),validate:Q,normalize:te},ZENDESK_PAYMENTS_LEARN_MORE:"https://support.fresha.com/hc/en-us/articles/360022998873"},AU:{VAT_NUMBER_NAME:Object(o.c)(Z()),VAT_NUMBER_PROPS:{label:Object(o.c)(z()),validate:J,normalize:i.eb},ZENDESK_PAYMENTS_LEARN_MORE:"https://support.fresha.com/hc/en-us/articles/360007620940",COMPANY_NUMBER_NAME:"ABN",ONLINE_COMPANY_DETAILS:"https://asic.gov.au/online-services/search-asics-registers/companies-and-organisations/"},GB:{VAT_NUMBER_NAME:"VAT",VAT_NUMBER_PROPS:{label:Object(o.c)(G()),validate:X},ZENDESK_PAYMENTS_LEARN_MORE:"https://support.fresha.com/hc/en-us/articles/360019928293",COMPANY_NUMBER_NAME:Object(o.c)(K()),ONLINE_COMPANY_DETAILS:"https://www.gov.uk/get-information-about-a-company"},IE:{VAT_NUMBER_NAME:"VAT",VAT_NUMBER_PROPS:{label:Object(o.c)(H()),placeholder:"IE12345678FA"},ZENDESK_PAYMENTS_LEARN_MORE:"https://support.fresha.com/hc/en-us/articles/360009801240",COMPANY_NUMBER_NAME:Object(o.c)(q()),ONLINE_COMPANY_DETAILS:"https://www.cro.ie/Services/Company-Search"},CA:{VAT_NUMBER_NAME:"GST",VAT_NUMBER_PROPS:{label:Object(o.c)(U()),validate:$,placeholder:"123456789/AB/1234"},ZENDESK_PAYMENTS_LEARN_MORE:"https://support.fresha.com/hc/en-us/articles/360009801220",COMPANY_NUMBER_NAME:Object(o.c)(Y()),ONLINE_COMPANY_DETAILS:"https://beta.canadasbusinessregistries.ca/search"},NZ:{VAT_NUMBER_NAME:"GST",VAT_NUMBER_PROPS:{label:Object(o.c)(V()),validate:ee},ZENDESK_PAYMENTS_LEARN_MORE:"https://support.fresha.com/hc/en-us/articles/360009885239",COMPANY_NUMBER_NAME:"NZBN"},US:{ZENDESK_PAYMENTS_LEARN_MORE:"https://support.fresha.com/hc/en-us/articles/360009885199",COMPANY_NUMBER_NAME:"EIN",ONLINE_COMPANY_DETAILS:"https://www.rocketlawyer.com/article/how-to-check-the-status-of-a-corporation.rl"},AT:{VAT_NUMBER_NAME:"VAT",VAT_NUMBER_PROPS:{label:Object(o.c)(F())},ZENDESK_PAYMENTS_LEARN_MORE:"https://support.fresha.com/hc/en-us/articles/360013220799",COMPANY_NUMBER_NAME:Object(o.c)(B()),ONLINE_COMPANY_DETAILS:"https://e-justice.europa.eu/content_find_a_company-489-en.do?clang=en"},BE:{VAT_NUMBER_NAME:"VAT",VAT_NUMBER_PROPS:{label:Object(o.c)(L())},ZENDESK_PAYMENTS_LEARN_MORE:"https://support.fresha.com/hc/en-us/articles/360013220799",COMPANY_NUMBER_NAME:Object(o.c)(R()),ONLINE_COMPANY_DETAILS:"https://e-justice.europa.eu/content_find_a_company-489-en.do?clang=en"},FI:{VAT_NUMBER_NAME:"VAT",VAT_NUMBER_PROPS:{label:Object(o.c)(M())},ZENDESK_PAYMENTS_LEARN_MORE:"https://support.fresha.com/hc/en-us/articles/360013220799",COMPANY_NUMBER_NAME:Object(o.c)(x()),ONLINE_COMPANY_DETAILS:"https://e-justice.europa.eu/content_find_a_company-489-en.do?clang=en"},FR:{VAT_NUMBER_NAME:"VAT",VAT_NUMBER_PROPS:{label:Object(o.c)(_())},ZENDESK_PAYMENTS_LEARN_MORE:"https://support.fresha.com/hc/en-us/articles/360013220799",COMPANY_NUMBER_NAME:Object(o.c)(k()),ONLINE_COMPANY_DETAILS:"https://e-justice.europa.eu/content_find_a_company-489-en.do?clang=en"},DE:{VAT_NUMBER_NAME:"VAT",VAT_NUMBER_PROPS:{label:Object(o.c)(D())},ZENDESK_PAYMENTS_LEARN_MORE:"https://support.fresha.com/hc/en-us/articles/360013220799",COMPANY_NUMBER_NAME:Object(o.c)(w()),ONLINE_COMPANY_DETAILS:"https://e-justice.europa.eu/content_find_a_company-489-en.do?clang=en"},GR:{VAT_NUMBER_NAME:"VAT",VAT_NUMBER_PROPS:{label:Object(o.c)(I())},ZENDESK_PAYMENTS_LEARN_MORE:"https://support.fresha.com/hc/en-us/articles/360013220799",COMPANY_NUMBER_NAME:Object(o.c)(C()),ONLINE_COMPANY_DETAILS:"https://e-justice.europa.eu/content_find_a_company-489-en.do?clang=en"},IT:{VAT_NUMBER_NAME:"VAT",VAT_NUMBER_PROPS:{label:Object(o.c)(T())},ZENDESK_PAYMENTS_LEARN_MORE:"https://support.fresha.com/hc/en-us/articles/360013220799",COMPANY_NUMBER_NAME:Object(o.c)(A()),ONLINE_COMPANY_DETAILS:"https://e-justice.europa.eu/content_find_a_company-489-en.do?clang=en"},LT:{VAT_NUMBER_NAME:"VAT",VAT_NUMBER_PROPS:{label:Object(o.c)(N())},ZENDESK_PAYMENTS_LEARN_MORE:"https://support.fresha.com/hc/en-us/articles/360013220799",COMPANY_NUMBER_NAME:Object(o.c)(P()),ONLINE_COMPANY_DETAILS:"https://e-justice.europa.eu/content_find_a_company-489-en.do?clang=en"},LU:{VAT_NUMBER_NAME:"VAT",VAT_NUMBER_PROPS:{label:Object(o.c)(j())},ZENDESK_PAYMENTS_LEARN_MORE:"https://support.fresha.com/hc/en-us/articles/360013220799",COMPANY_NUMBER_NAME:Object(o.c)(S()),ONLINE_COMPANY_DETAILS:"https://e-justice.europa.eu/content_find_a_company-489-en.do?clang=en"},NL:{VAT_NUMBER_NAME:"VAT",VAT_NUMBER_PROPS:{label:Object(o.c)(v())},ZENDESK_PAYMENTS_LEARN_MORE:"https://support.fresha.com/hc/en-us/articles/360013220799",COMPANY_NUMBER_NAME:Object(o.c)(O()),ONLINE_COMPANY_DETAILS:"https://e-justice.europa.eu/content_find_a_company-489-en.do?clang=en"},PT:{VAT_NUMBER_NAME:"VAT",VAT_NUMBER_PROPS:{label:Object(o.c)(g())},ZENDESK_PAYMENTS_LEARN_MORE:"https://support.fresha.com/hc/en-us/articles/360013220799",COMPANY_NUMBER_NAME:Object(o.c)(E()),ONLINE_COMPANY_DETAILS:"https://e-justice.europa.eu/content_find_a_company-489-en.do?clang=en"},ES:{VAT_NUMBER_NAME:"VAT",VAT_NUMBER_PROPS:{label:Object(o.c)(y())},ZENDESK_PAYMENTS_LEARN_MORE:"https://support.fresha.com/hc/en-us/articles/360013220799",COMPANY_NUMBER_NAME:Object(o.c)(h()),ONLINE_COMPANY_DETAILS:"https://e-justice.europa.eu/content_find_a_company-489-en.do?clang=en"},PL:{VAT_NUMBER_NAME:"VAT",VAT_NUMBER_PROPS:{label:Object(o.c)(f())},ZENDESK_PAYMENTS_LEARN_MORE:"https://support.fresha.com/hc/en-us/articles/360013220799",COMPANY_NUMBER_NAME:Object(o.c)(b()),ONLINE_COMPANY_DETAILS:"https://e-justice.europa.eu/content_find_a_company-489-en.do?clang=en"},CH:{VAT_NUMBER_NAME:"VAT",VAT_NUMBER_PROPS:{label:Object(o.c)(m())},ZENDESK_PAYMENTS_LEARN_MORE:"https://support.fresha.com/hc/en-us/articles/360013220799",COMPANY_NUMBER_NAME:Object(o.c)(p()),ONLINE_COMPANY_DETAILS:"https://e-justice.europa.eu/content_find_a_company-489-en.do?clang=en"},HR:{VAT_NUMBER_NAME:"VAT",VAT_NUMBER_PROPS:{label:Object(o.c)(d())},ZENDESK_PAYMENTS_LEARN_MORE:"https://support.fresha.com/hc/en-us/articles/360013220799",COMPANY_NUMBER_NAME:Object(o.c)(u()),ONLINE_COMPANY_DETAILS:"https://e-justice.europa.eu/content_find_a_company-489-en.do?clang=en"},CZ:{VAT_NUMBER_NAME:"VAT",VAT_NUMBER_PROPS:{label:Object(o.c)(l())},ZENDESK_PAYMENTS_LEARN_MORE:"https://support.fresha.com/hc/en-us/articles/360013220799",COMPANY_NUMBER_NAME:Object(o.c)(s()),ONLINE_COMPANY_DETAILS:"https://e-justice.europa.eu/content_find_a_company-489-en.do?clang=en"}}[e]||{VAT_NUMBER_NAME:"VAT",VAT_NUMBER_PROPS:{label:Object(o.c)(c())}}}},POmq:function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var a,r,o,i=n("9oTK"),c=n("VkAN"),s=n.n(c),l=n("lSNA"),u=n.n(l),d=n("QILm"),p=n.n(d),m=n("q1tI"),b=n.n(m),f=n("/MKj"),h=n("17x9"),y=n.n(h),E=n("PhEd"),g=n("ePPS"),O=n("Qs7Y"),v=n("Jje6"),S=n("kZhr"),j=n("uZ2f"),P=n("5ZU+"),N=n("pxaF"),A=n("XQjB"),T=n("nbpM"),C=n("Ejwb"),I=n("+Wfv"),w=n("OZp9"),D=n.n(w);function k(){var e=s()(["AED 3.67 will be collected and refunded to verify your card the first time."]);return k=function(){return e},e}function _(){var e=s()(["AED 3.67 will be collected and refunded to verify your card the first time."]);return _=function(){return e},e}function x(){var e=s()(["CVV"]);return x=function(){return e},e}function M(){var e=s()(["Expiry date"]);return M=function(){return e},e}function R(){var e=s()(["Card holder name"]);return R=function(){return e},e}function L(){var e=s()(["We were unable to save your new payment method, please try again"]);return L=function(){return e},e}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=[S.kb.required(),S.kb.maxLength(210)],Y=[S.kb.required(),S.kb.expiryDate()],U=[S.kb.required(),S.kb.CVV()],q=null,H=Object(f.b)(e=>({isReshedulEnabled:T.a.isReshedulEnabled(e)}),(e,t)=>({onSubmit:n=>{var{expiryDate:a}=n,r=p()(n,["expiryDate"]);return q=e(Object(N.b)(F(F({},r),{},{expiryMonth:a.split("/")[0],expiryYear:a.split("/")[1]}))).then(e=>P.a.createProviderCard({providerCard:{cardToken:e.id,enableFeatureBundle:!!t.enableFeatureBundle}})).then(({body:e})=>Object(C.b)(Object(A.b)(e).providerCardJobId).then(t.afterSubmit)).catch(e=>{throw P.a.addGlobalErrorToast(Object(g.c)(L())),e})}}))(a=Object(S.q)({form:"CheckoutPaymentMethodForm"})((o=r=class extends m.PureComponent{constructor(...e){super(...e),u()(this,"submit",()=>(q=null,this.props.submit(),q||Object(i.reject)()))}componentDidMount(){this.context.registerPaymentSubmit(this.submit)}componentWillUnmount(){this.context.registerPaymentSubmit(null)}render(){return b.a.createElement(v.b,null,b.a.createElement(v.b,{className:D.a.self},b.a.createElement(j.s,{name:N.a.NAME,label:Object(g.c)(R()),validate:V,id:"cardHolder",autoComplete:"cc-name",className:D.a.fieldName}),b.a.createElement(j.f,{name:N.a.NUMBER,className:D.a.fieldCardNumber,id:"cardNumber"}),b.a.createElement(j.s,{name:N.a.EXPIRY_DATE,label:Object(g.c)(M()),validate:Y,normalize:S.O,noEditError:!0,placeholder:"MM/YY",id:"frmCCExp",autoComplete:"cc-exp",type:"phone",className:D.a.fieldExpiryDate}),b.a.createElement(j.s,{name:N.a.CVV,label:Object(g.c)(x()),validate:U,normalize:S.b,noEditError:!0,placeholder:"123",id:"frmCCCVC",autoComplete:"cc-csc",type:"phone",className:D.a.fieldCVV})),this.props.isReshedulEnabled?b.a.createElement(S.p,{className:D.a.fieldWrapper,as:E.Text,type:"fresha-caption",color:"gray50"},Object(g.c)(_())):b.a.createElement(S.p,{as:O.d,type:"body-1"},Object(g.c)(k())))}},u()(r,"contextType",I.a),u()(r,"propTypes",{submit:y.a.func,isReshedulEnabled:y.a.bool}),a=o))||a)||a},R2F8:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n("5ZU+");function r(e){return()=>a.a.createLegacyExport({resource:"report",exportParams:e}).then(({body:e})=>e)}function o(e){return()=>a.a.readLegacyExport(e).then(({body:e})=>e)}},WPT4:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n("pVnL"),r=n.n(a),o=n("VkAN"),i=n.n(o),c=n("WjpJ"),s=n.n(c),l=n("q1tI"),u=n.n(l),d=n("kZhr"),p=n("uZ2f"),m=n("ePPS"),b=n("yZTH");function f(){var e=i()(["Anytime"]);return f=function(){return e},e}function h(){var e=i()(["Clients can cancel or reschedule online"]);return h=function(){return e},e}var y=[0,.5,...s()(1,7),12,24,48].map(e=>60*e);class E extends l.PureComponent{render(){return u.a.createElement(p.r,r()({label:Object(m.c)(h()),normalize:Number,validate:d.kb.option(y)},this.props),y.map(e=>u.a.createElement("option",{value:e},e?Object(m.c)("Up to %{formattedTime} in advance",{formattedTime:Object(b.a)(e)}):Object(m.c)(f()))))}}},"X5+u":function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var a,r,o,i,c=n("9oTK"),s=n("lSNA"),l=n.n(s),u=n("VkAN"),d=n.n(u),p=n("q1tI"),m=n.n(p),b=n("17x9"),f=n.n(b),h=n("wQmL"),y=n("uxC8"),E=n("/MKj"),g=n("3wSE"),O=n("ePPS"),v=n("5ZU+"),S=n("+pqN"),j=n("25Rk"),P=n("XOD0"),N=n("s5rH"),A=n("Axym"),T=n("DWor"),C=n("UaUC"),I=n("kZhr");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(){var e=d()(["Fresha Plus activation"]);return D=function(){return e},e}function k(){var e=d()(["I'd like to settle my negative balance and enable Fresha Plus features now"]);return k=function(){return e},e}function _(){var e=d()(["Enable Fresha Plus"]);return _=function(){return e},e}function x(){var e=d()(["I'd like to settle my negative balance and keep Fresha Plus features disabled"]);return x=function(){return e},e}function M(){var e=d()(["Do not enable Fresha Plus"]);return M=function(){return e},e}var R="freshaPlusActivation",L="DO_NOT_ENABLE",B="ENABLE",F=Object(y.a)(R),V=Object(E.b)(e=>({submitting:F(e)}),{submit:()=>Object(h.k)(R)})((i=o=class extends p.PureComponent{constructor(...e){super(...e),l()(this,"state",{loading:!0}),l()(this,"handleSubmit",e=>e.action===L?this.handleCancel():v.a.activateFeatureBundle().then(()=>Object(c.all)([v.a.readProvider(),v.a.readProviderBadgeStatus(),v.a.readPublishedLocationProfilesCheck()])).then(()=>this.props.handleSubmitSuccess())),l()(this,"handleCancel",()=>{Object(P.c)(N.b)})}componentDidMount(){v.a.readProvider().then(()=>{this.setState({loading:!1})}).catch(()=>v.a.addGlobalErrorToast())}render(){var{submit:e,buttonText:t,children:n,backLink:a,handleCancel:r,stepPrefix:o,leftSectionTexts:i,submitting:c}=this.props,{loading:s}=this.state;return m.a.createElement(S.b,{isLoading:s,title:Object(O.c)(D()),description:Object(O.f)('Let us know if you\'d like to enable Fresha Plus again with all its amazing features, <a href="%{link}">learn more</a>',{link:A.e},{a:(e,{href:t})=>m.a.createElement(g.n,{inheritFontSize:!0,linkTo:t},e)}),isSubmitting:c,buttonOnAction:e,buttonText:t,onExit:r,stepView:m.a.createElement(Y,{onSubmit:this.handleSubmit}),backLink:a,stepPrefix:o,wizardVariant:C.g.PAYMENT_METHOD,leftSectionTexts:i||C.b},n)}},l()(o,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({submit:f.a.func.isRequired,children:f.a.bool},T.a)),r=i))||r,Y=Object(I.q)({form:R,initialValues:{action:L}})(a=class extends p.PureComponent{render(){return m.a.createElement(I.z,{direction:"column",name:"action",withGutter:!0},m.a.createElement(I.A,{as:j.a,title:Object(O.c)(M()),description:Object(O.c)(x()),value:L,icon:"fresha-plus-do-not-enable",qaType:"fresha-plus-no-not-enable",iconSize:"56"}),m.a.createElement(I.A,{as:j.a,title:Object(O.c)(_()),description:Object(O.c)(k()),value:B,icon:"fresha-plus-enable",qaType:"fresha-plus-enable",iconSize:"56"}))}})||a},X5fu:function(e,t,n){"use strict";n.d(t,"a",(function(){return H})),n.d(t,"b",(function(){return z})),n.d(t,"d",(function(){return Q})),n.d(t,"e",(function(){return J})),n.d(t,"f",(function(){return X})),n.d(t,"c",(function(){return $}));var a,r,o,i=n("pVnL"),c=n.n(i),s=n("lSNA"),l=n.n(s),u=n("VkAN"),d=n.n(u),p=n("mwIZ"),m=n.n(p),b=n("JZM8"),f=n.n(b),h=n("q1tI"),y=n.n(h),E=n("/MKj"),g=n("17x9"),O=n.n(g),v=n("3wSE"),S=n("kZhr"),j=n("uZ2f"),P=n("Jje6"),N=n("ePPS"),A=n("Qs7Y"),T=n("SFs4"),C=n("nbpM"),I=n("yZJL"),w=n("EiY6"),D=n("eFGT"),k=n("Xumn"),_=n.n(k);function x(){var e=d()(["Identity document type"]);return x=function(){return e},e}function M(){var e=d()(["Document Copy"]);return M=function(){return e},e}function R(){var e=d()(["Upload driver’s license back side"]);return R=function(){return e},e}function L(){var e=d()(["Upload driver’s license front side"]);return L=function(){return e},e}function B(){var e=d()(["Upload ID card back side"]);return B=function(){return e},e}function F(){var e=d()(["Upload ID card front side"]);return F=function(){return e},e}function V(){var e=d()(["Upload passport ID page"]);return V=function(){return e},e}function Y(){var e=d()(["Driver's license"]);return Y=function(){return e},e}function U(){var e=d()(["ID card"]);return U=function(){return e},e}function q(){var e=d()(["Passport"]);return q=function(){return e},e}var H="IDENTITY_DOCUMENT_TYPE",K={ID_CARD:"ID_CARD",DRIVING_LICENCE:"DRIVING_LICENCE",PASSPORT:"PASSPORT"},G={PASSPORT:Object(N.c)(q()),ID_CARD:Object(N.c)(U()),DRIVING_LICENCE:Object(N.c)(Y())},z={PASSPORT:"PASSPORT",ID_CARD_FRONT:"ID_CARD_FRONT",ID_CARD_BACK:"ID_CARD_BACK",DRIVING_LICENCE_FRONT:"DRIVING_LICENCE_FRONT",DRIVING_LICENCE_BACK:"DRIVING_LICENCE_BACK"},Z={[K.PASSPORT]:[z.PASSPORT],[K.ID_CARD]:[z.ID_CARD_FRONT,z.ID_CARD_BACK],[K.DRIVING_LICENCE]:[z.DRIVING_LICENCE_FRONT,z.DRIVING_LICENCE_BACK]},W={[z.PASSPORT]:{title:Object(N.c)(V())},[z.ID_CARD_FRONT]:{title:Object(N.c)(F())},[z.ID_CARD_BACK]:{title:Object(N.c)(B())},[z.DRIVING_LICENCE_FRONT]:{title:Object(N.c)(L())},[z.DRIVING_LICENCE_BACK]:{title:Object(N.c)(R())}},Q=e=>({[H]:Object.keys(Z).find(t=>Z[t].includes(e[0]))}),J=e=>Object.entries(f()(e,Z[e[H]])).map(([e,t])=>({documentType:e,documentKey:t})),X=e=>Z[e[H]].reduce((t,n)=>(e[n]||(t[n]=n),t),{}),$=Object(E.b)((e,t)=>({adyenAccountHolder:C.a.getAdyenAccountHolder(e),kycErrors:C.a.getAdyenPhotoIdErrors(e),formData:Object(S.W)("AdyenPhotoIdForm")(e),identityDocumentType:m()(t.formValuesSelector(e),H)}))((o=r=class extends y.a.PureComponent{constructor(...e){super(...e),l()(this,"uploadHandlerCreator",e=>(t,n,a)=>{this.props.handleChange(e,n.key,a)}),l()(this,"imageDismissalHandlerCreator",e=>()=>{this.props.handleChange(e,null)}),l()(this,"onSelectChange",()=>{Object.values(z).forEach(e=>{this.props.handleChange(e,null)})})}getDescription(){var{adyenAccountHolder:e,description:t}=this.props,n={a:(e,{href:t})=>y.a.createElement(v.n,{inheritFontSize:!0,linkTo:t},e)};return t?Object(N.f)('%{description} <a href="%{link}">See our guidelines for photo ID copies</a>',{description:t,link:D.b.PHOTO_ID},n):e?Object(N.f)("Upload a clear scan or photo of %{name}'s government issued ID card, driver's license or passport (depending on your country). <a href=\"%{link}\">See our guidelines for document copies</a>",{name:e.accountHolderDetails.fullName,link:D.b.PHOTO_ID},n):Object(N.f)('Upload a clear scan or photo of your government issued ID card, driver\'s license or passport (depending on your country). <a href="%{link}">See our guidelines for document copies</a>',{link:D.b.PHOTO_ID},n)}render(){var{kycErrors:e,headerText:t,identityDocumentType:n,documentsConfiguration:a}=this.props,r=(e=>Object.keys(K).filter(t=>Z[t].some(t=>e.includes(t)))||[])(a);return y.a.createElement(P.b,{flex:"column",className:_.a.self},y.a.createElement(S.p,null,y.a.createElement(A.d,{type:"default",className:_.a.headerText},t||Object(N.c)(M())),y.a.createElement(T.b,{type:"typeInfo",noPadding:!0,description:this.getDescription(),icon:"info-circle"})),e.map(e=>y.a.createElement(S.p,null,y.a.createElement(T.b,{type:"typeError",noPadding:!0,description:e,icon:"info-circle-red"}))),y.a.createElement(j.r,{className:_.a.documentTypeSelect,onChange:this.onSelectChange,label:Object(N.c)(x()),name:H},r.map(e=>y.a.createElement("option",{value:K[e]},G[e]))),n&&Z[n].map(e=>{var t=(this.props.cachedIdentityDocumentImages||[]).find(({field:t})=>t===e);return y.a.createElement(I.a,c()({handleUpload:this.uploadHandlerCreator(e),handleImageDismissal:this.imageDismissalHandlerCreator(e),imageSrc:m()(t,"imageSrc"),filename:m()(t,"filename"),qaType:"".concat(e,"-dropzone"),key:e},W[e],{maxFileSize:4e6,minPdfSize:1e3,minImageSize:1e5}))}),y.a.createElement(w.a,null))}},l()(r,"propTypes",{adyenAccountHolder:O.a.object,change:O.a.func,kycErrors:O.a.object,handleChange:O.a.func,handleDismiss:O.a.func,formData:O.a.object,headerText:O.a.string,description:O.a.string,identityDocumentType:O.a.oneOf(Object.values(K)),cachedIdentityDocumentImages:O.a.array,documentsConfiguration:O.a.array}),a=o))||a},XmGQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var a,r,o,i=n("9oTK"),c=n("VkAN"),s=n.n(c),l=n("lSNA"),u=n.n(l),d=n("RBan"),p=n.n(d),m=n("mRsi"),b=n.n(m),f=n("mwIZ"),h=n.n(f),y=n("BkRI"),E=n.n(y),g=n("q1tI"),O=n.n(g),v=n("17x9"),S=n.n(v),j=n("/MKj"),P=n("ePPS"),N=n("5ZU+"),A=n("XOD0"),T=n("/pl8"),C=n("X67z"),I=n("MpU3"),w=n("+pqN"),D=n("nbpM"),k=n("3wSE"),_=n("SFs4"),x=n("/LDt"),M=n("kZhr"),R=n("61cg"),L=n("jGOT"),B=n("UaUC"),F=n("eFGT"),V=n("Axym");function Y(){var e=s()(["Save"]);return Y=function(){return e},e}function U(){var e=s()(["Add the bank account number to receive funds from clients paying with Fresha"]);return U=function(){return e},e}function q(){var e=s()(["Bank Account Number"]);return q=function(){return e},e}function H(){var e=s()(["Bank account details couldn't be updated."]);return H=function(){return e},e}function K(){var e=s()(["Bank account updated"]);return K=function(){return e},e}var G=Object(j.b)(e=>({isSubmitting:Object(I.d)(e),adyenBankAccount:D.a.getAdyenBankAccount(e),adyenAccountHolder:D.a.getAdyenAccountHolder(e)}),{submit:I.f})((o=r=class extends g.PureComponent{constructor(...e){super(...e),u()(this,"state",{showConfirmPasswordModal:!0,loading:!0,password:null}),u()(this,"onConfirmPasswordSuccess",({password:e})=>this.setState({password:e,showConfirmPasswordModal:!1})),u()(this,"handleSubmitSuccess",()=>{N.a.addGlobalSuccessToast(Object(P.c)(K())),Object(A.b)(R.l)}),u()(this,"handleSubmit",e=>{var t=E()(e);return this.props.updateAction(t,this.state.password||this.props.password).then(()=>Object(i.all)([N.a.readProvider(),N.a.readProviderBadgeStatus()])).then(this.props.handleSubmitSuccess||this.handleSubmitSuccess).catch(e=>{var n=Object(P.c)(H());h()(e,"response.body.errors[0].code")===V.a&&(n=V.g),N.a.addGlobalErrorToast(n),Object(F.f)(e,t.legalEntity)})}),u()(this,"handleCancel",()=>{Object(A.b)(R.l)}),u()(this,"getNoteDescription",()=>{var{backLink:e,wizardType:t,adyenAccountHolder:{accountHolderDetails:n,legalEntity:a}}=this.props,r=a===x.a.BUSINESS?n.businessDetails.legalBusinessName:n.fullName,o={a:(e,{href:t})=>O.a.createElement(k.n,{inheritFontSize:!0,linkTo:t},e)};return t===B.g.FRESHA_PAY?Object(P.f)('The bank account entered below must be held under the name <strong>%{name}</strong>. If the account is held under a different name, go back one step to <a href="%{link}">update the bank account holder’s details</a>.',{link:e,name:r},o):t===B.g.IDENTITY_CHECK_FAILED?Object(P.f)("The bank account entered below must be held under the name <strong>%{name}</strong>.",{name:r}):Object(P.f)('The bank account entered below must be held under the name <strong>%{name}</strong>. If the account is held under a different name, go back one step to <a href="%{link}">update the bank account holder’s details</a>.',{link:R.f,name:r},o)})}componentDidMount(){Object(i.all)([N.a.readAdyenFieldsConfiguration({step:"2"}),N.a.readAdyenBankAccount(),N.a.readAdyenAccountHolder()]).then(()=>{this.setState({loading:!1})}).catch(()=>N.a.addGlobalErrorToast())}render(){var{isSubmitting:e,submit:t,buttonText:n,children:a,noPasswordConfirmation:r,backLink:o,handleCancel:i,stepPrefix:c,leftSectionTexts:s,adyenAccountHolder:l,disableActionButton:u}=this.props,{showConfirmPasswordModal:d,loading:p}=this.state;return O.a.createElement(T.b,{keys:C.a.EDIT_BILLING_INFO,withPlaceholder:!0},O.a.createElement(w.b,{isLoading:p,title:Object(P.c)(q()),description:Object(P.c)(U()),isSubmitting:e,buttonOnAction:t,buttonText:n||Object(P.c)(Y()),onExit:i||this.handleCancel,disableActionButton:u,stepView:O.a.createElement(z,{bankAccountForm:!0,hideLegalEntitySelect:!0,onSubmit:this.handleSubmit},l&&O.a.createElement(M.p,null,O.a.createElement(_.b,{type:"typeInfo",noPadding:!0,paddingBottom:24,description:this.getNoteDescription(),icon:"info-circle"}))),backLink:o,stepPrefix:c,wizardVariant:B.g.FRESHA_PAY,leftSectionTexts:s||B.a},a,!r&&d&&O.a.createElement(L.a,{onSuccess:this.onConfirmPasswordSuccess,onClose:this.handleCancel})))}},u()(r,"propTypes",{submit:S.a.func.isRequired,isSubmitting:S.a.bool,updateAction:S.a.func,handleSubmitSuccess:S.a.func,stepPrefix:S.a.string,buttonText:S.a.string,password:S.a.string,noPasswordConfirmation:S.a.bool,handleCancel:S.a.func,backLink:S.a.string,children:S.a.node,leftSectionTexts:S.a.shape({title:S.a.string,firstSection:S.a.shape({title:S.a.string,description:S.a.string}),secondSection:S.a.shape({title:S.a.string,description:S.a.string})}),wizardType:S.a.oneOf(Object.values(B.g)),adyenAccountHolder:S.a.shape({accountHolderDetails:S.a.shape({fullName:S.a.string,businessDetails:S.a.shape({legalBusinessName:S.a.string})}),legalEntity:S.a.oneOf(Object.values(x.a))}),disableActionButton:S.a.bool}),a=o))||a,z=Object(j.b)(e=>{var t=D.a.getAdyenBankAccount(e),n=D.a.getAdyenAccountHolder(e),a=D.a.getAdyenOnboardingFieldsConfiguration(e),r=b()(a[n.legalEntity]).map(({path:e})=>p()(e.split("."))).filter(Boolean);return{initialValues:{[n.legalEntity]:{bankAccountDetails:t?r.reduce((e,n)=>(e[n]=t[n],e),{}):{}},[F.d]:n.legalEntity},kycErrors:D.a.getAdyenBankAccountErrors(e)}})(I.b)},YKOW:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n("pVnL"),r=n.n(a),o=n("lSNA"),i=n.n(o),c=n("q1tI"),s=n.n(c),l=n("5ZU+"),u=n("DWor"),d=n("XmGQ");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class b extends c.PureComponent{constructor(...e){super(...e),i()(this,"updateAction",(e,t)=>l.a.patchAdyenBankAccount({data:{type:"adyen-bank-account",attributes:m({},e[e.legalEntity])},meta:{password:t}}))}render(){return s.a.createElement(d.a,r()({},this.props,{updateAction:this.updateAction}))}}i()(b,"propTypes",m({},u.a))},af1H:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var a,r=n("9oTK"),o=n.n(r),i=n("xYoN");function c(){if(a)return a;var t=new o.a((t,n)=>{if(e.AdyenCheckout)t(e.AdyenCheckout);else{var r=e.document.getElementsByTagName("head")[0],o=e.document.createElement("script");o.onerror=e=>{n(e),a=null},o.onload=()=>{t(e.AdyenCheckout)},o.src=i.a,o.async=!0,r.appendChild(o)}});return a=t,t}}).call(this,n("yLpj"))},"b+f9":function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var a,r,o,i=n("pVnL"),c=n.n(i),s=n("QILm"),l=n.n(s),u=n("lSNA"),d=n.n(u),p=n("q1tI"),m=n.n(p),b=n("17x9"),f=n.n(b),h=n("TSYQ"),y=n.n(h),E=n("PhEd"),g=n("/MKj"),O=n("Jje6"),v=n("i6OX"),S=n("Qs7Y"),j=n("nbpM"),P=n("3C4R"),N=n.n(P),A=Object(g.b)(e=>({isReshedulEnabled:j.a.isReshedulEnabled(e)}))((o=r=class extends p.PureComponent{render(){var e=this.props,{className:t,icon:n,iconColor:a,iconSize:r,white:o,text:i,isReshedulEnabled:s}=e,u=l()(e,["className","icon","iconColor","iconSize","white","text","isReshedulEnabled"]);return m.a.createElement(O.b,c()({flex:"column",justifyContent:"center",alignItems:"center",className:y()(N.a.self,t,{[N.a.white]:o})},u),m.a.createElement(v.b,{qaType:"placeholder-icon",name:n,size:r,color:a}),s?m.a.createElement(E.Text,{qaType:"placeholder-text",className:N.a.label,type:"fresha-paragraph",color:"gray100"},i):m.a.createElement(S.d,{qaType:"placeholder-text",className:N.a.label},i))}},d()(r,"propTypes",{className:f.a.string,icon:f.a.string.isRequired,text:f.a.node,iconColor:v.b.propTypes.color,iconSize:v.b.propTypes.size,white:f.a.bool,isReshedulEnabled:f.a.bool}),d()(r,"defaultProps",{iconColor:"original",iconSize:"placeholder",white:!1}),a=o))||a},brHQ:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var a={XLSX:{name:"Excel",format:"xlsx"},CSV:{name:"CSV",format:"csv"},PDF:{name:"PDF",format:"pdf"}},r={DONE:"done",RUNNING:"running",ERROR:"error"},o=Object.values(a),i=o.map(e=>e.format)},cYFR:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return D}));var a,r,o,i=n("VkAN"),c=n.n(i),s=n("lSNA"),l=n.n(s),u=n("lSCD"),d=n.n(u),p=n("q1tI"),m=n.n(p),b=n("/MKj"),f=n("17x9"),h=n.n(f),y=n("5ZU+"),E=n("ePPS"),g=n("lT2h"),O=n("brHQ"),v=n("TSDZ"),S=n("MDPv"),j=n("R2F8");function P(){var e=c()(["Invoice"]);return P=function(){return e},e}function N(){var e=c()(["Account Statement"]);return N=function(){return e},e}function A(){var e=c()(["Online Sales Activity"]);return A=function(){return e},e}function T(){var e=c()(["We couldn't generate this report at the moment. Try again later."]);return T=function(){return e},e}function C(){var e=c()(["We couldn't generate this invoice at the moment. Try again later."]);return C=function(){return e},e}var I="online-sales-activity",w="account-statement",D=Object(b.b)(null,{createExportReport:j.a,fetchExport:j.b})((o=r=class extends p.PureComponent{constructor(...t){super(...t),l()(this,"state",{inProgress:!1,isCompleted:!1}),l()(this,"onOnlineSalesActivity",()=>this.startReportPulling(I)),l()(this,"onAccountStatement",()=>this.startReportPulling(w)),l()(this,"onInvoice",()=>{Object(S.a)(this.freshaInvoiceUrl(),{withCredentials:!0}).catch(()=>{y.a.addGlobalErrorToast(Object(E.c)(C()))})}),l()(this,"startReportPulling",e=>{var{month:t,year:n}=this.props;this.setState({inProgress:!0,isCompleted:!1});var a=this.props.createExportReport({report:e,export_format:O.d.XLSX.format,month:t,year:n}).then(e=>{this.disposePull=Object(g.a)({create:()=>this.props.fetchExport(e.id),shouldContinue:e=>e&&e.status===O.c.RUNNING,onSuccess:({url:e})=>{Object(S.a)(e).then(()=>{this.setState({inProgress:!1,isCompleted:!0},()=>{setTimeout(()=>this.setState({isCompleted:!1}),1e3)})})},onError:this.handleExportError})}).catch(this.handleExportError);this.disposePull=()=>{a.cancel()}}),l()(this,"handleExportError",()=>{y.a.addGlobalErrorToast(Object(E.c)(T())),this.setState({inProgress:!1})}),l()(this,"freshaInvoiceUrl",()=>{var{month:t,year:n}=this.props;return"".concat(e.SHEDUL_VARS.LEGACY_API_URL,"/billings/fresha-invoice?year=").concat(n,"&month=").concat(t)})}componentDidUpdate(e,t){t.inProgress&&!this.state.inProgress&&(this.disposePull=null)}componentWillUnmount(){d()(this.disposePull)&&this.disposePull()}render(){var{invoiceExists:e}=this.props,{inProgress:t,isCompleted:n}=this.state;return m.a.createElement(v.f,{icon:v.f.ICON.EXPORT,disabled:t,isPending:t,isComplete:n,align:"right"},m.a.createElement(v.c,{onAction:this.onOnlineSalesActivity},Object(E.c)(A())),m.a.createElement(v.c,{onAction:this.onAccountStatement},Object(E.c)(N())),e&&m.a.createElement(v.c,{onAction:this.onInvoice},Object(E.c)(P())))}},l()(r,"propTypes",{createExportReport:h.a.func,fetchExport:h.a.func,invoiceExists:h.a.bool,month:h.a.number,year:h.a.number}),a=o))||a}).call(this,n("yLpj"))},hs7G:function(e,t,n){"use strict";n.d(t,"a",(function(){return te}));var a,r,o,i=n("9oTK"),c=n("VkAN"),s=n.n(c),l=n("lSNA"),u=n.n(l),d=n("D1y2"),p=n.n(d),m=n("RBan"),b=n.n(m),f=n("mRsi"),h=n.n(f),y=n("QkVN"),E=n.n(y),g=n("mwIZ"),O=n.n(g),v=n("ExA7"),S=n.n(v),j=n("Z0cm"),P=n.n(j),N=n("q1tI"),A=n.n(N),T=n("17x9"),C=n.n(T),I=n("/MKj"),w=n("3wSE"),D=n("ePPS"),k=n("5ZU+"),_=n("XOD0"),x=n("/pl8"),M=n("X67z"),R=n("DWor"),L=n("+pqN"),B=n("jwng"),F=n("nbpM"),V=n("/LDt"),Y=n("X5fu"),U=n("Axym"),q=n("eFGT"),H=n("MpU3"),K=n("qXIS"),G=n("61cg"),z=n("jGOT"),Z=n("UaUC");function W(){var e=s()(["Save"]);return W=function(){return e},e}function Q(){var e=s()(["Bank Account Holder"]);return Q=function(){return e},e}function J(){var e=s()(["Account holder details couldn't be updated."]);return J=function(){return e},e}function X(){var e=s()(["Account Holder information updated"]);return X=function(){return e},e}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=Object(I.b)(e=>({isSubmitting:Object(H.d)(e),adyenAccountHolder:F.a.getAdyenAccountHolder(e),countryCode:F.a.getProviderCountryCode(e),legalEntityValue:O()(Object(K.c)(e),q.d)}),{submit:H.f})((o=r=class extends N.PureComponent{constructor(...e){super(...e),u()(this,"state",{showConfirmPasswordModal:!0,loading:!0,password:null}),u()(this,"onConfirmPasswordSuccess",({password:e})=>this.setState({password:e,showConfirmPasswordModal:!1})),u()(this,"handleSubmitSuccess",()=>{k.a.addGlobalSuccessToast(Object(D.c)(X())),Object(_.b)(G.l)}),u()(this,"handleSubmit",e=>{var t,n,a=(t=e,n=this.props.countryCode,function e(t,a){return"dateOfBirth"===a&&/\d{2}-\d{2}-\d{4}/.test(t)?"US"===n?B.k.utc(t,"MM-DD-YYYY").format("YYYY-MM-DD"):B.k.utc(t,"DD-MM-YYYY").format("YYYY-MM-DD"):P()(t)?t.map(e):S()(t)?Object.entries(t).map(([t,n])=>[t,e(n,t)]).reduce((t,n)=>(t[n[0]]=e(n[1]),t),{}):t}(t));return this.props.updateAction(a,this.props.password||this.state.password).then(()=>Object(i.all)([k.a.readProvider(),k.a.readProviderBadgeStatus()])).then(this.props.handleSubmitSuccess||this.handleSubmitSuccess).catch(e=>{k.a.addGlobalErrorToast(Object(D.c)(J())),Object(q.f)(e,a.legalEntity)})}),u()(this,"handleCancel",()=>{Object(_.b)(G.l)})}componentDidMount(){Object(i.all)([k.a.readAdyenFieldsConfiguration({step:"1"}),k.a.readProviderBillingInformation(),k.a.readAdyenAccountHolder()]).then(()=>{this.setState({loading:!1})}).catch(()=>k.a.addGlobalErrorToast())}render(){var{isSubmitting:e,submit:t,buttonText:n,children:a,noPasswordConfirmation:r,backLink:o,handleCancel:i,stepPrefix:c,leftSectionTexts:s,legalEntityValue:l,disableActionButton:u,documentInitialValues:d,wizardType:p}=this.props,{showConfirmPasswordModal:m,loading:b}=this.state,f=[{link:U.f},{a:(e,{href:t})=>A.a.createElement(w.n,{inheritFontSize:!0,linkTo:t},e)}],h=Object(D.f)('Enter information and supporting documents to securely verify the identity of your account holder, <a href="%{link}">learn more</a>',...f);p===Z.g.FRESHA_PAY&&(h=Object(D.f)('Enter information and supporting documents to securely verify the identity of your account holder, adding your account number is next, <a href="%{link}">learn more</a>',...f));var y=ee(ee({},d&&{documentInitialValues:d,validate:Y.f}),{},{hideLegalEntitySelect:Boolean(l),onSubmit:this.handleSubmit,hideAdyenFormText:!0});return A.a.createElement(x.b,{keys:M.a.EDIT_BILLING_INFO,withPlaceholder:!0},A.a.createElement(L.b,{isLoading:b,title:Object(D.c)(Q()),description:h,isSubmitting:e,buttonOnAction:t,buttonText:n||Object(D.c)(W()),onExit:i||this.handleCancel,disableActionButton:u,stepView:A.a.createElement(ne,y),backLink:o,stepPrefix:c,wizardVariant:Z.g.FRESHA_PAY,leftSectionTexts:s||Z.a},a,!r&&m&&A.a.createElement(z.a,{onSuccess:this.onConfirmPasswordSuccess,onClose:this.handleCancel})))}},u()(r,"propTypes",ee({submit:C.a.func.isRequired,isSubmitting:C.a.bool,children:C.a.bool,countryCode:C.a.string,legalEntityValue:C.a.string,updateAction:C.a.func,disableActionButton:C.a.bool,documentInitialValues:C.a.object},R.a)),a=o))||a,ne=Object(I.b)((e,{documentInitialValues:t})=>{var n=F.a.getProviderBillingInformation(e),a=O()(Object(K.c)(e),q.d),r=F.a.getCurrentEmployeeEmail(e),o=F.a.getProviderPhonePrefix(e),i=F.a.getAdyenAccountHolder(e),c=F.a.getAdyenAccountHolderErrors(e),s=F.a.getAdyenOnboardingFieldsConfiguration(e),l=E()(ee({},t),h()([...s.individual,...s.business]).filter(({field:e})=>e).reduce((e,{path:t})=>{var a=b()(t.split("."));return"stateOrProvince"===a&&p()(e,t,n.stateProvince),"city"===a&&p()(e,t,n.city),"legalBusinessName"===a&&p()(e,t,n.companyName),"firstName"===a&&p()(e,t,n.firstName),"lastName"===a&&p()(e,t,n.lastName),"postalCode"===a&&p()(e,t,n.postalCode),"email"===a&&p()(e,t,r),"fullPhoneNumber"===a&&p()(e,t,o),e},{[q.d]:a||V.a.INDIVIDUAL}));if(i){var u=h()(s[i.legalEntity]).map(({path:e})=>e).filter(Boolean),d={[i.legalEntity]:{accountHolderDetails:i.accountHolderDetails}},m=u.reduce((e,t)=>(p()(e,t,O()(d,t)),e),{legalEntity:i.legalEntity});return{initialValues:l=ee(ee({},l),m),kycErrors:c}}return{initialValues:l,kycErrors:c}})(H.b)},jFUl:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Ei}));var a,r,o,i=n("9oTK"),c=n.n(i),s=n("lSNA"),l=n.n(s),u=n("VkAN"),d=n.n(u),p=n("q1tI"),m=n.n(p),b=n("Ty5D"),f=n("/MKj"),h=n("17x9"),y=n.n(h),E=n("nbpM"),g=n("ePPS"),O=n("QqEi"),v=n("V/N5"),S=n("pVnL"),j=n.n(S),P=n("mwIZ"),N=n.n(P),A=n("JZM8"),T=n.n(A),C=n("XOD0"),I=n("5ZU+"),w=n("s5rH"),D=n("UaUC"),k=n("61cg"),_=n("+4TP"),x=n("KYH1"),M=n("+pqN"),R=n("3wSE"),L=n("i6OX"),B=n("uopA"),F=n("89Lc"),V=n("15T9");function Y(){var e=d()(["Done"]);return Y=function(){return e},e}function U(){var e=d()(["Now you can process card payments from clients and protect your business from no shows"]);return U=function(){return e},e}function q(){var e=d()(["Hooray, Fresha Pay is enabled for you!"]);return q=function(){return e},e}function H(){var e=d()(["It can take up to two business days to verify the details you supplied, we'll let you know as soon as it's done."]);return H=function(){return e},e}function K(){var e=d()(["Thank you, now we’re verifying your account"]);return K=function(){return e},e}function G(){var e=d()(["Use your powerful new features to attract and retain clients, boost sales, and elevate your business"]);return G=function(){return e},e}function z(){var e=d()(["Hooray, Fresha Plus is enabled for you!"]);return z=function(){return e},e}function Z(){var e=d()(["Our team will review the supplied documents. Identity verification may take up to 48 hours, we will inform you once the process is completed."]);return Z=function(){return e},e}function W(){var e=d()(["Thank you!"]);return W=function(){return e},e}var Q,J,X,$=()=>({NAME:Object(g.c)(W()),TEXT:Object(g.c)(Z())}),ee=()=>({NAME:Object(g.c)(z()),TEXT:Object(g.c)(G())}),te={[D.g.BILLING]:ee,[D.g.PAYMENT_METHOD]:ee,[D.g.FRESHA_PAY]:e=>e===v.c.ADYEN?{NAME:Object(g.c)(K()),TEXT:Object(g.c)(H())}:{NAME:Object(g.c)(q()),TEXT:Object(g.c)(U())},[D.g.IDENTITY_CHECK]:$,[D.g.IDENTITY_CHECK_FAILED]:$},ne={[D.g.BILLING]:w.b,[D.g.PAYMENT_METHOD]:w.b,[D.g.FRESHA_PAY]:k.l,[D.g.IDENTITY_CHECK]:k.l,[D.g.IDENTITY_CHECK_FAILED]:k.l},ae=Object(V.a)((o=r=class extends p.PureComponent{constructor(...e){super(...e),l()(this,"handleClose",()=>{var{wizardType:e}=this.props;Object(F.c)(()=>Object(C.f)(ne[e]),{redirectToSavedUrl:!0,defaultUrl:ne[e],ignoreFreshaPaySplash:!0})})}render(){var{wizardType:e,animate:t,paymentsProvider:n}=this.props,a=te[e](n);return m.a.createElement(M.a,{variant:e,animate:t},m.a.createElement(B.a,{grow:1,flex:"column",alignItems:"center",justifyContent:"center",icon:m.a.createElement(L.b,{name:"process-completed",animate:!0,size:"placeholder-big"}),name:a.NAME,text:a.TEXT,animate:t,animateOnEnter:!0},m.a.createElement(R.f,{onAction:this.handleClose,"data-qa":"continue"},Object(g.c)(Y()))))}},l()(r,"propTypes",{wizardType:y.a.oneOf(Object.values(D.g)),paymentsProvider:y.a.oneOf(Object.values(v.c)),animate:y.a.bool}),a=o))||a,re=n("jGOT"),oe=n("05U9"),ie=n("HTL0"),ce=n("/pl8"),se=n("X67z"),le=n("wQmL"),ue=n("uxC8"),de=n("Jje6"),pe=n("kZhr"),me=n("uZ2f"),be=n("WPT4"),fe=n("+TO7"),he=n("xOF/"),ye=n("cmEW"),Ee=n.n(ye);function ge(){var e=d()(["Clients will be asked confirm appointments manually booked by staff, you can choose to exclude specific clients and appointments"]);return ge=function(){return e},e}function Oe(){var e=d()(["Ask clients to confirm manually booked appointments"]);return Oe=function(){return e},e}function ve(){var e=d()(["Clients will be asked to confirm their appointments with card and accept your policy"]);return ve=function(){return e},e}function Se(){var e=d()(["Enable no-show and cancellation protection"]);return Se=function(){return e},e}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ne,Ae,Te,Ce="no-show-settings",Ie=Object(pe.R)(Ce),we=Object(ue.a)(Ce),De=Object(f.b)(e=>{var t=E.a.getNoShowSettings(e);return{freshaPayStatus:E.a.getFreshaPayStatus(e),isFreshaPayEnabled:E.a.isFreshaPayEnabled(e),initialValues:Pe({},t),paymentsRequired:Ie(e,"paymentsRequired"),advanceTimeInMinutes:Ie(e,"advanceTimeInMinutes")}},{changeFormField:(e,t)=>Object(pe.L)(Ce,e,t)})(Q=Object(pe.q)({form:Ce})((X=J=class extends p.PureComponent{render(){var{isFreshaPayEnabled:e,changeFormField:t,advanceTimeInMinutes:n,paymentsRequired:a}=this.props,r=!e;return m.a.createElement(de.b,{className:Ee.a.self},m.a.createElement(be.a,{className:Ee.a.advanceTimeSelect,name:"advanceTimeInMinutes"}),m.a.createElement(me.b,{asSwitchMobile:!0,asSwitchDesktop:!0,label:Object(g.c)(Se()),hint:Object(g.c)(ve()),normalize:Boolean,name:"paymentsRequired",className:Ee.a.cardRequired,onChange:(e,n)=>{n||t("policyVariant",fe.a.NO_FEES)},disabled:r}),m.a.createElement(he.a,{paymentsNotRequired:!a,freshaPayDisabled:r,advanceTimeInMinutes:n,fieldName:"policyVariant"}),m.a.createElement(me.b,{className:Ee.a.confirmationEnabled,label:Object(g.c)(Oe()),hint:Object(g.c)(ge()),normalize:Boolean,name:"marketplaceAppointmentConfirmationEnabled",disabled:r||!a}))}},l()(J,"propTypes",Pe(Pe({},pe.Q),{},{paymentsRequired:y.a.bool,advanceTimeInMinutes:y.a.number})),Q=X))||Q)||Q,ke=n("DWor");function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function xe(){var e=d()(["Should you wish, you can require all clients to enter cards when booking"]);return xe=function(){return e},e}function Me(){var e=d()(["Enable no-show protection"]);return Me=function(){return e},e}function Re(){var e=d()(["No Show Protection settings couldn't be updated, please try again later"]);return Re=function(){return e},e}var Le,Be,Fe,Ve=Object(f.b)(e=>({submitting:we(e)}),{submit:()=>Object(le.k)(Ce)})((Te=Ae=class extends p.PureComponent{constructor(...e){super(...e),l()(this,"state",{loading:!0}),l()(this,"handleCancel",()=>{Object(C.b)(k.l)}),l()(this,"handleSubmit",e=>I.a.patchNoShowSettings(ie.a.patchNoShowSettingsRequest(e)).then(()=>this.props.handleAnimateExit?this.props.handleAnimateExit():null).then(this.props.handleSubmitSuccess).catch(()=>{I.a.addGlobalErrorToast(Object(g.c)(Re()))}))}componentDidMount(){I.a.readNoShowSettings().catch(()=>I.a.addGlobalErrorToast()).finally(()=>{this.setState({loading:!1})})}render(){var{submit:e,submitting:t,buttonText:n,handleCancel:a,backLink:r,children:o,stepPrefix:i,animateExit:c}=this.props,{loading:s}=this.state;return m.a.createElement(ce.b,{keys:se.a.EDIT_BILLING_INFO,withPlaceholder:!0},m.a.createElement(M.b,{isLoading:s,title:Object(g.c)(Me()),description:Object(g.c)(xe()),isSubmitting:t,buttonOnAction:e,buttonText:n,onExit:a||this.handleCancel,stepView:m.a.createElement(De,{onSubmit:this.handleSubmit}),backLink:r,stepPrefix:i,wizardVariant:D.g.FRESHA_PAY,leftSectionTexts:D.c[D.g.FRESHA_PAY],animateExit:c},o))}},l()(Ae,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({submit:y.a.func.isRequired,submitting:y.a.bool.isRequired},ke.a)),Ne=Te))||Ne,Ye=n("6acW"),Ue=n.n(Ye),qe=n("X5fu"),He=n("MpU3"),Ke=n("nNRm"),Ge=n("hs7G"),ze=n("/zF2");function Ze(){var e=d()(["Account holder’s document copy"]);return Ze=function(){return e},e}function We(){var e=d()(["Upload a clear scan or photo of your account holder’s government-issued ID card, driver's license or passport (depending on your country). Make sure the ID copy matches exactly with the details entered above."]);return We=function(){return e},e}function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe,$e,et,tt=e=>{var t=ze.a.get("CACHED_IDENTITY_DOCUMENT_TYPE");if(t){var n={[qe.a]:t},a=ze.a.get("CACHED_IDENTITY_DOCUMENT_IMAGES");return Object.entries(a).forEach(([e,{value:t}])=>{n[e]=t}),n}return Object(qe.d)(e)},nt=Object(f.b)(e=>({identityDocumentType:N()(Object(He.c)(e),qe.a),isOnboardingFormValid:Object(He.e)(e),documentsConfiguration:E.a.getAdyenOnboardingDocumentsConfiguration(e)}))((Fe=Be=class extends p.PureComponent{constructor(...e){super(...e),l()(this,"debugDescription",null),l()(this,"updateAction",(e,t)=>{var n=Object(qe.e)(e);return this.debugDescription&&n.forEach(e=>{e.description=this.debugDescription}),I.a.patchAdyenExtendedAccountHolder({data:{type:"extended-account-holder-details",attributes:Je(Je({},e[e.legalEntity]),{},{legalEntity:Ue()(e.legalEntity),documentDetails:n})},meta:{password:t}})}),l()(this,"handlePhotoIdChange",(e,t,{imageSrc:n,filename:a}={})=>{Object(He.a)(e,t);var r=ze.a.get("CACHED_IDENTITY_DOCUMENT_IMAGES");t?r[e]={value:t,imageSrc:n,filename:a}:delete r[e]}),l()(this,"handleDescriptionChange",e=>{this.debugDescription=e.target.value})}componentDidUpdate({identityDocumentType:e}){var{identityDocumentType:t}=this.props;if(e!==t){ze.a.set("CACHED_IDENTITY_DOCUMENT_TYPE",t);var n=ze.a.get("CACHED_IDENTITY_DOCUMENT_IMAGES");!e&&n||ze.a.set("CACHED_IDENTITY_DOCUMENT_IMAGES",{})}}getContextProviderValue(){var e=ze.a.get("CACHED_IDENTITY_DOCUMENT_IMAGES");return{handleDescriptionChange:this.handleDescriptionChange,handleChange:this.handlePhotoIdChange,formValuesSelector:He.c,cachedIdentityDocumentImages:Object.entries(e||{}).map(([e,{imageSrc:t,filename:n}])=>({field:e,imageSrc:t,filename:n})),photoIdDescription:Object(g.c)(We()),photoIdHeaderText:Object(g.c)(Ze())}}render(){var{documentsConfiguration:e}=this.props;return m.a.createElement(Ke.a.Provider,{value:this.getContextProviderValue()},m.a.createElement(Ge.a,j()({},this.props,{documentInitialValues:tt(e),updateAction:this.updateAction,disableActionButton:!this.props.isOnboardingFormValid})))}},l()(Be,"propTypes",Je({identityDocumentType:y.a.string,isOnboardingFormValid:y.a.bool,documentsConfiguration:y.a.array},ke.a)),Le=Fe))||Le,at=n("62mk"),rt=n("jjk5"),ot=n("Axym"),it=n("qXIS"),ct=n("eFGT");function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function lt(){var e=d()(["Choose how to get paid"]);return lt=function(){return e},e}var ut=Object(g.f)('Select your bank account type for receiving funds from clients paying through Fresha, <a href="%{link}">learn more</a>',{link:ot.f},{a:(e,{href:t})=>m.a.createElement(R.n,{inheritFontSize:!0,linkTo:t},e)}),dt=Object(f.b)(null,{submit:it.d})((et=$e=class extends p.PureComponent{constructor(...e){super(...e),l()(this,"state",{loading:!0}),l()(this,"handleSubmit",e=>{(e=>{if(!e[ct.d])throw new rt.a({[ct.d]:"Choose your account type"});return!0})(e)&&this.props.handleSubmitSuccess()}),l()(this,"handleCancel",()=>{Object(C.b)(k.l)})}componentDidMount(){I.a.readProviderBillingInformation().then(()=>{this.setState({loading:!1})}).catch(()=>I.a.addGlobalErrorToast())}render(){var{submit:e,buttonText:t,children:n,backLink:a,handleCancel:r,stepPrefix:o,leftSectionTexts:i}=this.props,{loading:c}=this.state;return m.a.createElement(ce.b,{keys:se.a.EDIT_BILLING_INFO,withPlaceholder:!0},m.a.createElement(M.b,{isLoading:c,title:Object(g.c)(lt()),description:ut,buttonOnAction:e,buttonText:t,onExit:r||this.handleCancel,stepView:m.a.createElement(it.a,{onSubmit:this.handleSubmit}),backLink:a,stepPrefix:o,wizardVariant:D.g.FRESHA_PAY,leftSectionTexts:i||D.a},n))}},l()($e,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({submit:y.a.func.isRequired,children:y.a.bool},ke.a)),Xe=et))||Xe,pt=n("Af+M"),mt=n("XmGQ");function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class ht extends p.PureComponent{constructor(...e){var t;super(...e),l()(this,"cachedBankAccountStatement",(t=ze.a.get("CACHED_BANK_ACCOUNT_STATEMENT"))?{value:N()(t,"value",""),filename:N()(t,"filename",""),imageSrc:N()(t,"imageSrc","")}:{}),l()(this,"debugDescription",null),l()(this,"state",{bankStatementKey:this.cachedBankAccountStatement.value}),l()(this,"updateAction",(e,t)=>{var n=this.getDocumentDetailsValues();return this.debugDescription&&n.forEach(e=>{e.description=this.debugDescription}),I.a.createAdyenExtendedBankAccount({data:{type:"extended-bank-account-details",attributes:ft(ft({},e[e.legalEntity]),{},{documentDetails:n})},meta:{password:t}})}),l()(this,"handleBankStatementChange",(e,t,{imageSrc:n,filename:a}={})=>{var r=t?t.key:null;this.setState({bankStatementKey:r}),ze.a.set("CACHED_BANK_ACCOUNT_STATEMENT",r?{value:r,imageSrc:n,filename:a}:{})}),l()(this,"handleDescriptionChange",e=>{this.debugDescription=e.target.value})}getDocumentDetailsValues(){return this.state.bankStatementKey?[{documentType:pt.b,documentKey:this.state.bankStatementKey}]:[]}getContextProviderValue(){return{handleDescriptionChange:this.handleDescriptionChange,cachedBankAccountStatement:this.cachedBankAccountStatement,handleChange:this.handleBankStatementChange}}render(){return m.a.createElement(Ke.a.Provider,{value:this.getContextProviderValue()},m.a.createElement(mt.a,j()({},this.props,{updateAction:this.updateAction,disableActionButton:!this.state.bankStatementKey})))}}l()(ht,"propTypes",ft({},ke.a));var yt=n("YKOW"),Et=n("y5hx"),gt=n("986L"),Ot=n("Qs7Y"),vt=n("PhEd"),St=n("eY9E"),jt=n.n(St);class Pt extends p.PureComponent{render(){var{title:e,yellow:t,description:n}=this.props;return m.a.createElement(de.b,{className:jt.a.self},m.a.createElement(de.b,{className:jt.a.textWrapper},m.a.createElement(vt.Text,{type:"fresha-paragraph",color:"gray100",className:jt.a.title},e),m.a.createElement(vt.Text,{type:"fresha-caption",color:"gray50"},n)),m.a.createElement(L.b,{className:jt.a.icon,name:t?"list-dot-yellow":"list-dot",size:"standard",color:"original"}))}}l()(Pt,"propTypes",{title:y.a.string,description:y.a.string,yellow:y.a.bool});var Nt,At,Tt,Ct=n("G8kI"),It=n.n(Ct);function wt(){var e=d()(["Account Number"]);return wt=function(){return e},e}function Dt(){var e=d()(["Account Holder"]);return Dt=function(){return e},e}function kt(){var e=d()(["The documents you upload must match your supplied account holder details:"]);return kt=function(){return e},e}function _t(){var e=d()(["Update your bank details"]);return _t=function(){return e},e}var xt,Mt,Rt,Lt=Object(f.b)(e=>({adyenAccountHolder:E.a.getAdyenAccountHolder(e),adyenBankAccount:E.a.getAdyenBankAccount(e)}))((Tt=At=class extends p.PureComponent{render(){var e,{adyenAccountHolder:{accountHolderDetails:{fullName:t}},adyenBankAccount:n}=this.props;return e=n?n.iban?Object(g.c)("ending with %{ibanLast4}",{ibanLast4:m.a.createElement(Ot.d,{as:"span",weight:"bold"},n.iban.replace(/\s/g,"").slice(-4))}):n.accountNumber:Object(g.c)(_t()),m.a.createElement(de.b,{className:It.a.self},m.a.createElement(Ot.d,{className:It.a.info},Object(g.c)(kt())),m.a.createElement(de.b,{className:It.a.table},m.a.createElement(de.b,{className:It.a.row},m.a.createElement(de.b,{className:It.a.label},Object(g.c)(Dt())),m.a.createElement(de.b,{className:It.a.value},t)),m.a.createElement(de.b,{className:It.a.row},m.a.createElement(de.b,{className:It.a.label},Object(g.c)(wt())),m.a.createElement(de.b,{className:It.a.value},m.a.createElement(de.b,null,e)))))}},l()(At,"propTypes",{adyenAccountHolder:y.a.object,adyenBankAccount:y.a.object}),Nt=Tt))||Nt,Bt=n("DY+s"),Ft=n.n(Bt);function Vt(){var e=d()(["A clear copy of a bank issued document which includes your account number and account holder name"]);return Vt=function(){return e},e}function Yt(){var e=d()(["Copy of your bank statement"]);return Yt=function(){return e},e}function Ut(){var e=d()(["A clear scan or photo of your bank account holder's government issued ID card, driver’s license or passport"]);return Ut=function(){return e},e}function qt(){var e=d()(["Copy of your ID"]);return qt=function(){return e},e}function Ht(){var e=d()(["In the next step, you will need to provide:"]);return Ht=function(){return e},e}var Kt,Gt,zt,Zt=Object(f.b)(e=>({adyenAccountHolder:E.a.getAdyenAccountHolder(e),adyenBankAccount:E.a.getAdyenBankAccount(e),kycErrors:E.a.getKycVerificationErrors(e)}))((Rt=Mt=class extends p.PureComponent{render(){var{kycErrors:e}=this.props;return m.a.createElement(de.b,{className:Ft.a.self},m.a.createElement(Ot.d,{className:Ft.a.header},Object(g.c)(Ht())),m.a.createElement(de.b,{className:Ft.a.listWrapper},[e[_.a.PHOTO_ID]&&{key:"scan-id",title:Object(g.c)(qt()),description:Object(g.c)(Ut())},e[_.a.BANK_STATEMENT]&&{key:"scan-bank-statement",title:Object(g.c)(Yt()),description:Object(g.c)(Vt())}].filter(Boolean).map(e=>m.a.createElement(Pt,e))),m.a.createElement(Lt,null))}},l()(Mt,"propTypes",{adyenAccountHolder:y.a.object,adyenBankAccount:y.a.object,kycErrors:y.a.object}),xt=Rt))||xt;function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Qt(){var e=d()(["Identity Verification"]);return Qt=function(){return e},e}class Jt extends p.PureComponent{constructor(...e){super(...e),l()(this,"state",{loading:!0})}componentDidMount(){Object(i.all)([I.a.readAdyenBankAccount(),I.a.readAdyenAccountHolder()]).then(()=>{this.setState({loading:!1})}).catch(()=>I.a.addGlobalErrorToast())}render(){var{buttonText:e,children:t,handleCancel:n,backLink:a,handleSubmitSuccess:r,stepPrefix:o}=this.props,{loading:i}=this.state,c={a:e=>m.a.createElement(R.n,{inheritFontSize:!0,linkTo:gt.a},e)};return m.a.createElement(ce.b,{keys:se.a.EDIT_BILLING_INFO,withPlaceholder:!0},m.a.createElement(M.b,{isLoading:i,title:Object(g.c)(Qt()),description:Object(g.f)("To continue receiving payouts from Fresha, we need some additional info to verify your bank account holder's identity, <a>learn more</a>",null,c),buttonOnAction:r,buttonText:e,onExit:n,stepView:m.a.createElement(Zt,null),backLink:a,stepPrefix:o,wizardVariant:D.g.IDENTITY_CHECK,stepContentHorizontalMargin:!0,leftSectionTexts:D.c[D.g.IDENTITY_CHECK]},t))}}function Xt(){var e=d()(["Continue to the next step to provide updated information for verification"]);return Xt=function(){return e},e}function $t(){var e=d()(["Your action is required for the following:"]);return $t=function(){return e},e}function en(){var e=d()(["Copy of your company registration document"]);return en=function(){return e},e}function tn(){var e=d()(["Copy of your bank statement"]);return tn=function(){return e},e}function nn(){var e=d()(["Copy of your ID"]);return nn=function(){return e},e}function an(){var e=d()(["Bank details"]);return an=function(){return e},e}function rn(){var e=d()(["Account Holder details"]);return rn=function(){return e},e}l()(Jt,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ke.a));var on,cn,sn,ln={[_.a.ACCOUNT_HOLDER]:Object(g.c)(rn()),[_.a.BANK_ACCOUNT]:Object(g.c)(an()),[_.a.PHOTO_ID]:Object(g.c)(nn()),[_.a.BANK_STATEMENT]:Object(g.c)(tn()),[_.a.COMPANY_REGISTRATION_SCREENING]:Object(g.c)(en())},un=Object(f.b)(e=>({kycErrors:E.a.getKycVerificationErrors(e)}))((zt=Gt=class extends p.PureComponent{render(){var{kycErrors:e}=this.props;return m.a.createElement(de.b,{className:Ft.a.self},m.a.createElement(Ot.d,{className:Ft.a.header},Object(g.c)($t())),m.a.createElement(de.b,{className:Ft.a.listWrapper},_.b.reduce((t,n)=>(e[n]&&t.push({key:n,title:ln[n],description:m.a.createElement(m.a.Fragment,null,e[n].map(e=>m.a.createElement(de.b,null,e))),yellow:!0}),t),[]).map(e=>m.a.createElement(Pt,e))),m.a.createElement(Ot.d,{className:Ft.a.info},Object(g.c)(Xt())),m.a.createElement(Lt,null))}},l()(Gt,"propTypes",{adyenAccountHolder:y.a.object,adyenBankAccount:y.a.object,kycErrors:y.a.object}),Kt=zt))||Kt;function dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function pn(){var e=d()(["Your Details Verification"]);return pn=function(){return e},e}var mn=Object(f.b)(e=>({kycStatus:E.a.getKycStatus(e)}))((sn=cn=class extends p.PureComponent{constructor(...e){super(...e),l()(this,"state",{loading:!0})}componentDidMount(){Object(i.all)([I.a.readAdyenBankAccount(),I.a.readAdyenAccountHolder()]).then(()=>{this.setState({loading:!1})}).catch(()=>I.a.addGlobalErrorToast())}render(){var{buttonText:e,children:t,handleCancel:n,backLink:a,handleSubmitSuccess:r,stepPrefix:o,kycStatus:i}=this.props,{loading:c}=this.state,s={a:e=>m.a.createElement(R.n,{inheritFontSize:!0,linkTo:gt.a},e)};return m.a.createElement(ce.b,{keys:se.a.EDIT_BILLING_INFO,withPlaceholder:!0},m.a.createElement(M.b,{isLoading:c,title:Object(g.c)(pn()),description:i&&i.kycModerationResponse||Object(g.f)("Our team were unable to verify your identity, please take action on the below items to continue receiving payouts from Fresha, <a>learn more</a>",null,s),buttonOnAction:r,buttonText:e,onExit:n,stepView:m.a.createElement(un,null),backLink:a,stepPrefix:o,wizardVariant:D.g.IDENTITY_CHECK_FAILED,stepContentHorizontalMargin:!0,leftSectionTexts:D.c[D.g.IDENTITY_CHECK_FAILED]},t))}},l()(cn,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ke.a)),on=sn))||on,bn=n("1jfn"),fn=n("MqMK"),hn=n("7TSU"),yn=n.n(hn);class En extends p.PureComponent{render(){var{countryCode:e,countryTaxName:t}=this.props;return t?m.a.createElement(vt.Text,{className:yn.a.self,type:"fresha-caption",color:"gray50"},Object(g.f)("Rates are exclusive of %{countryTaxName}, <a>learn more about pricing</a>",{countryTaxName:t},{a:t=>m.a.createElement(vt.Link,{key:"link",inheritFontSize:!0,linkTo:Object(fn.a)(e).ZENDESK_PAYMENTS_LEARN_MORE},t)})):null}}l()(En,"propTypes",{countryTaxName:y.a.string,countryCode:y.a.string});var gn,On,vn,Sn=n("DFED"),jn=n.n(Sn);function Pn(){var e=d()(["Applies only when gaining new clients from Fresha marketplace"]);return Pn=function(){return e},e}function Nn(){var e=d()(["Fully inclusive of all card processing and bank fees"]);return Nn=function(){return e},e}function An(){var e=d()(["Pricing"]);return An=function(){return e},e}class Tn extends p.PureComponent{render(){var{isFreshaSettingPaymentsEnabled:e,countryCode:t,paymentSettings:{commissionBase:n=0,commissionRate:a=0,newMarketplaceCustomerFeeRate:r=0,countryTaxName:o=""}}=this.props;return m.a.createElement(de.b,{className:jn.a.self},m.a.createElement(de.b,{className:jn.a.divider}),m.a.createElement(vt.Text,{type:"fresha-h3",color:"gray100",className:jn.a.title},Object(g.c)(An())),m.a.createElement(de.b,{className:jn.a.pricing},m.a.createElement(de.b,{className:jn.a.section},m.a.createElement(vt.Text,{type:"fresha-h4",color:"gray100"},Object(g.c)("%{commissionFee} per Online Booking",{commissionFee:m.a.createElement(bn.a,{className:jn.a.underline,paymentSettings:{commissionBase:n,commissionRate:a}})})),e&&m.a.createElement(vt.Text,{type:"fresha-caption",color:"gray50",className:jn.a.sectionDescription},Object(g.c)(Nn()))),r?m.a.createElement(de.b,{className:jn.a.section},m.a.createElement(de.b,{className:jn.a.sectionHeader},Object(g.c)("%{underline} Per First-Time Fresha Client",{underline:m.a.createElement(de.b,{as:"span",className:jn.a.underline},Object(g.c)("%{newMarketplaceCustomerFeeRate}%",{newMarketplaceCustomerFeeRate:r}))})),m.a.createElement(de.b,{className:jn.a.sectionDescription},Object(g.c)(Pn()))):null,m.a.createElement(En,{countryTaxName:o,countryCode:t})))}}function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function In(){var e=d()(["Review the pricing and list of features included with Fresha Plus"]);return In=function(){return e},e}function wn(){var e=d()(["Pricing Package"]);return wn=function(){return e},e}function Dn(){var e=d()(["Automatically remind clients about their appointments"]);return Dn=function(){return e},e}function kn(){var e=d()(["SMS Text Messages"]);return kn=function(){return e},e}function _n(){var e=d()(["Effortless and secure in-app payments with Fresha Pay"]);return _n=function(){return e},e}function xn(){var e=d()(["Integrated Card Processing"]);return xn=function(){return e},e}function Mn(){var e=d()(["Send campaigns to boost sales and fill your calendar"]);return Mn=function(){return e},e}function Rn(){var e=d()(["Intelligent Marketing"]);return Rn=function(){return e},e}function Ln(){var e=d()(["Eliminate no shows and late cancellations by charging clients"]);return Ln=function(){return e},e}function Bn(){var e=d()(["No Show Protection"]);return Bn=function(){return e},e}function Fn(){var e=d()(["Fresha mobile app plus website and social page integrations"]);return Fn=function(){return e},e}function Vn(){var e=d()(["Online Booking"]);return Vn=function(){return e},e}l()(Tn,"propTypes",{paymentSettings:y.a.object,isFreshaSettingPaymentsEnabled:y.a.bool,countryCode:y.a.string});var Yn,Un,qn,Hn=Object(f.b)(e=>({paymentSettings:E.a.getLegacyPaymentSettings(e),isFreshaSettingPaymentsEnabled:E.a.isFreshaSettingPaymentsEnabled(e),smsEnabled:E.a.smsEnabledForProvider(e),countryCode:E.a.getProviderCountryCode(e)}))((vn=On=class extends p.PureComponent{constructor(...e){super(...e),l()(this,"state",{loading:!0})}componentDidMount(){I.a.readLegacyPaymentSettings().then(()=>{this.setState({loading:!1})}).catch(()=>I.a.addGlobalErrorToast())}getValueProposition(){var{isFreshaSettingPaymentsEnabled:e,smsEnabled:t}=this.props;return[{key:"online-booking",title:Object(g.c)(Vn()),description:Object(g.c)(Fn())},e&&{key:"no-show",title:Object(g.c)(Bn()),description:Object(g.c)(Ln())},{key:"marketing",title:Object(g.c)(Rn()),description:Object(g.c)(Mn())},e&&{key:"fresha-pay",title:Object(g.c)(xn()),description:Object(g.c)(_n())},t&&{key:"sms-messaging",title:Object(g.c)(kn()),description:Object(g.c)(Dn())}].filter(Boolean)}render(){var{buttonText:e,children:t,handleCancel:n,backLink:a,handleSubmitSuccess:r,paymentSettings:o,isFreshaSettingPaymentsEnabled:i,stepPrefix:c,countryCode:s}=this.props,{loading:l}=this.state,u=Object(g.c)(wn());return m.a.createElement(ce.b,{keys:se.a.EDIT_BILLING_INFO,withPlaceholder:!0},m.a.createElement(M.b,{isLoading:l,title:u,description:Object(g.c)(In()),buttonOnAction:r,buttonText:e,onExit:n,stepView:m.a.createElement(m.a.Fragment,null,this.getValueProposition().map(e=>m.a.createElement(Pt,e)),m.a.createElement(Tn,{paymentSettings:o,isFreshaSettingPaymentsEnabled:i,countryCode:s})),backLink:a,stepPrefix:c,wizardVariant:D.g.BILLING,stepContentHorizontalMargin:!0,leftSectionTexts:D.c[D.g.BILLING]},t))}},l()(On,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({submit:y.a.func,children:y.a.bool,isFreshaSettingPaymentsEnabled:y.a.bool,smsEnabled:y.a.bool,countryCode:y.a.string},ke.a)),gn=vn))||gn,Kn=n("dhJQ"),Gn=n("pp8f"),zn=n("z+Xl"),Zn=n("1nQO"),Wn=n("ougl"),Qn=n.n(Wn);function Jn(){var e=d()(["Postal code"]);return Jn=function(){return e},e}function Xn(){var e=d()(["State"]);return Xn=function(){return e},e}function $n(){var e=d()(["State"]);return $n=function(){return e},e}function ea(){var e=d()(["State"]);return ea=function(){return e},e}function ta(){var e=d()(["City"]);return ta=function(){return e},e}function na(){var e=d()(["Address"]);return na=function(){return e},e}function aa(){var e=d()(["Last name"]);return aa=function(){return e},e}function ra(){var e=d()(["First name"]);return ra=function(){return e},e}function oa(){var e=d()(["Business name"]);return oa=function(){return e},e}function ia(){var e=d()(["Individual / Sole trader"]);return ia=function(){return e},e}function ca(){var e=d()(["Company"]);return ca=function(){return e},e}function sa(){var e=d()(["Account type"]);return sa=function(){return e},e}function la(){var e=d()(["VAT number"]);return la=function(){return e},e}function ua(){var e=d()(["Do not include country prefix"]);return ua=function(){return e},e}function da(){var e=d()(["VAT number (optional)"]);return da=function(){return e},e}function pa(){var e=d()(["Tax information"]);return pa=function(){return e},e}var ma,ba,fa,ha=Object(pe.W)("BillingInformationForm"),ya=[pe.q.validate.maxLength(100),pe.q.validate.required(),pe.q.validate.matches(/^[A-Za-z0-9 !&'()+,\-./:;]+$/)],Ea=[pe.q.validate.maxLength(50),pe.q.validate.required(),pe.q.validate.matches(/^[A-Za-z ',\-.]+$/)],ga=[pe.q.validate.maxLength(50),pe.q.validate.required(),pe.q.validate.matches(/^[A-Za-z ',\-.]+$/)],Oa=[pe.q.validate.required(),pe.q.validate.maxLength(100),pe.q.validate.matches(/^[A-Za-z0-9 #'(),\-./:;°]+$/)],va=[pe.q.validate.maxLength(50),pe.q.validate.required(),pe.q.validate.matches(/^[A-Za-z &'()\-.]+$/)],Sa=[pe.q.validate.maxLength(50),pe.q.validate.required(),pe.q.validate.matches(/^[A-Za-z &'()\-.]+$/)],ja=[pe.q.validate.maxLength(16),pe.q.validate.required(),pe.q.validate.matches(/^[A-Za-z0-9 -]+$/)],Pa={ACCOUNT_TYPE:"accountType",COMPANY_NAME:"companyName",FIRST_NAME:"firstName",LAST_NAME:"lastName",STATE_PROVINCE:"stateProvince",CITY:"city",POSTAL_CODE:"postalCode",ADDRESS:"address",TAX_NUMBER:"taxNumber"},Na=Gn.a.BUSINESS,Aa=Object(pe.bb)("BillingInformationForm"),Ta=Object(f.b)(e=>{var t=E.a.getProviderBillingInformation(e),n=ha(e);return{initialValues:t?T()(t,Object.values(Pa)):{[Pa.ACCOUNT_TYPE]:Na},accountType:n?n.accountType:Na,countryCode:E.a.getProviderCountryCode(e),providerBillingTaxInformation:E.a.getProviderBillingTaxInformation(e)}})(Yn=Object(pe.q)({form:"BillingInformationForm"})(Yn=Object(Kn.g)()((qn=Un=class extends p.PureComponent{constructor(...e){super(...e),l()(this,"onGeocode",(e={})=>{var{change:t,countryCode:n}=this.props;t(Pa.ADDRESS,e.address),t(Pa.CITY,e.city),t(Pa.STATE_PROVINCE,Zn[n]?e.shortState:e.state),t(Pa.POSTAL_CODE,e.zipCode)})}renderVatNumberInput(){var{countryCode:e,providerBillingTaxInformation:t}=this.props;return"US"===e?null:t.reverseChargeApplicable?m.a.createElement(m.a.Fragment,null,m.a.createElement(pe.p,{className:Qn.a.taxWrapper},m.a.createElement(vt.Text,{type:"fresha-paragraph",color:"gray100",className:Qn.a.taxInformation},Object(g.c)(pa())),m.a.createElement(vt.Text,{type:"fresha-caption",color:"gray100"},Object(g.c)("Partners registered for VAT in the EU are not charged VAT on Fresha Plus fees. Partners not registered for VAT are charged VAT at %{taxRate}%",{taxRate:t.taxRate}))),m.a.createElement(de.b,{basis:"100%"},m.a.createElement(me.s,j()({name:Pa.TAX_NUMBER,label:Object(g.c)(da()),hint:Object(g.c)(ua())},Object(fn.a)(e).VAT_NUMBER_PROPS)))):m.a.createElement(de.b,{basis:"100%"},m.a.createElement(me.s,j()({name:Pa.TAX_NUMBER,label:Object(g.c)(la())},Object(fn.a)(e).VAT_NUMBER_PROPS)))}render(){var{accountType:e,countryCode:t,isMatch:n}=this.props;return m.a.createElement(de.b,{flex:"row",wrap:"wrap",className:Qn.a.clearSidePaddings},m.a.createElement(de.b,{basis:"100%"},m.a.createElement(me.r,{name:Pa.ACCOUNT_TYPE,label:Object(g.c)(sa())},m.a.createElement("option",{value:Gn.a.BUSINESS},Object(g.c)(ca())),m.a.createElement("option",{value:Gn.a.INDIVIDUAL},Object(g.c)(ia())))),e===Gn.a.BUSINESS&&m.a.createElement(de.b,{basis:"100%"},m.a.createElement(me.s,{name:Pa.COMPANY_NAME,label:Object(g.c)(oa()),validate:ya})),m.a.createElement(de.b,{basis:"100%"},m.a.createElement(me.s,{name:Pa.FIRST_NAME,label:Object(g.c)(ra()),validate:Ea})),m.a.createElement(de.b,{basis:"100%"},m.a.createElement(me.s,{name:Pa.LAST_NAME,label:Object(g.c)(aa()),validate:ga})),m.a.createElement(de.b,{basis:"100%"},m.a.createElement(me.j,{name:Pa.ADDRESS,label:Object(g.c)(na()),validate:Oa,onGeocode:this.onGeocode})),m.a.createElement(de.b,{basis:n?"100%":"30%"},m.a.createElement(me.s,{name:Pa.CITY,label:Object(g.c)(ta()),validate:va})),m.a.createElement(de.b,{basis:n?"100%":"40%"},Zn[t]?m.a.createElement(me.r,{name:Pa.STATE_PROVINCE,label:Object(g.c)(ea()),invalidValueLabel:n?"":Object(g.c)($n())},Zn[t].map(({code:e,name:t})=>m.a.createElement("option",{value:e},t))):m.a.createElement(me.s,{name:Pa.STATE_PROVINCE,label:Object(g.c)(Xn()),validate:Sa})),m.a.createElement(de.b,{basis:n?"100%":"30%"},m.a.createElement(me.s,{name:Pa.POSTAL_CODE,label:Object(g.c)(Jn()),validate:ja})),this.renderVatNumberInput())}},l()(Un,"propTypes",{accountType:y.a.oneOf(Object.values(Gn.a)),isMatch:y.a.bool,countryCode:y.a.string,change:y.a.func,providerBillingTaxInformation:y.a.shape(zn.ProviderBillingTaxInformation.propTypes)}),Yn=qn))||Yn)||Yn)||Yn;function Ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ia(){var e=d()(["Your Details"]);return Ia=function(){return e},e}function wa(){var e=d()(["Add your contact details and tax number, these will appear on invoices we issue to you. In the next step you can set up your card details."]);return wa=function(){return e},e}function Da(){var e=d()(["Save"]);return Da=function(){return e},e}function ka(){var e=d()(["Vat number is invalid"]);return ka=function(){return e},e}function _a(){var e=d()(["Billing information couldn't be updated, please try again later"]);return _a=function(){return e},e}function xa(){var e=d()(["Billing information updated"]);return xa=function(){return e},e}function Ma(){var e=d()(["Your sensitive information is safe with us"]);return Ma=function(){return e},e}function Ra(){var e=d()(["Safe and secure"]);return Ra=function(){return e},e}function La(){var e=d()(["Once saved, your updated billing info will be displayed on the next monthly invoice we issue to you"]);return La=function(){return e},e}function Ba(){var e=d()(["Easy instant setup"]);return Ba=function(){return e},e}function Fa(){var e=d()(["Billing info"]);return Fa=function(){return e},e}var Va,Ya,Ua,qa={title:Object(g.c)(Fa()),firstSection:{title:Object(g.c)(Ba()),description:Object(g.c)(La())},secondSection:{title:Object(g.c)(Ra()),description:Object(g.c)(Ma())}},Ha=Object(f.b)(e=>({isSubmitting:Aa(e)}),{submit:()=>Object(pe.hb)("BillingInformationForm")})((fa=ba=class extends p.PureComponent{constructor(...e){super(...e),l()(this,"state",{loading:!0}),l()(this,"handleSubmitSuccess",()=>{I.a.addGlobalSuccessToast(Object(g.c)(xa())),Object(C.b)(w.b)}),l()(this,"handleCancel",()=>{Object(C.b)(w.b)}),l()(this,"handleSubmit",e=>I.a.patchProviderBillingInformation(ie.a.patchProviderBillingInformation(e)).then(this.props.handleSubmitSuccess||this.handleSubmitSuccess).catch(e=>{I.a.addGlobalErrorToast(Object(g.c)(_a())),Object(pe.ib)(e,{fields:[{jsonPointer:/\/tax-number$/,code:"invalid-parameters",field:Pa.TAX_NUMBER,message:Object(g.c)(ka())}]})}))}componentDidMount(){Object(i.all)([I.a.readProviderBillingTaxInformation(),I.a.readProviderBillingInformation()]).then(()=>{this.setState({loading:!1})}).catch(()=>I.a.addGlobalErrorToast())}render(){var{isSubmitting:e,submit:t,stepPrefix:n,buttonText:a,children:r,handleCancel:o,backLink:i,leftSectionTexts:c}=this.props,{loading:s}=this.state;return m.a.createElement(ce.b,{keys:se.a.EDIT_BILLING_INFO,withPlaceholder:!0},m.a.createElement(M.b,{backLink:i,buttonOnAction:t,buttonText:a||Object(g.c)(Da()),description:Object(g.c)(wa()),isLoading:s,isSubmitting:e,onExit:o||this.handleCancel,stepView:m.a.createElement(Ta,{onSubmit:this.handleSubmit}),title:Object(g.c)(Ia()),stepPrefix:n,wizardVariant:D.g.BILLING,leftSectionTexts:c||qa},r))}},l()(ba,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ca(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ca(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({submit:y.a.func.isRequired,isSubmitting:y.a.bool,children:y.a.bool},ke.a)),ma=fa))||ma,Ka=n("pxaF"),Ga=n("+Wfv"),za=n("POmq"),Za=n("jwng"),Wa=n("yk2N"),Qa=n("Muoj"),Ja=n("7YUC"),Xa=n.n(Ja);function $a(){var e=d()(["Edit card"]);return $a=function(){return e},e}class er extends p.PureComponent{render(){var{info:{cardHolderName:e,cardBrandFormatted:t,cardBrand:n,cardLast4:a,expired:r,cardExpiryMonth:o,cardExpiryYear:i},toggleMode:c}=this.props;return m.a.createElement(de.b,{className:Xa.a.self},r?m.a.createElement(Ot.d,{type:"form-field-content"},Object(g.c)("Your %{cardBrand} card ending with %{cardLast4} expired in %{monthYear}.",{cardBrand:t,cardLast4:a,monthYear:Object(Za.k)("".concat(i," ").concat(o),"YYYY MM").format("MMMM YYYY")})):m.a.createElement(de.b,{className:Xa.a.cardDetails},m.a.createElement(de.b,null,e&&m.a.createElement(Ot.d,{type:"form-field-content",className:Xa.a.textPadding,qaType:"credit-card-info-holder"},e),m.a.createElement(Ot.d,{type:"form-field-content",className:Xa.a.textPadding,qaType:"credit-card-info-card"},Object(g.c)("%{cardBrand} card ending with %{cardLast4}",{cardBrand:t,cardLast4:a})),m.a.createElement(Ot.d,{type:"form-field-content",qaType:"credit-card-info-expiry"},Object(g.c)("Valid thru %{cardExpiry}",{cardExpiry:Object(Wa.b)(o,i)}))),m.a.createElement(Qa.c,{className:Xa.a.creditCardBrand,brand:n})),m.a.createElement(de.b,{className:Xa.a.editButton},m.a.createElement(R.n,{onAction:c,className:Xa.a.link,qaType:"update-credit-card"},m.a.createElement(L.b,{name:"edit-pencil",className:Xa.a.icon}),Object(g.c)($a()))))}}function tr(){var e=d()(["Save"]);return tr=function(){return e},e}function nr(){var e=d()(["Card Details"]);return nr=function(){return e},e}function ar(){var e=d()(["We were unable to verify your card. Please try again."]);return ar=function(){return e},e}l()(er,"propTypes",{info:y.a.object,toggleMode:y.a.func});var rr,or,ir,cr=Object(f.b)(e=>({providerCard:E.a.getProviderCard(e)}),{loadCheckoutKit:Ka.c})((Ua=Ya=class extends p.PureComponent{constructor(...e){super(...e),l()(this,"state",{loading:!0,isEditing:!1}),l()(this,"registerPaymentSubmit",e=>{this.paymentSubmit=e}),l()(this,"handleSubmitSuccess",()=>{Object(C.b)(w.b)}),l()(this,"afterSubmit",()=>(this.props.handleAnimateExit?this.props.handleAnimateExit():Object(i.resolve)()).then(()=>this.unmounted?Object(i.resolve)():(this.props.handleSubmitSuccess||this.handleSubmitSuccess)())),l()(this,"handleCancel",()=>{Object(C.b)(w.b)}),l()(this,"toggleMode",()=>{this.setState({isEditing:!0})}),l()(this,"submit",()=>this.isConfirmMode()?I.a.activateFeatureBundle().then(this.afterSubmit).catch(()=>I.a.addGlobalErrorToast(Object(g.c)(ar()))):this.paymentSubmit())}componentDidMount(){Object(i.all)([this.props.loadCheckoutKit(),I.a.readProviderCard()]).finally(()=>{this.setState({loading:!1})})}componentWillUnmount(){this.unmounted=!0}isConfirmMode(){var{providerCard:e,enableFeatureBundle:t}=this.props,{isEditing:n}=this.state;return e&&t&&!n}renderStepView(){var{providerCard:e}=this.props;return this.isConfirmMode()?m.a.createElement(er,{toggleMode:this.toggleMode,info:e}):m.a.createElement(Ga.a.Provider,{value:{registerPaymentSubmit:this.registerPaymentSubmit}},m.a.createElement(za.a,{enableFeatureBundle:!!this.props.enableFeatureBundle,afterSubmit:this.afterSubmit}))}render(){var{buttonText:e,handleCancel:t,backLink:n,children:a,stepPrefix:r,leftSectionTexts:o,animateExit:i}=this.props,{loading:c}=this.state;return m.a.createElement(ce.b,{keys:se.a.EDIT_BILLING_INFO,withPlaceholder:!0},m.a.createElement(M.b,{isLoading:c,title:Object(g.c)(nr()),description:Object(g.f)("Your card is only used to top up your account if your balance becomes negative, <a>learn more</a>",null,{a:e=>m.a.createElement(vt.Link,{inheritFont:!0,key:"key",linkTo:gt.b},e)}),withPending:!0,buttonOnAction:this.submit,buttonText:e||Object(g.c)(tr()),onExit:t||this.handleCancel,stepView:this.renderStepView(),backLink:n,stepPrefix:r,wizardVariant:D.g.BILLING,leftSectionTexts:o||D.b,animateExit:i},a))}},l()(Ya,"propTypes",{enableFeatureBundle:y.a.bool,loadCheckoutKit:y.a.func.isRequired,handleSubmitSuccess:y.a.func,stepPrefix:y.a.string,buttonText:y.a.string,handleCancel:y.a.func,backLink:y.a.string,children:y.a.node,leftSectionTexts:y.a.shape({title:y.a.string,firstSection:y.a.shape({title:y.a.string,description:y.a.string}),secondSection:y.a.shape({title:y.a.string,description:y.a.string})}),handleAnimateExit:y.a.func,animateExit:y.a.bool,providerCard:y.a.object}),Va=Ua))||Va,sr=n("6GjK"),lr=n("kWUZ");function ur(){var e=d()(["Save"]);return ur=function(){return e},e}function dr(){var e=d()(["learn more"]);return dr=function(){return e},e}function pr(){var e=d()(["Card Details"]);return pr=function(){return e},e}function mr(){var e=d()(["Partner terms"]);return mr=function(){return e},e}function br(){var e=d()(["Privacy policy"]);return br=function(){return e},e}function fr(){var e=d()(["Terms of service"]);return fr=function(){return e},e}function hr(){var e=d()(["We were unable to verify your card. Please try again."]);return hr=function(){return e},e}var yr=Object(f.b)(e=>({providerCard:E.a.getProviderCard(e)}))((ir=or=class extends p.PureComponent{constructor(...e){super(...e),l()(this,"state",{loading:!0,isEditing:!1}),l()(this,"registerPaymentSubmit",e=>{this.paymentSubmit=e}),l()(this,"handleSubmitSuccess",()=>{Object(C.b)(w.b)}),l()(this,"submit",()=>this.isConfirmMode()?I.a.activateFeatureBundle().then(()=>Object(i.all)([I.a.readProvider(),I.a.readProviderBadgeStatus(),I.a.readPublishedLocationProfilesCheck()])).then(this.afterSubmit).catch(()=>I.a.addGlobalErrorToast(Object(g.c)(hr()))):this.paymentSubmit().then(this.afterSubmit)),l()(this,"afterSubmit",()=>(this.props.handleAnimateExit?this.props.handleAnimateExit():Object(i.resolve)()).then(()=>this.unmounted?Object(i.resolve)():(this.props.handleSubmitSuccess||this.handleSubmitSuccess)())),l()(this,"handleCancel",()=>{Object(C.b)(w.b)}),l()(this,"toggleMode",()=>{this.setState({isEditing:!0})})}componentDidMount(){I.a.readProviderCard().then(()=>{this.setState({loading:!1})})}componentWillUnmount(){this.unmounted=!0}isConfirmMode(){var{providerCard:e,enableFeatureBundle:t}=this.props,{isEditing:n}=this.state;return e&&t&&!n}renderStepView(){var{providerCard:e}=this.props;return this.isConfirmMode()?m.a.createElement(er,{toggleMode:this.toggleMode,info:e}):m.a.createElement(Ga.a.Provider,{value:{registerPaymentSubmit:this.registerPaymentSubmit}},m.a.createElement(sr.a,{onEnterPress:this.submit,enableFeatureBundle:this.props.enableFeatureBundle},m.a.createElement(pe.p,{as:Ot.d,type:"form-field-content"},Object(g.c)("By saving you agree to our %{tos}, %{privacyPolicy} and %{partnerTerms}.",{tos:m.a.createElement(R.n,{inheritFontSize:!0,key:"tos",linkTo:lr.h},Object(g.c)(fr())),privacyPolicy:m.a.createElement(R.n,{inheritFontSize:!0,key:"privacyPolicy",linkTo:lr.f},Object(g.c)(br())),partnerTerms:m.a.createElement(R.n,{inheritFontSize:!0,key:"partnerTerms",linkTo:lr.e},Object(g.c)(mr()))}))))}render(){var{buttonText:e,handleCancel:t,children:n,backLink:a,stepPrefix:r,leftSectionTexts:o,animateExit:i}=this.props,{loading:c}=this.state;return m.a.createElement(ce.b,{keys:se.a.EDIT_BILLING_INFO,withPlaceholder:!0},m.a.createElement(M.b,{isLoading:c,title:Object(g.c)(pr()),description:Object(g.c)("Your card is only used to top up your account if your balance becomes negative, %{learnMore}",{learnMore:m.a.createElement(R.n,{inheritFontSize:!0,key:"key",linkTo:gt.b},Object(g.c)(dr()))}),withPending:!0,buttonOnAction:this.submit,buttonText:e||Object(g.c)(ur()),onExit:t||this.handleCancel,backLink:a,stepView:this.renderStepView(),stepPrefix:r,wizardVariant:D.g.BILLING,leftSectionTexts:o||D.b,animateExit:i},n))}},l()(or,"propTypes",{handleSubmitSuccess:y.a.func,stepPrefix:y.a.string,buttonText:y.a.string,handleCancel:y.a.func,backLink:y.a.string,children:y.a.node,leftSectionTexts:y.a.shape({title:y.a.string,firstSection:y.a.shape({title:y.a.string,description:y.a.string}),secondSection:y.a.shape({title:y.a.string,description:y.a.string})}),handleAnimateExit:y.a.func,animateExit:y.a.bool,providerCard:y.a.object,enableFeatureBundle:y.a.bool}),rr=ir))||rr,Er=n("kuD+"),gr=n.n(Er);function Or(){var e=d()(["In the next step, you will need to provide:"]);return Or=function(){return e},e}function vr(){var e=d()(["Account number which is held under the above account holder's name"]);return vr=function(){return e},e}function Sr(){var e=d()(["Bank account number"]);return Sr=function(){return e},e}function jr(){var e=d()(["Account number which is held under the above account holder's name, along with a clear copy of a bank issued document that includes the account number, account holder's full name, and offical bank logo or name"]);return jr=function(){return e},e}function Pr(){var e=d()(["Bank account number along with bank statement copy"]);return Pr=function(){return e},e}function Nr(){var e=d()(["Such as legal full name and birthday"]);return Nr=function(){return e},e}function Ar(){var e=d()(["Bank account holder's personal details"]);return Ar=function(){return e},e}function Tr(){var e=d()(["Such as legal full name and birthday, along with a clear scan or photo of your bank account holder’s government issued ID card, driver’s license or passport (depending on your country)"]);return Tr=function(){return e},e}function Cr(){var e=d()(["Bank account holder's personal details along with document copy"]);return Cr=function(){return e},e}class Ir extends p.PureComponent{getValueProposition(){var{configurationDocuments:{step1:e,step2:t}}=this.props;return[e.length>0?{key:"account-holder",title:Object(g.c)(Cr()),description:Object(g.c)(Tr())}:{key:"account-holder",title:Object(g.c)(Ar()),description:Object(g.c)(Nr())},t.length>0?{key:"bank-details",title:Object(g.c)(Pr()),description:Object(g.c)(jr())}:{key:"bank-details",title:Object(g.c)(Sr()),description:Object(g.c)(vr())}].filter(Boolean)}render(){return m.a.createElement(m.a.Fragment,null,m.a.createElement(Ot.d,{noMargin:!0,className:gr.a.text},Object(g.c)(Or())),this.getValueProposition().map(e=>m.a.createElement(Pt,e)))}}function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Dr(){var e=d()(["Prepare information to submit"]);return Dr=function(){return e},e}l()(Ir,"propTypes",{configurationDocuments:y.a.object});class kr extends p.PureComponent{constructor(...e){super(...e),l()(this,"state",{loading:!0,configurationDocuments:{}})}componentDidMount(){Object(i.all)([I.a.readAdyenFieldsConfiguration({step:"1"}),I.a.readAdyenFieldsConfiguration({step:"2"})]).then(([e,t])=>{var n=N()(e,"body.data.attributes.documents"),a=N()(t,"body.data.attributes.documents");this.setState({loading:!1,configurationDocuments:{step1:n,step2:a}})}).catch(()=>I.a.addGlobalErrorToast())}render(){var{buttonText:e,children:t,handleCancel:n,backLink:a,handleSubmitSuccess:r,stepPrefix:o}=this.props,{loading:i}=this.state;return m.a.createElement(ce.b,{keys:se.a.EDIT_BILLING_INFO,withPlaceholder:!0},m.a.createElement(M.b,{isLoading:i,title:Object(g.c)(Dr()),description:Object(g.f)('Next you\'ll need to supply information and supporting documents to securely verify the identity of your account holder, <a href="%{link}">learn more</a>',{link:ot.f},{a:(e,{href:t})=>m.a.createElement(R.n,{inheritFontSize:!0,linkTo:t},e)}),buttonOnAction:r,buttonText:e,onExit:n,stepView:m.a.createElement(Ir,{configurationDocuments:this.state.configurationDocuments}),backLink:a,stepPrefix:o,wizardVariant:D.g.FRESHA_PAY,stepContentHorizontalMargin:!0,leftSectionTexts:D.c[D.g.FRESHA_PAY]},t))}}l()(kr,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({children:y.a.bool},ke.a));var _r,xr,Mr,Rr=n("X5+u");function Lr(){var e=d()(["Continue"]);return Lr=function(){return e},e}function Br(){var e=d()(["Save"]);return Br=function(){return e},e}function Fr(){var e=d()(["Exit Billing Details Setup"]);return Fr=function(){return e},e}function Vr(){var e=d()(["Set up Billing Details"]);return Vr=function(){return e},e}function Yr(){var e=d()(["Exit Fresha Pay Setup"]);return Yr=function(){return e},e}function Ur(){var e=d()(["Set up Fresha Pay"]);return Ur=function(){return e},e}var qr,Hr,Kr,Gr={[v.c.CHECKOUT]:{[D.g.BILLING]:[Hn,Ha,e=>m.a.createElement(cr,j()({enableFeatureBundle:!0},e))],[D.g.FRESHA_PAY]:[oe.a,Ve],[D.g.PAYMENT_METHOD]:[e=>m.a.createElement(cr,j()({},e,{handleAnimateExit:void 0})),Rr.a]},[v.c.ADYEN]:{[D.g.BILLING]:[Hn,Ha,e=>m.a.createElement(yr,j()({enableFeatureBundle:!0},e))],[D.g.FRESHA_PAY]:[dt,kr,nt,ht,Ve],[D.g.PAYMENT_METHOD]:[e=>m.a.createElement(yr,j()({},e,{handleAnimateExit:void 0})),Rr.a]}},zr={[_.a.ACCOUNT_HOLDER]:at.a,[_.a.BANK_ACCOUNT]:yt.a},Zr={[D.g.BILLING]:w.g,[D.g.PAYMENT_METHOD]:w.l,[D.g.FRESHA_PAY]:w.i,[D.g.IDENTITY_CHECK]:w.k,[D.g.IDENTITY_CHECK_FAILED]:w.j},Wr={[D.g.BILLING]:!1,[D.g.PAYMENT_METHOD]:!1,[D.g.FRESHA_PAY]:!0,[D.g.IDENTITY_CHECK]:!0,[D.g.IDENTITY_CHECK_FAILED]:!0},Qr={SIDEBAR_TITLE:Object(g.c)(Ur()),CLOSE_HEADER:Object(g.c)(Yr())},Jr={SIDEBAR_TITLE:Object(g.c)(Vr()),CLOSE_HEADER:Object(g.c)(Fr())},Xr={[D.g.BILLING]:Jr,[D.g.PAYMENT_METHOD]:Jr,[D.g.FRESHA_PAY]:Qr,[D.g.IDENTITY_CHECK]:Qr,[D.g.IDENTITY_CHECK_FAILED]:Qr},$r=Object(f.b)((e,t)=>({paymentsProvider:E.a.getPaymentsProvider(e),requiredKycSections:E.a.getRequiredKycSections(e),stepIndex:Number.parseInt(N()(t,"match.params.stepIndex",0),10),wizardType:N()(t,"match.params.wizardType"),isCurrentFeatureBundleDisabled:E.a.isCurrentFeatureBundleDisabled(e)}))((Mr=xr=class extends p.PureComponent{constructor(...e){super(...e),l()(this,"state",{password:null,showConfirmPasswordModal:Wr[this.props.wizardType],animateExit:!1,loading:!0}),l()(this,"handleSubmitSuccess",()=>{Object(C.c)(Zr[this.props.wizardType](this.props.stepIndex+1))}),l()(this,"handleConfirmPasswordSuccess",({password:e})=>{this.setState({password:e,showConfirmPasswordModal:!1})}),l()(this,"handleExitAnimation",()=>new c.a(e=>this.setState({animateExit:!0},()=>setTimeout(()=>e(),100)))),l()(this,"handleDiscard",()=>{Object(C.f)(this.props.wizardType===D.g.BILLING?w.b:k.l)})}componentDidMount(){var e=[D.g.IDENTITY_CHECK,D.g.IDENTITY_CHECK_FAILED].includes(this.props.wizardType),t=this.props.wizardType===D.g.PAYMENT_METHOD;Object(i.all)([e&&I.a.readKycVerificationStatus(),e&&I.a.readKycStatus(),t&&I.a.readCurrentFeatureBundle().then(()=>{this.props.isCurrentFeatureBundleDisabled||Object(C.f)(w.d)})]).then(()=>{this.setState({loading:!1})}).catch(()=>I.a.addGlobalErrorToast())}getWizardSteps(){var{wizardType:e,paymentsProvider:t,requiredKycSections:n}=this.props;if(e===D.g.IDENTITY_CHECK||e===D.g.IDENTITY_CHECK_FAILED){var a=[e===D.g.IDENTITY_CHECK_FAILED?mn:Jt,...Object.values(T()(zr,n))];return n.some(e=>[_.a.PHOTO_ID,_.a.BANK_STATEMENT,_.a.COMPANY_REGISTRATION_SCREENING].includes(e))&&a.push(Et.a),a}return Gr[t][e]}render(){var{showConfirmPasswordModal:e,password:t,animateExit:n,loading:a}=this.state,{paymentsProvider:r,wizardType:o,stepIndex:i}=this.props,c=this.getWizardSteps(),s=Xr[o],l=c[i];return a?m.a.createElement(M.b,{leftSectionTexts:D.c[o],isLoading:!0,onExit:this.handleDiscard}):l?m.a.createElement(m.a.Fragment,null,m.a.createElement(l,{stepPrefix:c.length>1&&Object(g.c)("Step %{stepIndex} of %{stepsCount}",{stepIndex:i+1,stepsCount:c.length}),handleSubmitSuccess:this.handleSubmitSuccess,sidebarTitle:s.SIDEBAR_TITLE,buttonText:i+1===c.length?Object(g.c)(Br()):Object(g.c)(Lr()),password:t,noPasswordConfirmation:!0,handleDiscard:this.handleDiscard,handleCancel:x.d,backLink:i>0?Zr[o](i-1):void 0,stepIndex:i,leftSectionTexts:D.c[o],handleAnimateExit:this.handleExitAnimation,animateExit:n,wizardType:o},e&&m.a.createElement(re.a,{onSuccess:this.handleConfirmPasswordSuccess,onClose:this.handleDiscard})),m.a.createElement(x.c,{headerText:s.CLOSE_HEADER,onAction:this.handleDiscard})):m.a.createElement(ae,{wizardType:o,paymentsProvider:r,animateOnEnter:!0})}},l()(xr,"propTypes",{paymentsProvider:y.a.oneOf(Object.values(v.c)),requiredKycSections:y.a.array,stepIndex:y.a.number,wizardType:y.a.oneOf(Object.values(D.g)),isCurrentFeatureBundleDisabled:y.a.bool}),_r=Mr))||_r,eo=n("vfnK"),to=n("mfLu"),no=n("WLfC"),ao=n("ZO1O"),ro=n("cB10"),oo=n("DalI"),io=n("JnEf"),co=n("IZOP"),so=n.n(co),lo=n("b+f9"),uo=n("dmMp"),po=n("cYFR"),mo=n("V4ME"),bo=n.n(mo);function fo(){var e=d()(["Month"]);return fo=function(){return e},e}function ho(){var e=d()(["You have not processed any online transactions yet"]);return ho=function(){return e},e}function yo(){var e=d()(["Closing Balance"]);return yo=function(){return e},e}function Eo(){var e=d()(["Payouts"]);return Eo=function(){return e},e}function go(){var e=d()(["Service Fees"]);return go=function(){return e},e}function Oo(){var e=d()(["Adjustments"]);return Oo=function(){return e},e}function vo(){var e=d()(["Fresha Pay Collections"]);return vo=function(){return e},e}function So(){var e=d()(["Opening Balance"]);return So=function(){return e},e}var jo,Po,No,Ao,To,Co=so()({refreshRate:100})(de.b),Io=[{label:Object(g.c)(So()),width:140,key:"column-1"},{label:Object(g.c)(vo()),width:165,key:"column-2"},{label:Object(g.c)(Oo()),width:100,key:"column-3"},{label:Object(g.c)(go()),width:100,key:"column-4"},{label:Object(g.c)(Eo()),width:80,key:"column-5"},{label:Object(g.c)(yo()),width:120,key:"column-6"}],wo=Io.reduce((e,{width:t})=>e+t,0)+66+100,Do=Object(f.b)(e=>({months:E.a.getPromotionBillingReport(e)}))((Kr=Hr=class extends p.Component{constructor(...e){super(...e),l()(this,"state",{pinFirstColumn:!1}),l()(this,"checkIfTableShouldPinFirstColumn",({width:e})=>{e&&this.setState({pinFirstColumn:wo>e})})}render(){var{months:e}=this.props;return m.a.createElement(de.b,{flex:"column",className:bo.a.self},0===e.length?m.a.createElement(lo.a,{className:bo.a.placeholder,icon:"no-transactions",iconSize:"placeholder",text:Object(g.c)(ho())}):m.a.createElement(de.b,{flex:"column"},m.a.createElement(Co,{onSize:this.checkIfTableShouldPinFirstColumn},m.a.createElement(uo.d,{pinFirstColumn:this.state.pinFirstColumn},m.a.createElement(uo.f,{width:"".concat(100,"px"),className:bo.a.firstColumn},Object(g.c)(fo())),Io.map(e=>m.a.createElement(uo.f,{align:"right",width:"".concat(e.width,"px"),key:e.key},e.label)),m.a.createElement(uo.f,{width:"".concat(66,"px")}),e.map(e=>m.a.createElement(uo.h,{key:e.id},m.a.createElement(uo.e,{className:bo.a.firstColumn},e.period),m.a.createElement(uo.e,{align:"right"},e.openingBalance),m.a.createElement(uo.e,{align:"right"},e.payments),m.a.createElement(uo.e,{align:"right"},e.adjustments),m.a.createElement(uo.e,{align:"right"},e.fees),m.a.createElement(uo.e,{align:"right"},e.payouts),m.a.createElement(uo.e,{align:"right"},e.balance),m.a.createElement(uo.e,null,m.a.createElement(po.a,{invoiceExists:e.invoiceExists,month:e.month,year:e.year}))))))))}},l()(Hr,"propTypes",{months:y.a.arrayOf(y.a.object)}),qr=Kr))||qr;var ko,_o,xo,Mo=(jo=Object(io.a)({noSidePadding:!0,smallMobilePadding:!0}),Po=Object(f.b)((function(e){return{isCreditsEnabled:E.a.isCreditsEnabled(e)}})),Object(no.a)(No=jo(No=Po((To=Ao=class extends p.PureComponent{constructor(...e){super(...e),l()(this,"makeApiCalls",()=>Object(i.all)([I.a.readPromotionBillingsList(),I.a.readProviderCard(),this.props.isCreditsEnabled&&I.a.readCreditsBatches()]))}render(){return m.a.createElement(ro.a,{type:"color-gray-2",makeApiCalls:this.makeApiCalls},m.a.createElement(m.a.Fragment,null,m.a.createElement(ao.d,{type:"column noPadding"},m.a.createElement(oo.a,null)),m.a.createElement(ao.d,{type:"column noPadding"},m.a.createElement(Do,null))))}},l()(Ao,"propTypes",{isCreditsEnabled:y.a.bool}),No=To))||No)||No)||No),Ro=n("H+id"),Lo=n("TSDZ"),Bo=n("Mz7x"),Fo=n.n(Bo);function Vo(){var e=d()(["Company Details"]);return Vo=function(){return e},e}function Yo(){var e=d()(["Service Fee"]);return Yo=function(){return e},e}function Uo(){var e=d()(["Edit Billing Information"]);return Uo=function(){return e},e}function qo(){var e=d()(["Billing Information"]);return qo=function(){return e},e}function Ho(){var e=d()(["Applies only when gaining new clients from Fresha marketplace"]);return Ho=function(){return e},e}function Ko(){var e=d()(["Fully inclusive of all card processing and bank fees"]);return Ko=function(){return e},e}var Go,zo,Zo,Wo,Qo,Jo=Object(f.b)(e=>({paymentSettings:E.a.getLegacyPaymentSettings(e),countryCode:E.a.getProviderCountryCode(e),billingInformation:E.a.getProviderBillingInformation(e),isFreshaSettingPaymentsEnabled:E.a.isFreshaSettingPaymentsEnabled(e)}))((xo=_o=class extends p.PureComponent{constructor(...e){super(...e),l()(this,"handleEdit",()=>{Object(C.c)(w.c)})}render(){var{billingInformation:e,countryCode:t,paymentSettings:{commissionBase:n=0,commissionRate:a=0,newMarketplaceCustomerFeeRate:r,countryTaxName:o=""},isFreshaSettingPaymentsEnabled:i}=this.props;if(!e)return null;var c=[m.a.createElement(vt.Text,{type:"fresha-h4"},Object(g.c)("%{commissionFee} Per Online Booking",{commissionFee:m.a.createElement(bn.a,{paymentSettings:{commissionBase:n,commissionRate:a}})})),i&&m.a.createElement(vt.Text,{key:"freshaSetting",type:"fresha-caption",color:"gray50",className:Fo.a.muted},Object(g.c)(Ko())),r?Object(g.c)("%{newClientRate}% Per First-Time Fresha Client",{newClientRate:r}):"",r?m.a.createElement(vt.Text,{key:"newClient",className:Fo.a.muted,type:"fresha-caption",color:"gray50"},Object(g.c)(Ho())):"",m.a.createElement(En,{key:"learnMore",countryCode:t,countryTaxName:o})],s=m.a.createElement(de.b,{flex:"column"},m.a.createElement(de.b,{className:Fo.a.textPadding,as:"span"},e.accountType===Gn.a.BUSINESS?e.companyName:"".concat(e.firstName," ").concat(e.lastName)),m.a.createElement(de.b,{className:Fo.a.textPadding,as:"span"},e.fullAddress),e.taxNumber&&m.a.createElement(de.b,{className:Fo.a.textPadding,as:"span"},Object(g.c)("%{name} %{number}",{number:e.taxNumber,name:Object(fn.a)(t).VAT_NUMBER_NAME})));return m.a.createElement(de.b,{className:Fo.a.self,flex:"column"},m.a.createElement(de.b,{flex:"row",justifyContent:"space-between",alignItems:"center"},m.a.createElement(vt.Text,{type:"fresha-h3"},Object(g.c)(qo())),m.a.createElement(ce.b,{keys:se.a.EDIT_BILLING_INFO},e=>m.a.createElement(Lo.f,{icon:Lo.f.ICON.OPTIONS,align:"right","data-qa":"account-info-menu"},m.a.createElement(Lo.c,{onAction:Object(ce.c)(e,this.handleEdit),"data-qa":"button-edit"},Object(g.c)(Uo()))))),m.a.createElement(vt.Text,{type:"fresha-caption",color:"gray100"},Object(g.f)("Manage details displayed on our invoices issued to you, see the <a>billing activity page</a> for full billing history",null,{a:e=>m.a.createElement(vt.Link,{inheritFontSize:!0,key:"link","data-qa":"billing-details-link",linkTo:w.a},e)})),m.a.createElement(de.b,{className:Fo.a.info},m.a.createElement(Ro.a,{label:Object(g.c)(Yo()),value:c,qaType:"service-fee",withPadding:!0}),m.a.createElement(Ro.a,{label:Object(g.c)(Vo()),value:s,qaType:"company-details"})))}},l()(_o,"propTypes",{billingInformation:y.a.object,paymentSettings:y.a.object,countryCode:y.a.string,isFreshaSettingPaymentsEnabled:y.a.bool}),l()(_o,"defaultProps",{paymentSettings:{}}),ko=xo))||ko,Xo=n("gkbI");function $o(){var e=d()(["Card Details"]);return $o=function(){return e},e}function ei(){var e=d()(["Your card is only used for topping up your account, in case your balance becomes negative"]);return ei=function(){return e},e}function ti(){var e=d()(["Update Card"]);return ti=function(){return e},e}function ni(){var e=d()(["Your Payment Method"]);return ni=function(){return e},e}function ai(){var e=d()(["Set up a new card."]);return ai=function(){return e},e}function ri(){var e=d()(["Set it up now."]);return ri=function(){return e},e}class oi extends p.PureComponent{constructor(...e){super(...e),l()(this,"handleEditCard",()=>{var{paymentDue:e}=this.props;e?Object(F.g)():Object(C.c)(w.l())})}renderCreditCardInfo(){var{info:e}=this.props;if(!e)return m.a.createElement(R.n,{onAction:this.handleEditCard},Object(g.c)(ri()));var{cardHolderName:t,cardBrandFormatted:n,cardLast4:a,expired:r,cardExpiryMonth:o,cardExpiryYear:i}=e;return r?m.a.createElement(de.b,null,Object(g.c)("Your %{cardBrand} card ending with %{cardLast4} expired in %{monthYear}. %{link}",{cardBrand:n,cardLast4:a,monthYear:Object(Za.k)("".concat(i," ").concat(o),"YYYY MM").format("MMMM YYYY"),link:m.a.createElement(R.n,{key:"link",onAction:this.handleEditCard},Object(g.c)(ai()))})):m.a.createElement(de.b,{flex:"column"},t&&m.a.createElement(de.b,{className:Fo.a.textPadding,as:"span"},t),m.a.createElement(de.b,{className:Fo.a.textPadding,as:"span"},Object(g.c)("%{cardBrand} card ending with %{cardLast4}",{cardBrand:n,cardLast4:a})),m.a.createElement(de.b,{className:Fo.a.textPadding,as:"span"},Object(g.c)("Valid thru %{cardExpiry}",{cardExpiry:Object(Wa.b)(o,i)})))}render(){return m.a.createElement(de.b,{className:Fo.a.self,flex:"column"},m.a.createElement(de.b,{flex:"row",justifyContent:"space-between",alignItems:"center"},m.a.createElement(vt.Text,{type:"fresha-h3"},Object(g.c)(ni())),m.a.createElement(ce.b,{keys:se.a.EDIT_BILLING_INFO},e=>m.a.createElement(Lo.f,{icon:Lo.f.ICON.OPTIONS,"data-qa":"card-info-menu",align:"right"},m.a.createElement(Lo.c,{onAction:Object(ce.c)(e,this.handleEditCard),"data-qa":"button-edit"},Object(g.c)(ti()))))),m.a.createElement(vt.Text,{type:"fresha-caption",color:"gray100"},Object(g.c)(ei())),m.a.createElement(de.b,{className:Fo.a.info},m.a.createElement(Ro.a,{label:Object(g.c)($o()),value:this.renderCreditCardInfo()})))}}function ii(){return Object(i.all)([I.a.readProviderBillingInformation(),I.a.readProviderCard(),I.a.readLegacyPaymentSettings()])}l()(oi,"propTypes",{info:y.a.shape(Xo.a.propTypes),paymentDue:y.a.bool});var ci,si,li,ui=(Go=Object(f.b)(e=>({providerCard:E.a.getProviderCard(e),paymentDue:E.a.getProvider(e).paymentDue})),zo=Object(io.a)({noSidePadding:!0,smallMobilePadding:!0}),Object(no.a)(Zo=Go(Zo=zo((Qo=Wo=class extends p.PureComponent{render(){var{providerCard:e,paymentDue:t}=this.props;return m.a.createElement(ro.a,{type:"color-gray-2",makeApiCalls:ii},m.a.createElement(ao.d,{type:"column"},m.a.createElement(Jo,null)),m.a.createElement(ao.d,{type:"column"},m.a.createElement(oi,{info:e,paymentDue:t})))}},l()(Wo,"propTypes",{providerCard:y.a.object,paymentDue:y.a.bool}),Zo=Qo))||Zo)||Zo)||Zo);function di(){var e=d()(["Overview"]);return di=function(){return e},e}function pi(){var e=d()(["Manage your payment method and details displayed on invoices issued to you"]);return pi=function(){return e},e}function mi(){var e=d()(["Billing Details"]);return mi=function(){return e},e}function bi(){var e=d()(["See your current account balance and detailed transaction activity"]);return bi=function(){return e},e}function fi(){var e=d()(["Billing Activity"]);return fi=function(){return e},e}function hi(){var e=d()(["Discover powerful features to take your business to another level"]);return hi=function(){return e},e}function yi(){var e=d()(["Overview"]);return yi=function(){return e},e}var Ei=Object(f.b)((function(e){var t=E.a.getCurrentPermissions(e)[se.a.EDIT_BILLING_INFO],n=E.a.isCreditsEnabled(e),a=E.a.isFreshaPlusCreditsPreviewActive(e),r=E.a.isFreshaSettingPaymentsEnabled(e),o=E.a.isBillingStatusSetUp(e),i=E.a.isCreditsFeatureFlagEnabled(e),c=r&&o&&t;return{paymentsProvider:E.a.getPaymentsProvider(e),isCreditsFeatureFlagEnabled:i,showLoader:!!i&&void 0===n,routes:[{url:w.f,title:Object(g.c)(yi()),description:Object(g.c)(hi()),icon:"overview",desktopComponent:to.a},(c||n&&a)&&{url:w.a,title:Object(g.c)(fi()),description:Object(g.c)(bi()),icon:"billing-activity",desktopComponent:Mo},c&&{url:w.b,title:Object(g.c)(mi()),description:Object(g.c)(pi()),icon:"billing-details",desktopComponent:ui}].filter(Boolean)}}))((li=si=class extends p.PureComponent{constructor(...e){super(...e),l()(this,"makeApiCalls",()=>this.props.isCreditsFeatureFlagEnabled?I.a.readCreditsEligibility():Object(i.resolve)()),l()(this,"renderPaymentMethod",()=>{var{paymentsProvider:e}=this.props;switch(e){case v.c.CHECKOUT:return m.a.createElement(cr,null);case v.c.ADYEN:return m.a.createElement(yr,null);default:return null}})}componentDidMount(){Object(eo.e)()}render(){var{routes:e,showLoader:t}=this.props;return m.a.createElement(O.e,{url:w.h,title:Object(g.c)(di()),routes:e,makeApiCalls:this.makeApiCalls,if:t},m.a.createElement(b.b,{path:w.e,component:$r}),m.a.createElement(b.b,{path:w.c,exact:!0,component:Ha}),m.a.createElement(b.b,{path:w.d,exact:!0,render:this.renderPaymentMethod}))}},l()(si,"propTypes",{paymentsProvider:y.a.oneOf(Object.values(v.c)),routes:y.a.array,isCreditsFeatureFlagEnabled:y.a.bool,showLoader:y.a.bool}),ci=li))||ci},jGOT:function(e,t,n){"use strict";n.d(t,"a",(function(){return U}));var a,r,o,i=n("VkAN"),c=n.n(i),s=n("lSNA"),l=n.n(s),u=n("q1tI"),d=n.n(u),p=n("17x9"),m=n.n(p),b=n("/MKj"),f=n("kZhr"),h=n("5ZU+"),y=n("ePPS"),E=n("3wSE"),g=n("ZO1O"),O=n("/Q2I"),v=n("vl1H"),S=n("ah2r"),j=n("PhEd"),P=n("nbpM"),N=n("Jje6"),A=n("b+f9"),T=n("uZ2f"),C=n("ygWn"),I=n.n(C);function w(){var e=c()(["Password"]);return w=function(){return e},e}function D(){var e=c()(["Password"]);return D=function(){return e},e}var k,_,x,M="payment-activation/confirm",R="password",L=f.kb.required(Object(y.c)(D())),B=Object(b.b)(e=>({employee:P.a.getCurrentEmployee(e)}))(a=Object(f.q)({form:M})((o=r=class extends u.PureComponent{render(){var{employee:e}=this.props,t=Object(y.c)("To securely update your billing information, please enter %{name}'s account password to proceed",{name:d.a.createElement(j.Text,{as:"span",type:"fresha-paragraph",color:"gray100",key:"acc-name"},e.name)});return d.a.createElement(N.b,{className:I.a.self,qaType:"confirm-password-modal"},d.a.createElement(A.a,{icon:"secure-setup",iconSize:"placeholder-big",text:t}),d.a.createElement(T.n,{className:I.a.field,name:R,label:Object(y.c)(w()),type:"password",basis:"100%",validate:L,noMargin:!0}))}},l()(r,"propTypes",{employee:m.a.shape({name:m.a.string})}),a=o))||a)||a;function F(){var e=c()(["Continue"]);return F=function(){return e},e}function V(){var e=c()(["Secure Setup"]);return V=function(){return e},e}function Y(){var e=c()(["Invalid password"]);return Y=function(){return e},e}var U=Object(b.b)(e=>({isFormValid:Object(f.cb)(M)(e),submitting:Object(f.bb)(M)(e)}),{submitForm:()=>Object(f.hb)(M)})((x=_=class extends u.PureComponent{constructor(e){super(e),l()(this,"onSubmit",({password:e})=>h.a.verifyPassword({data:{type:"verify-password-requests",id:void 0,attributes:{password:e}}}).then(()=>{Object(v.c)(e),this.props.onSuccess({password:e})}).catch(e=>{Object(f.ib)(e,{fields:[{code:"forbidden",field:"password",message:Object(y.c)(Y())}]})}));var t=Object(v.b)();t&&this.props.onSuccess({password:t}),"1"===Object(S.b)(S.a.FLIPPY_ADMIN)&&this.props.onSuccess({password:null})}render(){var{onClose:e,isFormValid:t,submitting:n}=this.props;return d.a.createElement(O.i,{size:"small"},d.a.createElement(O.g,{onClose:e},Object(y.c)(V())),d.a.createElement(O.c,{onlyBottomPadding:!0},d.a.createElement(g.d,{type:"form mobile"},d.a.createElement(B,{onSubmit:this.onSubmit}))),d.a.createElement(O.e,null,d.a.createElement(O.a,{type:E.f,onAction:this.props.submitForm,basis:"100%",disabled:!t,isPending:n,"data-qa":"continue-button"},Object(y.c)(F()))))}},l()(_,"propTypes",{onClose:m.a.func.isRequired,isFormValid:m.a.bool,submitForm:m.a.func,onSuccess:m.a.func,submitting:m.a.bool}),k=x))||k},mfLu:function(e,t,n){"use strict";n.d(t,"a",(function(){return Me}));var a,r,o,i=n("QILm"),c=n.n(i),s=n("lSNA"),l=n.n(s),u=n("VkAN"),d=n.n(u),p=n("q1tI"),m=n.n(p),b=n("/MKj"),f=n("17x9"),h=n.n(f),y=n("2ta/"),E=n("61cg"),g=n("IUW6"),O=n("w++u"),v=n("ePPS"),S=n("UhKs"),j=n("3wSE"),P=n("nbpM"),N=n("89Lc"),A=n("XOD0"),T=n("X67z"),C=n("/pl8"),I=n("kWUZ"),w=n("Jje6"),D=n.p+"25ef24bbbcc27cca57522b7a9e8a7800.png",k=n.p+"5dedba1e36520183144ab60b453f2800.png",_=n.p+"680ad8a70888fc93a7b79b0851f0984e.png",x=n.p+"7eea73e71b4671b63646db12597ae364.png",M=n.p+"438f21f52af3ce3c593284b675eaad76.png",R=n.p+"8753f2b9417f0f51b579bcec2f34666a.png",L=n.p+"eb857535bcd2d2521af5e717e1917713.png",B=n.p+"1f1da7caa883a71d9ad705cac699f3e6.png",F=n.p+"adb0dd0210dbc87f23d5a8d607b01e6e.png",V=n.p+"7f38bb2c00171a639f36cac138daac14.png",Y=n.p+"f40a4bc6b41f8083a5e05ed6d8deb51f.png",U=n.p+"531479a26d83cad5b2f04e47d3e51dd1.png",q=n.p+"d4997b697af52493304d92cc1f7e60fe.png",H=n.p+"d23e33f27c3622e343fcad1ea4a78afd.png",K=n.p+"57e62bdccdffd8c5da5e3445a517aa14.png",G=n.p+"1cd048003309becd5894e901a0ba7048.png",z=n.p+"9fbd4e9b4bdb63d32b200dee08f5b884.png",Z=n.p+"5f25a738e73dc5698d76bb4c6240f1b0.png",W=n.p+"9ff4ddca7a849db32351c6448d7ec802.png",Q=n.p+"20849c7305cc492b125807b39c103f2f.png",J=n.p+"294819a65fa7d808f632d790493dc7e0.png",X=n.p+"6271b9d1a42bac776a1e247220ea4aea.png",$=n.p+"33d61520ce7afd7a58fc3e7db7053dea.png",ee=n.p+"8007835502c280da37fb2e8cbca1de4d.png",te=n.p+"8067ec07fa705dce3a69b5a848221e34.png",ne=n.p+"21e1750f873c08b7d0ed556676d9ad23.png",ae=n.p+"723f2bcd26a1660f4757fb8ec1fd1030.png",re=n.p+"af533b4e18ca7fe8efb8aefc1fa7d426.png",oe=n.p+"0a58eeaed0ed157e4fda092ff00db93d.png",ie=n.p+"14f14f5752b84195fb040dc22f2bd01e.png",ce=n.p+"03f6083e8fc9d840b95dd1d2bf9900ac.png",se=n.p+"10acdf4df0dad51e0b1bc5864643d2d3.png",le=n.p+"07a5321f4e63717d33fe366e8cc21ccc.png",ue=n.p+"6bd3bff739f0418db82afeb23c460128.png",de=n.p+"d813cc85e9b4baef8149323e65b8dd32.png",pe=n.p+"75d885749891854612aa9e644e74f460.png",me=n.p+"310abd7ca95eea6cee647fd9db0d721b.png",be=n.p+"988e6a3d1f7982ff15cd2f11ae8b92b3.png",fe=n.p+"35d449f5b26cda8c7cf1eef5ba2b3cbb.png",he=n.p+"ae1c349ef4828a8abc9f4be606fa3238.png",ye=n("s5rH");function Ee(){var e=d()(["Get access to powerful online booking features used by millions of customers. List your business on Fresha marketplace and mobile app, attract new clients, drive more bookings and supercharge your growth with integrated marketing tools"]);return Ee=function(){return e},e}function ge(){var e=d()(["Elevate your business to its full potential"]);return ge=function(){return e},e}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(){var e=d()(["Automated SMS text reminders"]);return Se=function(){return e},e}function je(){var e=d()(["Attract quality new clients"]);return je=function(){return e},e}function Pe(){var e=d()(["Integrated payment processing"]);return Pe=function(){return e},e}function Ne(){var e=d()(["Send smart marketing offers"]);return Ne=function(){return e},e}function Ae(){var e=d()(["Advanced no-show protection"]);return Ae=function(){return e},e}function Te(){var e=d()(["Fresha card terminals"]);return Te=function(){return e},e}function Ce(){var e=d()(["Join the world’s largest beauty network that sends millions of clients to salons and spas every month"]);return Ce=function(){return e},e}function Ie(){var e=d()(["Effortless online booking"]);return Ie=function(){return e},e}var we={ONLINE_BOOKING:{imgSrc:[D,k],imgMobileSrc:_,title:Object(v.c)(Ie()),description:m.a.createElement(m.a.Fragment,null,m.a.createElement(w.b,{marginBottom:16},Object(v.c)(Ce())),m.a.createElement(w.b,null,Object(v.f)("Create a business profile and be discovered 24/7 on Fresha marketplace, Instagram, Facebook, Google and your own website. Free up your time and focus on what you do best. <a>Learn More</a>",null,{a:e=>m.a.createElement(j.n,{key:"learn-more",inheritFontSize:!0,linkTo:y.o},e)})))},TERMINALS:{imgSrc:[de,le],imgMobileSrc:ue,title:Object(v.c)(Te()),switchAnimationLayer:!0,description:Object(v.f)("With a Fresha card terminal, you can securely save client payment details, take payments and collect tips at no extra cost. There's no monthly rental and all processing charges are covered by the standard Fresha Plus transaction fees. <a>Learn More</a>",null,{a:e=>m.a.createElement(j.n,{inheritFontSize:!0,linkTo:E.a},e)}),test:({doesUseCheckout:e})=>!e},NO_SHOW:{imgSrcLeft:[x,M],imgSrcRight:[L,B],imgMobileSrc:V,title:Object(v.c)(Ae()),description:Object(v.f)("Say goodbye to no-shows and late cancellations with remote charging of penalty fees. Take back control of your calendar with enforceable booking policies, without the hassle of upfront deposits. <a>Learn More</a>",null,{a:e=>m.a.createElement(j.n,{inheritFontSize:!0,linkTo:E.o},e)})},MARKETING:{imgSrcLeft:[K,G],imgSrcRight:[U,q],imgMobileSrc:Z,title:Object(v.c)(Ne()),description:Object(v.f)("Boost sales and fill your calendar with a suite of intelligent marketing tools. Retain and reward clients using smart targeting and personalized offers for birthdays, lapsing clients and more. <a>Learn More</a>",null,{a:e=>m.a.createElement(j.n,{inheritFontSize:!0,linkTo:g.s},e)}),invertedAnimation:!0},PAYMENTS:{imgSrcLeft:[Q,J],imgSrcRight:[$,ee],imgMobileSrc:ae,title:Object(v.c)(Pe()),description:Object(v.f)("Securely save client payment details to Fresha for effortless in-app payment – all processing charges are included in your Fresha Plus transaction fees. Automatically receive daily payouts direct to your bank account. <a>Learn More</a>",null,{a:e=>m.a.createElement(j.n,{inheritFontSize:!0,linkTo:E.o},e)})},CLIENTS:{imgSrcLeft:[ie,ce],imgSrcRight:[re,oe],imgMobileSrc:se,title:Object(v.c)(je()),description:Object(v.f)("Reach thousands of new clients who visit Fresha every day. Rank higher in online searches and sharpen your marketing with integrated conversion tracking for Google and Facebook. <a>Learn More</a>",null,{a:e=>m.a.createElement(j.n,{inheritFontSize:!0,linkTo:y.o},e)})},SMS:{imgSrcLeft:[pe,me],imgSrcRight:[be,fe],imgMobileSrc:he,title:Object(v.c)(Se()),description:Object(v.f)("Reduce no-shows by reminding clients of their upcoming appointments. Send unlimited automated SMS text messages direct from our platform. <a>Learn More</a>",null,{a:e=>m.a.createElement(j.n,{inheritFontSize:!0,linkTo:O.a},e)}),test:({smsEnabled:e})=>e}},De=[we.ONLINE_BOOKING,ve(ve({},we.MARKETING),{},{imgSrcLeft:[K,z],imgSrcRight:[U,H],imgMobileSrc:W}),we.CLIENTS,we.SMS],ke=[we.ONLINE_BOOKING,we.TERMINALS,ve(ve({},we.NO_SHOW),{},{imgSrcLeft:[x,R],imgSrcRight:[L,F],imgMobileSrc:Y}),ve(ve({},we.MARKETING),{},{imgSrcLeft:[K,z],imgSrcRight:[U,H],imgMobileSrc:W}),ve(ve({},we.PAYMENTS),{},{imgSrcLeft:[Q,X],imgSrcRight:[$,te],imgMobileSrc:ne}),we.CLIENTS,we.SMS],_e={[I.d.NO_PAYMENTS]:De,[I.d.PAYMENTS_COMING_SOON]:ke,[I.d.PAYMENTS_ENABLED]:Object.values(we)},xe={header:Object(v.c)(ge()),description:Object(v.c)(Ee())},Me=Object(b.b)(e=>({smsEnabled:P.a.smsEnabledForProvider(e),doesUseCheckout:P.a.doesUseCheckout(e),isComingSoon:!P.a.isFreshaSettingPaymentsEnabled(e)&&P.a.getPublishedLocationProfilesCheck(e),canEditBillingInfo:P.a.getCurrentPermissions(e)[T.a.EDIT_BILLING_INFO],freshaSetting:P.a.getFreshaSetting(e)}))((o=r=class extends p.PureComponent{constructor(...e){super(...e),l()(this,"handleAction",()=>{var{canEditBillingInfo:e}=this.props;Object(N.c)(Object(C.c)(e,()=>Object(A.c)(ye.a)))})}getCards(){var{freshaSetting:e,smsEnabled:t,doesUseCheckout:n}=this.props;return _e[e].filter(e=>!e.test||e.test({smsEnabled:t,doesUseCheckout:n})).map((e,t)=>{var{imgSrcLeft:n,imgSrcRight:a,imgSrc:r}=e;return ve(ve({},c()(e,["imgSrcLeft","imgSrcRight","imgSrc"])),{},{imgSrc:r||(t%2==0?n:a)})})}render(){var{isComingSoon:e}=this.props;return m.a.createElement(S.b,{onAction:this.handleAction,topSectionProps:xe,cards:this.getCards(),type:S.a.FRESHA_PLUS,isComingSoon:e})}},l()(r,"propTypes",{smsEnabled:h.a.bool,doesUseCheckout:h.a.bool,isComingSoon:h.a.bool,canEditBillingInfo:h.a.bool,freshaSetting:h.a.oneOf(Object.values(I.d))}),a=o))||a},nNRm:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return O}));var a,r,o,i=n("lSNA"),c=n.n(i),s=n("q1tI"),l=n.n(s),u=n("17x9"),d=n.n(u),p=n("/MKj"),m=n("nbpM"),b=n("Jje6"),f=n("X5fu"),h=n("Af+M"),y=Object.values(f.b),E=[h.b],g=l.a.createContext({handleChange:null,formValuesSelector:null,photoIdDescription:"",photoIdHeaderText:"",cachedIdentityDocumentImages:[]}),O=Object(p.b)(e=>({documentsConfiguration:m.a.getAdyenOnboardingDocumentsConfiguration(e)}))((o=r=class extends s.PureComponent{render(){var{documentsConfiguration:e}=this.props,t=y.some(t=>e.includes(t)),n=E.some(t=>e.includes(t)),a=t&&this.context.handleChange&&this.context.formValuesSelector,r=n&&this.context.handleChange;return l.a.createElement(l.a.Fragment,null,a&&l.a.createElement(f.c,{handleChange:this.context.handleChange,formValuesSelector:this.context.formValuesSelector,description:this.context.photoIdDescription,headerText:this.context.photoIdHeaderText,cachedIdentityDocumentImages:this.context.cachedIdentityDocumentImages,documentsConfiguration:e}),r&&l.a.createElement(h.a,{handleChange:this.context.handleChange,cachedBankAccountStatement:this.context.cachedBankAccountStatement}),(a||r)&&l.a.createElement(b.b,{as:"input",type:"hidden",qaType:"document-description",onChange:this.context.handleDescriptionChange}))}},c()(r,"propTypes",{documentsConfiguration:d.a.array}),c()(r,"contextType",g),a=o))||a},pxaF:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return S})),n.d(t,"b",(function(){return N}));var a=n("9oTK"),r=n.n(a),o=n("QILm"),i=n.n(o),c=n("VkAN"),s=n.n(c),l=n("jjk5"),u=n("FAYg"),d=n("5ZU+"),p=n("ePPS"),m=n("M22i");function b(){var e=s()(["We ware unable to verify your card. Please try again."]);return b=function(){return e},e}function f(){var e=s()(["Credit or debit card expired"]);return f=function(){return e},e}function h(){var e=s()(["Invalid card holder name"]);return h=function(){return e},e}function y(){var e=s()(["Invalid credit or debit card number"]);return y=function(){return e},e}function E(){var e=s()(["Invalid expiration year"]);return E=function(){return e},e}function g(){var e=s()(["Invalid expiration month"]);return g=function(){return e},e}function O(){var e=s()(["Invalid CVV number"]);return O=function(){return e},e}var v={NAME:"name",NUMBER:"number",EXPIRY_DATE:"expiryDate",CVV:"cvv"},S=()=>({event:"LOAD_CHECKOUT",promise:()=>Object(a.all)([u.CHECKOUT_API_KEY?Object(m.a)():Object(a.resolve)()])});function j(e){var t,n;switch(e){case 70059:case 70060:case 70105:t=Object(p.c)(O()),n=v.CVV;break;case 70062:case 70063:t=Object(p.c)(g()),n=v.EXPIRY_DATE;break;case 70064:case 70065:t=Object(p.c)(E()),n=v.EXPIRY_DATE;break;case 70066:case 70067:t=Object(p.c)(y()),n=v.NUMBER;break;case 70068:case 70069:t=Object(p.c)(h()),n=v.NAME;break;case 70077:t=Object(p.c)(f()),n=v.EXPIRY_DATE;break;default:t=Object(p.c)(b()),n="_error"}return{msg:t,field:n}}var P=e=>{var t=function({errorMessageCodes:e=[0]}={}){return e.map(Number).map(j).reduce((e,t)=>(e[t.field]=t.msg,e),{})}(e),{_error:n}=t,a=i()(t,["_error"]);throw n&&d.a.addErrorToast(n),new l.a(a)};function N(e={}){return{event:"CREATE_CHECKOUT_TOKEN",promise:()=>Object(m.a)().then(t=>{var n;return new r.a((a,r)=>{n=({data:e})=>{r(e)},t.addEventHandler(t.Events.API_ERROR,n),t.addEventHandler(t.Events.TIMEOUT_ERROR,n),t.createCardToken(e,e=>{"error"===e.type||e.errorCode||Array.isArray(e.errorMessageCodes)||a(e)})}).catch(P).finally(e=>(t.removeEventHandler(t.Events.API_ERROR,n),t.removeEventHandler(t.Events.TIMEOUT_ERROR,n),e))})}}},"xOF/":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n("pVnL"),r=n.n(a),o=n("lSNA"),i=n.n(o),c=n("q1tI"),s=n.n(c),l=n("17x9"),u=n.n(l),d=n("PhEd"),p=n("ePPS"),m=n("uZ2f"),b=n("yZTH"),f=n("UaUC"),h=({description:e,rates:t},n,a)=>e||(a||!t.cancellation?Object(p.c)("No fee for advance cancellation, %{noShowRate}% no show fee",{noShowRate:t.noShow}):Object(p.c)("%{cancellationRate}% fee to cancel within %{timeInHours}, %{noShowRate}% no show fee",{cancellationRate:t.cancellation,noShowRate:t.noShow,timeInHours:Object(b.a)(n)}));class y extends c.PureComponent{render(){var{freshaPayDisabled:e,paymentsNotRequired:t,advanceTimeInMinutes:n,fieldName:a,isMatch:o}=this.props,i=t||e,c={qaType:"policySetting",disabled:i},l=0===n;return s.a.createElement(m.p,{name:a,direction:"column",withGutter:!0},Object.entries(f.d).map(([e,t])=>s.a.createElement(d.MediaCardRadio,r()({},c,{iconName:"shedul/".concat(i?"shield-inactive":t.icon),title:t.title,description:h(t,n,l),value:e,iconRight:o}))))}}i()(y,"propTypes",{paymentsNotRequired:u.a.bool,freshaPayDisabled:u.a.bool,advanceTimeInMinutes:u.a.number,onValueChange:u.a.func,fieldName:u.a.string.isRequired,isMatch:u.a.bool})},xYoN:function(e,t,n){"use strict";t.a=n.p+"39c9f16893f24d3b615cb1c608018376.js"},y5hx:function(e,t,n){"use strict";n.d(t,"a",(function(){return se}));var a,r,o,i=n("9oTK"),c=n("VkAN"),s=n.n(c),l=n("lSNA"),u=n.n(l),d=n("q1tI"),p=n.n(d),m=n("17x9"),b=n.n(m),f=n("/MKj"),h=n("Af+M"),y=n("ePPS"),E=n("DWor"),g=n("nbpM"),O=n("SFs4"),v=n("Jje6"),S=n("Qs7Y"),j=n("kZhr"),P=n("yZJL"),N=n("EiY6"),A=n("ZD+Q"),T=n.n(A);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(){var e=s()(["Company Registration Document"]);return I=function(){return e},e}function w(){var e=s()(["Upload a clear scan or photo of your government issued company registration document"]);return w=function(){return e},e}function D(){var e=s()(["Company Registration Document"]);return D=function(){return e},e}var k,_,x,M,R,L,B=Object(f.b)(e=>({kycErrors:g.a.getAdyenCompanyRegistrationScreeningErrors(e)}))((o=r=class extends d.PureComponent{render(){var{kycErrors:e,handleChange:t,cachedCompanyRegistrationScreening:n={}}=this.props;return p.a.createElement(v.b,{className:T.a.self},p.a.createElement(j.p,null,p.a.createElement(S.d,{type:"default",className:T.a.headerText},Object(y.c)(D())),p.a.createElement(O.b,{type:"typeInfo",noPadding:!0,description:Object(y.c)(w()),icon:"info-circle"})),e.map(e=>p.a.createElement(j.p,null,p.a.createElement(O.b,{type:"typeError",noPadding:!0,description:e,icon:"info-circle-red"}))),p.a.createElement(P.a,{handleUpload:t,handleImageDismissal:t,filename:n.filename,imageSrc:n.imageSrc,title:Object(y.c)(I()),qaType:"COMPANY_REGISTRATION_SCREENING-dropzone",maxFileSize:1e7,minPdfSize:1,minImageSize:1e4}),p.a.createElement(N.a,null))}},u()(r,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({kycErrors:b.a.array},E.a)),a=o))||a,F=n("3wSE"),V=n("5ZU+"),Y=n("XOD0"),U=n("/pl8"),q=n("X67z"),H=n("+pqN"),K=n("jGOT"),G=n("986L"),z=n("UaUC"),Z=n("pVnL"),W=n.n(Z),Q=n("X5fu"),J="AdyenPhotoIdForm",X=e=>0===Object.keys(Object(j.V)(J)(e)).length,$=Object(j.W)(J),ee=Object(j.q)({form:J,validate:Q.f})(k=Object(f.b)(null,{change:j.L})((x=_=class extends p.a.PureComponent{constructor(...e){super(...e),u()(this,"handlePhotoIdChange",(e,t)=>{this.props.change(J,e,t)})}render(){var{documentsConfiguration:e}=this.props;return p.a.createElement(Q.c,W()({handleChange:this.handlePhotoIdChange,formValuesSelector:$},{documentsConfiguration:e}))}},u()(_,"propTypes",{change:b.a.func,documentsConfiguration:b.a.array}),k=x))||k)||k,te=n("+4TP"),ne=n("/LDt"),ae=n("61cg");function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oe(){var e=s()(["Save"]);return oe=function(){return e},e}function ie(){var e=s()(["Identity Check"]);return ie=function(){return e},e}function ce(){var e=s()(["Documents uploaded successfully"]);return ce=function(){return e},e}var se=Object(f.b)((e,t)=>({adyenAccountHolder:g.a.getAdyenAccountHolder(e),adyenBankAccount:g.a.getAdyenBankAccount(e),requiredKycSections:t.requiredKycSections||g.a.getRequiredKycSections(e),isPhotoIdFormValid:X(e),photoIdFormValues:$(e),documentsConfiguration:g.a.getAdyenOnboardingDocumentsConfiguration(e)}))((L=R=class extends d.PureComponent{constructor(...e){super(...e),u()(this,"state",{showConfirmPasswordModal:!0,password:null,bankStatementKey:null,companyRegistrationScreeningKey:null,debugDescription:null,loading:!0}),u()(this,"onConfirmPasswordSuccess",({password:e})=>this.setState({password:e,showConfirmPasswordModal:!1})),u()(this,"handleSubmitSuccess",()=>{V.a.addGlobalSuccessToast(Object(y.c)(ce())),Object(Y.b)(ae.l)}),u()(this,"handleSubmit",()=>{var e=Object(Q.e)(this.props.photoIdFormValues||[]);return V.a.adyenDocumentsUpload({data:{type:"adyen-documents-upload",attributes:{documentDetails:[...this.getBankStatementDocumentDetails(),...this.getCompanyRegistrationScreeningDetails(),...e].map(e=>(this.state.debugDescription&&(e.description=this.state.debugDescription),e))}},meta:{password:this.props.password||this.state.password}}).then(()=>Object(i.all)([V.a.readProvider(),V.a.readProviderBadgeStatus()])).then(this.props.handleSubmitSuccess||this.handleSubmitSuccess).catch(()=>{V.a.addGlobalErrorToast()})}),u()(this,"handleCancel",()=>{Object(Y.b)(ae.l)}),u()(this,"handleBankStatementChange",(e,t)=>{this.setState({bankStatementKey:t?t.key:null})}),u()(this,"handleCompanyRegistrationScreeningChange",(e,t)=>{this.setState({companyRegistrationScreeningKey:t?t.key:null})}),u()(this,"handleDescriptionChange",e=>{this.setState({debugDescription:e.target.value})})}componentDidMount(){Object(i.all)([V.a.readAdyenBankAccount(),V.a.readAdyenAccountHolder(),V.a.readAdyenFieldsConfiguration({step:"1"})]).then(()=>{this.setState({loading:!1})}).catch(()=>V.a.addGlobalErrorToast())}getBankStatementDocumentDetails(){return this.state.bankStatementKey?[{documentType:h.b,documentKey:this.state.bankStatementKey}]:[]}getCompanyRegistrationScreeningDetails(){return this.state.companyRegistrationScreeningKey?[{documentType:"COMPANY_REGISTRATION_SCREENING",documentKey:this.state.companyRegistrationScreeningKey}]:[]}isFormValid(){var{bankStatementKey:e,companyRegistrationScreeningKey:t}=this.state,{requiredKycSections:n,isPhotoIdFormValid:a}=this.props;return!(n.includes(te.a.BANK_STATEMENT)&&!e||n.includes(te.a.PHOTO_ID)&&!a||n.includes(te.a.COMPANY_REGISTRATION_SCREENING)&&!t)}getDescription(){var{adyenAccountHolder:{accountHolderDetails:e,legalEntity:t}}=this.props;return Object(y.f)('The uploaded documents must match the details for your bank account holder <strong>%{name}</strong>. <a href="%{learnMore}">Learn more.</a>',{updateDetailsLink:ae.f,learnMore:G.a,name:t===ne.a.BUSINESS?e.businessDetails.legalBusinessName:e.fullName},{a:(e,{href:t})=>p.a.createElement(F.n,{inheritFontSize:!0,linkTo:t},e)})}render(){var{buttonText:e,children:t,noPasswordConfirmation:n,backLink:a,handleCancel:r,stepPrefix:o,leftSectionTexts:i,requiredKycSections:c,documentsConfiguration:s}=this.props,{showConfirmPasswordModal:l,loading:u}=this.state;return p.a.createElement(U.b,{keys:q.a.EDIT_BILLING_INFO,withPlaceholder:!0},p.a.createElement(H.b,{isLoading:u,title:Object(y.c)(ie()),description:!u&&this.getDescription(),withPending:!0,disableActionButton:!this.isFormValid(),buttonOnAction:this.handleSubmit,buttonText:e||Object(y.c)(oe()),onExit:r||this.handleCancel,stepView:p.a.createElement(p.a.Fragment,null,c.includes(te.a.PHOTO_ID)&&p.a.createElement(ee,{documentsConfiguration:s,initialValues:Object(Q.d)(s)}),c.includes(te.a.BANK_STATEMENT)&&p.a.createElement(h.a,{handleChange:this.handleBankStatementChange}),c.includes(te.a.COMPANY_REGISTRATION_SCREENING)&&p.a.createElement(B,{handleChange:this.handleCompanyRegistrationScreeningChange}),p.a.createElement(v.b,{as:"input",type:"hidden",qaType:"document-description",onChange:this.handleDescriptionChange})),backLink:a,stepPrefix:o,wizardVariant:z.g.FRESHA_PAY,leftSectionTexts:i||z.a},t,!n&&l&&p.a.createElement(K.a,{onSuccess:this.onConfirmPasswordSuccess,onClose:this.handleCancel})))}},u()(R,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({children:b.a.bool,isPhotoIdFormValid:b.a.bool,requiredKycSections:b.a.array},E.a)),M=L))||M},yZJL:function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var a=n("pVnL"),r=n.n(a),o=n("QILm"),i=n.n(o),c=n("VkAN"),s=n.n(c),l=n("lSNA"),u=n.n(l),d=n("q1tI"),p=n.n(d),m=n("17x9"),b=n.n(m),f=n("TSYQ"),h=n.n(f),y=n("yzbm"),E=n("ePPS"),g=n("Jje6"),O=n("Qs7Y"),v=n("i6OX"),S=n("3wSE"),j=n("pZGx"),P=n("5ZU+"),N=n("kZhr");function A(e){var t=Math.floor(Math.log(e)/Math.log(1e3));return"".concat(1*(e/Math.pow(1e3,t)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][t])}var T=n("k37a"),C=n.n(T);function I(){var e=s()(["Upload"]);return I=function(){return e},e}function w(){var e=s()(["Drop"]);return w=function(){return e},e}function D(){var e=s()(["Please use images in JPG, JPEG, PNG or PDF format"]);return D=function(){return e},e}function k(){var e=s()(["You can upload one image at a time"]);return k=function(){return e},e}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=/\.(jpeg|jpg|pdf|png)$/i,R={boxSizing:"border-box",width:"100%",border:"1px dashed #E4ECEF",backgroundColor:"rgba(228,236,239,0.2)",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%"};class L extends d.PureComponent{constructor(...e){super(...e),u()(this,"state",{draggedOver:!1,progress:0,uploadFinished:Boolean(this.props.imageSrc),isUploading:!1,uploadedFileName:this.props.filename||""}),u()(this,"imageSrc",this.props.imageSrc||""),u()(this,"onDragEnter",()=>{this.setState({draggedOver:!0})}),u()(this,"onDragLeave",()=>{this.setState({draggedOver:!1})}),u()(this,"onUploadProgress",({totalProgress:e})=>{this.setState({isUploading:null!==e,progress:e})}),u()(this,"onUploadFinish",()=>{this.setState({uploadFinished:!0})}),u()(this,"onImageDismissal",()=>{this.props.handleImageDismissal(),this.setState({uploadFinished:!1})}),u()(this,"signatureCreationHandlerCreator",e=>()=>P.a.adyenPresignUploadUrl({data:{attributes:{fileName:e}}}).then(e=>x(x({},e.body.data.attributes.fields),{},{url:e.body.data.attributes.url}))),u()(this,"handleUpload",(e,t)=>{this.props.handleUpload(e,t,{imageSrc:this.imageSrc,filename:this.state.uploadedFileName})}),u()(this,"onDrop",e=>{var t=this.filterFiles(e);if(this.imageSrc=URL.createObjectURL(t),t){this.setState({uploadedFileName:t.name,uploadFinished:!1});try{var n=new j.a([t],this.signatureCreationHandlerCreator(t.name));n.registerCompletionCallback(this.handleUpload),n.registerProgressCallback(this.onUploadProgress),n.registerFinishCallback(this.onUploadFinish),n.startUpload()}catch(e){P.a.addGlobalErrorToast()}}})}filterFiles(e){var{maxFileSize:t,minPdfSize:n,minImageSize:a}=this.props,r=e[0];if(e.length>1)P.a.addGlobalErrorToast(Object(E.c)(k()));else if(r.name.match(M))if(r.size>t)P.a.addGlobalErrorToast(Object(E.c)("Please use a image with size below %{maxFileSize}.",{maxFileSize:A(t)}));else if(r.name.endsWith(".pdf")&&r.size<n)P.a.addGlobalErrorToast(Object(E.c)("Please use a file with size over %{minPdfSize}.",{minPdfSize:A(n)}));else{if(r.name.endsWith(".pdf")||!(r.size<a))return r;P.a.addGlobalErrorToast(Object(E.c)("Please use a file with size over %{minImageSize}.",{minImageSize:A(a)}))}else P.a.addGlobalErrorToast(Object(E.c)(D()));return null}render(){var{isUploading:e,progress:t,uploadFinished:n,uploadedFileName:a,draggedOver:o}=this.state,c=this.props,{note:s,title:l}=c,u=i()(c,["note","title"]),d=h()(C.a.dropzone,{[C.a.uploadFinished]:n,[C.a.draggedOver]:o});return p.a.createElement(N.p,r()({className:C.a.self,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave},u),p.a.createElement(y.a,{accept:["image/jpeg","image/jpg","application/pdf","image/png"],onDropAccepted:this.onDrop},({getRootProps:r,getInputProps:i})=>p.a.createElement(g.b,r({className:d,style:R,refKey:"innerRef"}),n?p.a.createElement(p.a.Fragment,null,p.a.createElement(g.b,{className:C.a.imageWrapper},p.a.createElement(g.b,{className:C.a.bgImg,style:{backgroundImage:"url('".concat(this.imageSrc,"')")}})),a&&p.a.createElement(O.d,{noMargin:!0,className:C.a.title},Object(E.c)("Uploaded: %{uploadedFileName}",{uploadedFileName:a||l})),p.a.createElement(S.b,{onAction:this.onImageDismissal,className:C.a.removeFile,name:"close"})):p.a.createElement(g.b,{className:C.a.content},e?p.a.createElement(p.a.Fragment,null,p.a.createElement(g.b,{className:h()(C.a.imageWrapper,C.a.isUploading)},p.a.createElement(v.b,{size:"large",color:"gray-6",name:"blank-file"})),p.a.createElement(g.b,{className:C.a.progressBar,style:{backgroundPositionX:"-".concat(t,"%")}})):p.a.createElement(p.a.Fragment,null,p.a.createElement(g.b,{className:C.a.imageWrapper},p.a.createElement(v.b,{size:"large",color:"gray-6",name:"blank-file"})),p.a.createElement(O.d,{noMargin:!0,className:C.a.title},l),p.a.createElement(g.b,{className:h()(C.a.badge)},o?Object(E.c)(w()):Object(E.c)(I())))),p.a.createElement("input",i()))))}}u()(L,"propTypes",{handleUpload:b.a.func,handleImageDismissal:b.a.func,note:b.a.node,title:b.a.string,icon:b.a.string,maxFileSize:b.a.number,minPdfSize:b.a.number,minImageSize:b.a.number,filename:b.a.string,imageSrc:b.a.string})}}]);