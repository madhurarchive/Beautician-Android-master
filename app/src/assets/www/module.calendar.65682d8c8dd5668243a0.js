(window.webpackJsonp=window.webpackJsonp||[]).push([[271],{"+STE":function(e,t){e.exports='<svg viewBox="0 0 375 351" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a" d="M0 0h1216v1216H0z"></path><rect id="d" width="153" height="78" rx="4"></rect><filter x="-20.3%" y="-29.5%" width="140.5%" height="179.5%" filterUnits="objectBoundingBox" id="c"><feOffset dy="8" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation="9" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0.062745098 0 0 0 0 0.0980392157 0 0 0 0 0.156862745 0 0 0 0.4 0" in="shadowBlurOuter1"></feColorMatrix></filter></defs><g transform="translate(-413 -865)" fill="none" fill-rule="evenodd"><mask id="b" fill="#fff"><use xlink:href="#a"></use></mask><use fill="#F3F3F4" xlink:href="#a"></use><g mask="url(#b)"><path fill="#D8D8D8" d="M461 898h327v1H461zM461 985h327v1H461zM461 1072h327v1H461zM461 1159h327v1H461z"></path><path fill="#D8D8D8" d="M625 863h1v355h-1zM461 863h1v355h-1z"></path><g transform="translate(466 903)"><rect fill="#FFBF69" width="154" height="78" rx="4"></rect><text font-family="Muli-Regular, Muli" font-size="13" fill="#101928"><tspan x="9" y="21">9:00am - 10:00am</tspan></text><text font-family="Muli-Bold, Muli" font-size="14" font-weight="bold" fill="#101928"><tspan x="10" y="43">Jessie Wallback</tspan></text><g transform="translate(0 261)"><rect fill="#FF9CBB" width="154" height="78" rx="4"></rect><text font-family="Muli-Regular, Muli" font-size="13" fill="#101928"><tspan x="9" y="21">12:00pm - 1:00pm</tspan></text><text font-family="Muli-Bold, Muli" font-size="14" font-weight="bold" fill="#101928"><tspan x="10" y="43">Mary Swanson</tspan></text></g><text font-family="Muli-Regular, Muli" font-size="13" fill="#101928"><tspan x="10" y="64">Haircut</tspan></text></g><path fill="#F3F3F4" d="M412 892h49v144h-49z"></path><path fill="#D8D8D8" d="M461 863h1v339h-1z"></path><text font-family="Muli-Bold, Muli" font-size="13" font-weight="bold" transform="translate(412 863)"><tspan x="11.956" y="43" fill="#101928">9:00</tspan><tspan x="19.535" y="58" font-family="Muli-Regular, Muli" font-weight="normal" fill="#101928">am</tspan></text><text font-family="Muli-Bold, Muli" font-size="13" font-weight="bold" transform="translate(412 863)"><tspan x="4.497" y="131" fill="#101928">10:00</tspan><tspan x="19.535" y="146" font-family="Muli-Regular, Muli" font-weight="normal" fill="#101928">am</tspan></text><text font-family="Muli-Bold, Muli" font-size="13" font-weight="bold" transform="translate(412 863)"><tspan x="4.497" y="218" fill="#101928">11:00</tspan><tspan x="19.535" y="233" font-family="Muli-Regular, Muli" font-weight="normal" fill="#101928">am</tspan></text><text font-family="Muli-Bold, Muli" font-size="13" font-weight="bold" transform="translate(412 863)"><tspan x="4.497" y="305" fill="#101928">12:00</tspan><tspan x="19.313" y="320" font-family="Muli-Regular, Muli" font-weight="normal" fill="#101928">pm</tspan></text></g></g></svg>'},"+VVo":function(e,t){e.exports='<svg viewBox="0 0 375 351" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a" d="M0 0h1216v1216H0z"></path><rect id="d" width="153" height="78" rx="4"></rect><filter x="-20.3%" y="-29.5%" width="140.5%" height="179.5%" filterUnits="objectBoundingBox" id="c"><feOffset dy="8" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation="9" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0.062745098 0 0 0 0 0.0980392157 0 0 0 0 0.156862745 0 0 0 0.4 0" in="shadowBlurOuter1"></feColorMatrix></filter></defs><g transform="translate(-413 -865)" fill="none" fill-rule="evenodd"><mask id="b" fill="#fff"><use xlink:href="#a"></use></mask><use fill="#F3F3F4" xlink:href="#a"></use><g mask="url(#b)"><path fill="#D8D8D8" d="M461 898h327v1H461zM461 985h327v1H461zM461 1072h327v1H461zM461 1159h327v1H461z"></path><path fill="#D8D8D8" d="M625 863h1v355h-1zM461 863h1v355h-1z"></path><g transform="translate(466 903)"><rect fill="#FFBF69" width="153" height="78" rx="4"></rect><text font-family="Muli-Regular, Muli" font-size="13" fill="#101928"><tspan x="9" y="21">9:00am - 10:00am</tspan></text><text font-family="Muli-Bold, Muli" font-size="14" font-weight="bold" fill="#101928"><tspan x="10" y="43">Jessie Wallback</tspan></text><g transform="translate(0 261)"><rect fill="#FF9CBB" width="153" height="78" rx="4"></rect><text font-family="Muli-Regular, Muli" font-size="13" fill="#101928"><tspan x="9" y="21">12:00pm - 1:00pm</tspan></text><text font-family="Muli-Bold, Muli" font-size="14" font-weight="bold" fill="#101928"><tspan x="10" y="43">Mary Swanson</tspan></text></g><text font-family="Muli-Regular, Muli" font-size="13" fill="#101928"><tspan x="10" y="64">Haircut</tspan></text></g><path fill="#F3F3F4" d="M412 892h49v144h-49z"></path><path fill="#D8D8D8" d="M461 863h1v339h-1z"></path><text font-family="Muli-Bold, Muli" font-size="13" font-weight="bold" transform="translate(412 863)"><tspan x="11.956" y="43" fill="#101928">9:00</tspan><tspan x="19.535" y="58" font-family="Muli-Regular, Muli" font-weight="normal" fill="#101928">am</tspan></text><text font-family="Muli-Bold, Muli" font-size="13" font-weight="bold" transform="translate(412 863)"><tspan x="4.497" y="131" fill="#101928">10:00</tspan><tspan x="19.535" y="146" font-family="Muli-Regular, Muli" font-weight="normal" fill="#101928">am</tspan></text><text font-family="Muli-Bold, Muli" font-size="13" font-weight="bold" transform="translate(412 863)"><tspan x="4.497" y="218" fill="#101928">11:00</tspan><tspan x="19.535" y="233" font-family="Muli-Regular, Muli" font-weight="normal" fill="#101928">am</tspan></text><text font-family="Muli-Bold, Muli" font-size="13" font-weight="bold" transform="translate(412 863)"><tspan x="4.497" y="305" fill="#101928">12:00</tspan><tspan x="19.313" y="320" font-family="Muli-Regular, Muli" font-weight="normal" fill="#101928">pm</tspan></text></g></g></svg>'},"/6vn":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ll}));var a=n("lSNA"),i=n.n(a),r=n("Y+p1"),o=n.n(r),s=n("lFKM"),l=n.n(s),c=n("q1tI"),d=n.n(c),u=n("Ty5D"),m=n("/MKj"),h=n("df8d"),p=n("5ZU+"),f=n("+Gzo"),g=n("erLI"),v=n("nbpM"),b=n("V0dS"),E=n("VkAN"),y=n.n(E),O=n("17x9"),T=n.n(O),S=n("6+t1"),w=n("/Q2I"),j=n("3wSE"),C=n("/d1K"),D=n("XOD0"),I=n("L8xJ"),x=n("ePPS"),M=n("Jje6"),N=n("6kH+"),P=n("g5rd"),A=n("HJiA"),R=n.n(A),k=n("pVnL"),L=n.n(k),F=n("QILm"),B=n.n(F),q=n("Vows"),H=n("LpYO"),z=n.n(H);class W extends c.PureComponent{render(){var e=this.props,{isActive:t,qaSuffix:n}=e,a=B()(e,["isActive","qaSuffix"]);return d.a.createElement(q.x,L()({qaType:n?"drawer-row-button-".concat(n):"drawer-row-button",containerClassName:z.a.smallerPadding},t&&{className:z.a.isActive},a))}}i()(W,"propTypes",{isActive:T.a.bool,qaSuffix:T.a.string});var _=n("TSYQ"),Y=n.n(_),U=n("i6OX"),V=n("Qs7Y"),G=n("CWHp"),K=n.n(G),Q={WHITE:"white",GRAY:"gray"};class J extends c.PureComponent{render(){var{icon:e,label:t,active:n,onAction:a,bgColor:i,withTouchAnimation:r,qaType:o}=this.props,s={color:n?"white":"gray-7",size:"big",name:e};return d.a.createElement(M.a,{onAction:a,className:K.a.self},d.a.createElement(M.b,{className:Y()(K.a.iconContainer,K.a["".concat(i,"Background")],{[K.a.active]:n})},r?d.a.createElement(j.b,L()({},s,{qaType:o})):d.a.createElement(U.b,s)),t&&d.a.createElement(V.d,{className:K.a.label,type:"item-name"},t))}}i()(J,"propTypes",{icon:T.a.string.isRequired,label:T.a.string,active:T.a.bool,onAction:T.a.func,qaType:T.a.string,bgColor:T.a.oneOf(Object.values(Q)),withTouchAnimation:T.a.bool}),i()(J,"defaultProps",{bgColor:Q.GRAY});var X,Z,$,ee=n("jZyx"),te=n.n(ee);function ne(){var e=y()(["All Resources"]);return ne=function(){return e},e}function ae(){var e=y()(["Resources"]);return ae=function(){return e},e}function ie(){var e=y()(["Working Staff"]);return ie=function(){return e},e}function re(){var e=y()(["All Staff"]);return re=function(){return e},e}function oe(){var e=y()(["Staff"]);return oe=function(){return e},e}function se(){var e=y()(["Location"]);return se=function(){return e},e}function le(){Object(D.c)(Object(f.B)())}var ce,de,ue,me=Object(m.b)(e=>{var t=v.a.getCalendarAction(e),n=v.a.getCalendarLocationsList(e);return{locationFiltersVisible:t!==g.n&&t!==g.m&&n.length>1,selectedLocation:v.a.getCalendarLocation(e),employees:v.a.getCalendarEmployeeList(e),rooms:v.a.getCalendarRoomsList(e),resourceType:v.a.getCalendarResourceType(e),resourceId:v.a.getCalendarResourceId(e)}})(($=Z=class extends c.PureComponent{render(){var{employees:e,rooms:t,resourceType:n,resourceId:a,locationFiltersVisible:i,selectedLocation:r}=this.props,o=n===g.o.EMPLOYEE&&null===a,s=n===g.o.ROOM&&null===a;return d.a.createElement(d.a.Fragment,null,i&&[d.a.createElement(N.b,{qaType:"location-drawer-header",contentClassName:te.a.headerSmallPadding,label:Object(x.c)(se())}),d.a.createElement(W,{qaSuffix:"location-".concat(r.id),prefix:d.a.createElement(P.c,{locationId:r.id}),onAction:le,noBorder:!0},r.name)],d.a.createElement(N.b,{contentClassName:te.a.headerSmallPadding,label:Object(x.c)(oe())}),e.length>1&&d.a.createElement(d.a.Fragment,null,d.a.createElement(W,{prefix:d.a.createElement(J,{icon:"all-staff",active:o}),suffix:null,isActive:o,onAction:Object(b.o)("resource",g.c)},Object(x.c)(re())),d.a.createElement(W,{prefix:d.a.createElement(J,{icon:"working-staff",active:a===g.u}),suffix:null,isActive:a===g.u,onAction:Object(b.o)("resource",g.t)},Object(x.c)(ie()))),e.map(e=>d.a.createElement(W,{prefix:d.a.createElement(P.b,{name:e.firstName,avatar:e.avatar,size:"medium",withOutlinePadding:!0,color:e.appointmentColor,outlineColor:n===g.o.EMPLOYEE&&a===e.id&&R.a.colorBlueDark}),suffix:null,key:e.id,isActive:n===g.o.EMPLOYEE&&a===e.id,leftLabel:e.title,onAction:Object(b.o)("resource","employee:".concat(e.id))},e.name)),t.length>0&&d.a.createElement(d.a.Fragment,null,d.a.createElement(N.b,{label:Object(x.c)(ae())}),t.length>1&&d.a.createElement(W,{prefix:d.a.createElement(J,{icon:"resource",active:s}),suffix:null,isActive:s,onAction:Object(b.o)("resource",g.d)},Object(x.c)(ne())),t.map(e=>{var t=n===g.o.ROOM&&a===e.id;return d.a.createElement(W,{key:e.id,prefix:d.a.createElement(J,{icon:"resource",active:t}),suffix:null,isActive:t,onAction:Object(b.o)("resource","room:".concat(e.id))},e.name)})))}},i()(Z,"propTypes",{employees:T.a.arrayOf(T.a.object),rooms:T.a.arrayOf(T.a.object),resourceType:T.a.oneOf(Object.values(g.o)),resourceId:T.a.string,locationFiltersVisible:T.a.bool,selectedLocation:T.a.object}),X=$))||X;function he(){var e=y()(["Week"]);return he=function(){return e},e}function pe(){var e=y()(["3 Days"]);return pe=function(){return e},e}function fe(){var e=y()(["Day"]);return fe=function(){return e},e}function ge(){var e=y()(["Calendar view"]);return ge=function(){return e},e}var ve,be,Ee,ye=Object(m.b)(e=>({calendarView:v.a.getCalendarView(e)}))((ue=de=class extends c.PureComponent{render(){var{calendarView:e}=this.props;return d.a.createElement(M.b,{className:te.a.drawerRoot},d.a.createElement(N.b,{contentClassName:te.a.headerSmallPadding,label:Object(x.c)(ge())}),d.a.createElement(M.b,{className:te.a.viewSwitchContainer},d.a.createElement(J,{bgColor:"white",withTouchAnimation:!0,icon:"calendar-drawer-day",qaType:"calendar-drawer-day",label:Object(x.c)(fe()),active:e===g.s.DAY,onAction:Object(b.o)("view",g.s.DAY)}),d.a.createElement(J,{bgColor:"white",withTouchAnimation:!0,icon:"calendar-drawer-days-3",qaType:"calendar-drawer-days-3",label:Object(x.c)(pe()),active:e===g.s.DAY_3,onAction:Object(b.o)("view",g.s.DAY_3)}),d.a.createElement(J,{bgColor:"white",withTouchAnimation:!0,icon:"calendar-drawer-week",qaType:"calendar-drawer-week",label:Object(x.c)(he()),active:e===g.s.WEEK,onAction:Object(b.o)("view",g.s.WEEK)})),d.a.createElement(me,null))}},i()(de,"propTypes",{calendarView:T.a.string}),ce=ue))||ce;function Oe(){var e=y()(["Location"]);return Oe=function(){return e},e}var Te,Se,we,je,Ce,De,Ie=Object(m.b)(e=>({locations:v.a.getCalendarLocationsList(e),locationId:v.a.getCalendarLocationId(e)}))((Ee=be=class extends c.PureComponent{render(){var e=this.props,{locations:t,locationId:n}=e,a=B()(e,["locations","locationId"]);return d.a.createElement(M.b,a,d.a.createElement(N.b,{contentClassName:te.a.headerSmallPadding,label:Object(x.c)(Oe())}),t.map((e,a)=>{var i=e.id===n;return d.a.createElement(W,{qaSuffix:"location-".concat(e.id),prefix:d.a.createElement(P.c,{locationId:String(e.id),active:i}),key:e.id,isActive:i,onAction:Object(b.o)("locationId",e.id),noBorder:a===t.length-1},e.name)}))}},i()(be,"propTypes",{locations:T.a.arrayOf(T.a.object),locationId:T.a.string}),ve=Ee))||ve,xe=Object(u.f)((we=Se=class extends c.PureComponent{constructor(...e){super(...e),i()(this,"handleClose",()=>{Object(D.f)(Object(f.w)())}),i()(this,"handleBack",()=>{Object(D.b)(f.z)})}render(){var{location:{pathname:e}}=this.props;return d.a.createElement(C.d,{open:e.includes(f.l),onOverlayAction:this.handleClose,flex:"column"},d.a.createElement(w.g,{primaryAction:!e.endsWith(f.l)&&d.a.createElement(j.c,{onAction:this.handleBack}),onClose:this.handleClose,containerClassName:te.a.drawerHeader}),d.a.createElement(w.c,{noPadding:!0,wrapperClassName:te.a.modalContentWrapper},d.a.createElement(u.b,{path:f.j,render:()=>d.a.createElement(I.b,null,d.a.createElement(ye,null))}),d.a.createElement(u.b,{path:f.k,render:()=>d.a.createElement(S.c,{direction:S.a.LEFT,in:!0},d.a.createElement(I.b,{className:te.a.drawerSection},d.a.createElement(Ie,{qaType:"location-drawer",grow:1})))})))}},i()(Se,"propTypes",{location:T.a.shape({pathname:T.a.string})}),Te=we))||Te,Me=n("TSDZ"),Ne=n("vN+2"),Pe=n.n(Ne),Ae=n("UQJx"),Re=n("Tl70"),ke=n("dhJQ"),Le=n("rfSq"),Fe=n("yk2N"),Be=n("pBei"),qe=n("KSaN");function He(){var e=y()(["Date"]);return He=function(){return e},e}function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e,Ye,Ue,Ve=Object(Re.c)(),Ge=Object(Re.d)(),Ke=(e,t=Le.a.DAY,n)=>{if(t===Le.a.DAY){var a=Object(Fe.d)(e,n?"day_of_year":"day_of_year_long"),i=e.year();return"".concat(a,", ").concat(i)}var{rangeStart:r,rangeEnd:o}=Le.c[t](e);return Object(Fe.e)(r,o,"date",{same:["month","year"]})},Qe=Object(m.b)(e=>({view:v.a.getCalendarView(e),date:v.a.getCalendarDate(e),providerMoment:v.a.providerMoment(e)}),{mutateAndNavigateCalendarState:b.i},(e,t,n)=>{var{providerMoment:a}=e,i=B()(e,["providerMoment"]),{view:r,date:o}=i,{rangeStart:s,rangeEnd:l}=Le.c[r](o),c=a().isBetween(s.subtract(1,"second"),l.add(1,"second"),"day");return We(We(We(We({},n),i),t),{},{isTodayButtonActive:c})})(je=Object(ke.f)()((De=Ce=class extends c.PureComponent{constructor(...e){super(...e),i()(this,"onDateChange",e=>{this.setToolbarSelection("date",e.day)})}setToolbarSelection(e,t){this.props.mutateAndNavigateCalendarState(e,t)}render(){var{view:e,date:t,dateAsLink:n,hideButtons:a,isMatch:i,isTodayButtonActive:r,className:o}=this.props;return d.a.createElement(Ae.a,{label:Object(x.c)(He()),availableIntervals:[e],qaType:"date-selector",valueFormatter:Ke,input:We(We({},Ve),{},{name:"date",value:{interval:e,day:t},onChange:this.onDateChange}),onChange:this.onDateChange,meta:Ge,todayButtonActive:r,dateAsLink:n,hideButtons:a,align:"center",disabledDays:Pe.a,availableShortcuts:Be.a,calendarDatePicker:i,tight:i,className:o})}},i()(Ce,"propTypes",{className:qe.m,view:qe.m,date:qe.g,mutateAndNavigateCalendarState:qe.e,dateAsLink:qe.c,hideButtons:qe.c,isTodayButtonActive:qe.c,isMatch:qe.c}),je=De))||je)||je,Je=n("cLvt"),Xe=n.n(Je);function Ze(){var e=y()(["Calendar Tips"]);return Ze=function(){return e},e}function $e(){var e=y()(["Calendar Zoom"]);return $e=function(){return e},e}var et,tt,nt,at=Object(m.b)(e=>({view:v.a.getCalendarView(e)}))((Ue=Ye=class extends c.PureComponent{render(){var{view:e}=this.props;return e?d.a.createElement(M.b,{className:Xe.a.self,flex:"row",justifyContent:"space-between"},d.a.createElement(Me.f,{icon:"options",className:Xe.a.iconDropdownMenu,"data-qa":"mobile-toolbar"},d.a.createElement(Me.c,{linkTo:f.t,"data-qa":"calendar-zoom"},Object(x.c)($e())),d.a.createElement(Me.c,{linkTo:f.s,"data-qa":"calendar-tips"},Object(x.c)(Ze()))),d.a.createElement(Qe,{dateAsLink:!0,hideButtons:!0}),d.a.createElement(j.b,{color:"gray-7",size:"big",name:"filters",touchOverlay:!0,linkTo:f.M,activeHoverClassName:Xe.a.iconHover,qaType:"mobile-toolbar-btn"})):null}},i()(Ye,"propTypes",{view:T.a.string}),_e=Ue))||_e,it=n("8TPp"),rt=n("/pl8"),ot=n("jEzZ"),st=n("9wjN"),lt=n("X67z"),ct=n("PhEd"),dt=n("kZhr"),ut=n("TJnl"),mt=n("jwng"),ht=n("ytsJ"),pt=n("29/f"),ft=n.n(pt),gt=n("ZO1O"),vt=n("QBmR"),bt=n("vQPs"),Et=n.n(bt);function yt(){var e=y()(["End time must be later than start time"]);return yt=function(){return e},e}function Ot(){var e=y()(["e.g. lunch meeting"]);return Ot=function(){return e},e}function Tt(){var e=y()(["Description"]);return Tt=function(){return e},e}function St(){var e=y()(["End time"]);return St=function(){return e},e}function wt(){var e=y()(["Start time"]);return wt=function(){return e},e}function jt(){var e=y()(["Date"]);return jt=function(){return e},e}function Ct(){var e=y()(["Staff"]);return Ct=function(){return e},e}var Dt=dt.kb.maxLength(255),It="blocked-time",xt="employeeId",Mt="date",Nt="start",Pt="end",At="note",Rt={EMPLOYEE_ID_LABEL:Object(x.c)(Ct()),DATE_LABEL:Object(x.c)(jt()),START_LABEL:Object(x.c)(wt()),END_LABEL:Object(x.c)(St()),DESCRIPTION_LABEL:Object(x.c)(Tt())},kt=Object(x.c)(Ot()),Lt=dt.kb.required();function Ft(e){return e.map(({value:e,text:t})=>d.a.createElement("option",{key:e,value:e},t))}var Bt,qt,Ht,zt=Object(m.b)(e=>({reshedulEnabled:v.a.isReshedulEnabled(e)}))(et=Object(ke.g)()(et=Object(dt.q)({form:It,validate:e=>{var{start:t,end:n}=e;return n<=t?{end:Object(x.c)(yt())}:{}}})((nt=tt=class extends c.PureComponent{render(){var{employees:e=[],timeOptions:t,isMatch:n,reshedulEnabled:a}=this.props;return d.a.createElement(gt.d,{type:"plain popup-form"},d.a.createElement(vt.h,{name:Mt,label:Rt.DATE_LABEL,condensed:n,qaType:"blocked-time-date-picker"}),d.a.createElement(vt.r,{name:xt,label:Rt.EMPLOYEE_ID_LABEL,hideInvalidLabel:!0,validate:Lt,qaType:"blocked-time-staff"},e.map(e=>d.a.createElement("option",{key:e.id,value:e.id},e.name))),d.a.createElement(M.b,{flex:"row"},d.a.createElement(vt.r,{name:Nt,label:Rt.START_LABEL,hideInvalidLabel:!0,grow:1,parse:Number,qaType:"blocked-time-start",className:Et.a.flex},Ft(t)),d.a.createElement(vt.r,{name:Pt,label:Rt.END_LABEL,hideInvalidLabel:!0,grow:1,parse:Number,qaType:"blocked-time-end",className:Et.a.flex},Ft(t))),d.a.createElement(vt.s,{rows:n?1:3,label:Rt.DESCRIPTION_LABEL,type:"textarea",placeholder:kt,name:At,validate:Dt,qaType:"blocked-time-description",multiline:!!a||void 0}))}},i()(tt,"propTypes",{employees:T.a.array,timeOptions:T.a.array,isMatch:T.a.bool.isRequired,reshedulEnabled:T.a.bool}),et=nt))||et)||et)||et,Wt=n("HTL0");function _t(){var e=y()(["Delete"]);return _t=function(){return e},e}function Yt(){var e=y()(["Delete"]);return Yt=function(){return e},e}function Ut(){var e=y()(["Save"]);return Ut=function(){return e},e}function Vt(){var e=y()(["Save"]);return Vt=function(){return e},e}function Gt(){var e=y()(["Edit Blocked Time"]);return Gt=function(){return e},e}function Kt(){var e=y()(["New Blocked Time"]);return Kt=function(){return e},e}function Qt(){var e=y()(["Unable to update blocked time"]);return Qt=function(){return e},e}function Jt(){var e=y()(["Unable to create blocked time"]);return Jt=function(){return e},e}function Xt(){var e=y()(["Blocked time"]);return Xt=function(){return e},e}function Zt(){var e=y()(["Blocked time"]);return Zt=function(){return e},e}function $t(){var e=y()(["Unable to delete blocked time"]);return $t=function(){return e},e}function en(){var e=y()(["Blocked time"]);return en=function(){return e},e}var tn=Object(m.b)((e,t)=>{var{match:{params:{mode:n,blockedTimeId:a}=g.b}}=t;return{blockedTime:n===g.b?v.a.getTemporaryBlockedTime(e):v.a.getBlockedTime(e,a),isSubmitting:Object(dt.bb)(It)(e),mode:n,employees:v.a.getCalendarEmployeeList(e),timeOptions:Object(ht.c)(v.a.getProvider(e).timeFormat),locationId:v.a.getCalendarLocationId(e),reshedulEnabled:v.a.isReshedulEnabled(e)}},{submitForm:()=>Object(dt.hb)(It),refreshCalendar:b.m})((Ht=qt=class extends c.PureComponent{constructor(e){super(e),i()(this,"state",{deleting:!1}),i()(this,"handleDelete",()=>{var{blockedTime:e}=this.props;return this.setState({deleting:!0}),p.a.deleteBlockedTime(e.id).then(()=>{p.a.addDeletedToast(Object(x.c)(en())),Object(f.u)(),p.a.removeBlockedTimeFromORM(e.id),this.props.refreshCalendar()}).catch(()=>{p.a.addErrorToast(Object(x.c)($t()))}).finally(()=>{this.setState({deleting:!1})})}),i()(this,"handleCancel",()=>{Object(f.u)()}),i()(this,"handleSubmit",e=>{var t,n,{blockedTime:a,mode:i,locationId:r}=this.props,o={id:a.id,employeeId:e.employeeId,locationId:r,start:e.date.startOf("day").add(e.start,"seconds").format(ut.a),end:e.date.startOf("day").add(e.end,"seconds").format(ut.a),note:e.note};return(i===g.b?(t=o,n=Wt.a.blockedTimeCreateRequest(t),p.a.createBlockedTime(n)):(e=>{var t=Wt.a.blockedTimeUpdateRequest(e);return p.a.updateBlockedTime(e.id,t)})(o)).then(()=>{Object(f.u)(),i===g.b?p.a.addCreatedToast(Object(x.c)(Zt())):p.a.addUpdatedToast(Object(x.c)(Xt())),this.props.refreshCalendar()}).catch(e=>{Object(dt.ib)(e.response?e.response:e,{globalMessage:i===g.b?Object(x.c)(Jt()):Object(x.c)(Qt())})})}),e.blockedTime||Object(f.u)()}componentWillUnmount(){p.a.deleteTemporaryBlockedTimes()}render(){var{blockedTime:e,employees:t,timeOptions:n,submitForm:a,mode:i,isSubmitting:r,reshedulEnabled:o}=this.props,{deleting:s}=this.state;return e?d.a.createElement(w.i,{size:"small",stopActionEvents:!1,qaType:"blocked-time-modal"},d.a.createElement(w.g,{onClose:this.handleCancel,qaType:"blocked-time-header"},i===g.b?Object(x.c)(Kt()):Object(x.c)(Gt())),d.a.createElement(w.c,{noPadding:!0},d.a.createElement(zt,{onSubmit:this.handleSubmit,employees:t,timeOptions:n,initialValues:{[Mt]:e.start,[At]:e.note,[xt]:e.employeeId,[Nt]:Object(mt.p)(e.start),[Pt]:Object(mt.p)(e.end)}})),d.a.createElement(w.e,{embeddedToaster:!1,modalWindow:!0},o?d.a.createElement(ct.Button,{variant:"primary",isPending:r,disabled:s,onAction:a,qaType:"blocked-time-save-button",className:ft.a.flex},Object(x.c)(Vt())):d.a.createElement(j.f,{isPending:r,disabled:s,onAction:a,basis:"50%",grow:1,qaType:"blocked-time-save-button"},Object(x.c)(Ut())),i===g.h&&(o?d.a.createElement(ct.Button,{variant:"danger",onAction:this.handleDelete,disabled:r,withPending:!0,qaType:"blocked-time-delete-button",className:ft.a.flex},Object(x.c)(Yt())):d.a.createElement(j.g,{onAction:this.handleDelete,basis:"50%",disabled:r,withPending:!0,qaType:"blocked-time-delete-button"},Object(x.c)(_t()))))):null}},i()(qt,"propTypes",{employees:T.a.array,blockedTime:T.a.object,timeOptions:T.a.array,submitForm:T.a.func,mode:T.a.oneOf([g.b,g.h]),locationId:T.a.string,isSubmitting:T.a.bool,reshedulEnabled:T.a.bool,refreshCalendar:T.a.func}),Bt=Ht))||Bt,nn=n("5L+P"),an=n("nXwL"),rn=n("G4QT"),on=n.n(rn);function sn(){var e=y()(["Calendar tips"]);return sn=function(){return e},e}function ln(){var e=y()(["Calendar Zoom"]);return ln=function(){return e},e}class cn extends c.PureComponent{constructor(...e){super(...e),i()(this,"popupRef",d.a.createRef()),i()(this,"handleCalendarTipsClick",()=>{this.popupRef.current.closePopup(),Object(D.c)(Object(f.s)())})}render(){return d.a.createElement(nn.a,{as:j.a,className:on.a.self,contentClassName:on.a.popup,noTail:!0,ref:this.popupRef,popupContent:d.a.createElement(M.b,{className:on.a.optionsWrapper},d.a.createElement(M.b,{className:on.a.label},Object(x.c)(ln())),d.a.createElement(an.a,null),Object(st.f)()&&d.a.createElement(j.n,{onAction:this.handleCalendarTipsClick},Object(x.c)(sn())," "))},d.a.createElement(U.b,{name:"settings",size:"large"}))}}var dn,un,mn,hn,pn,fn,gn=n("N7pg"),vn=n("MBsQ"),bn=n.n(vn),En=Object(m.b)(e=>({locations:v.a.getCalendarLocationsList(e),isReshedulEnabled:v.a.isReshedulEnabled(e)}))((mn=un=class extends d.a.Component{constructor(...e){super(...e),i()(this,"onChange",e=>this.props.isReshedulEnabled?this.props.onChange(parseInt(e.target.value,10)):this.props.onChange(parseInt(e,10)))}render(){var{value:e,locations:t=[],disabled:n}=this.props;return t.length<1?null:d.a.createElement(gn.c,{value:e,onChange:this.onChange,disabled:n,className:bn.a.select,selectClass:bn.a.selector,iconRight:"chevron-down",iconSize:"medium","data-qa":"location-selector",noMargin:!0,size:"small"},t.map(e=>d.a.createElement("option",{key:e.id,value:e.id},e.name)))}},i()(un,"propTypes",{value:qe.f,locations:qe.b(qe.k),onChange:qe.e.isRequired,disabled:qe.c.isRequired,isReshedulEnabled:qe.c}),dn=mn))||dn;function yn(){var e=y()(["Resources"]);return yn=function(){return e},e}function On(){var e=y()(["Staff"]);return On=function(){return e},e}function Tn(){var e=y()(["All Resources"]);return Tn=function(){return e},e}function Sn(){var e=y()(["All Staff"]);return Sn=function(){return e},e}function wn(){var e=y()(["Working Staff"]);return wn=function(){return e},e}function jn(e,t){return t.map(t=>d.a.createElement("option",{key:"".concat(e,":").concat(t.id),value:"".concat(e,":").concat(t.id)},t.name))}function Cn(){return[d.a.createElement("option",{key:g.t,value:g.t},Object(x.c)(wn())),d.a.createElement("option",{key:g.c,value:g.c},Object(x.c)(Sn()))]}function Dn(e){return d.a.createElement("optgroup",{key:"employee-group",label:Object(x.c)(On())},e.length>1&&Cn(),jn("employee",e))}function In(e){var t=e.length>1;return d.a.createElement("optgroup",{key:"room-group",label:Object(x.c)(yn())},t&&[d.a.createElement("option",{key:g.d,value:g.d},Object(x.c)(Tn()))],jn("room",e))}var xn,Mn,Nn,Pn=Object(m.b)(e=>{var t=v.a.getCalendarAction(e);return{employees:v.a.getCalendarEmployeeList(e),rooms:t===g.e?[]:v.a.getCalendarRoomsList(e)}})((fn=pn=class extends d.a.Component{render(){var{value:e,employees:t=[],rooms:n=[]}=this.props;return d.a.createElement(gn.c,{value:e,onChange:this.props.onChange,className:bn.a.select,selectClass:bn.a.selector,iconRight:"chevron-down",iconSize:"medium","data-qa":"resource-selector",noMargin:!0,size:"small"},function(e,t){return t.length?[Dn(e),In(t)]:Cn().concat(jn("employee",e))}(t,n))}},i()(pn,"propTypes",{value:qe.m,employees:qe.b(qe.l({id:qe.f.isRequired,name:qe.m.isRequired})),rooms:qe.b(qe.l({id:qe.f.isRequired,name:qe.m.isRequired})),onChange:qe.e.isRequired}),hn=fn))||hn,An=n("pkfN"),Rn=n.n(An);function kn(){var e=y()(["Week"]);return kn=function(){return e},e}function Ln(){var e=y()(["3 Days"]);return Ln=function(){return e},e}function Fn(){var e=y()(["Day"]);return Fn=function(){return e},e}function Bn(){var e=y()(["Day"]);return Bn=function(){return e},e}function qn(){var e=y()(["3 Days"]);return qn=function(){return e},e}function Hn(){var e=y()(["Week"]);return Hn=function(){return e},e}var zn,Wn,_n,Yn={[g.s.DAY]:"calendar-view-day",[g.s.DAY_3]:"calendar-view-day",[g.s.WEEK]:"calendar-view-week"},Un=Object(ke.g)()((Nn=Mn=class extends c.PureComponent{constructor(...e){super(...e),i()(this,"handleChange",e=>{this.props.onChange(e)})}render(){var e=this.props,{value:t,onChange:n,isMatch:a}=e,i=B()(e,["value","onChange","isMatch"]);return d.a.createElement(M.b,L()({className:Rn.a.self},i),a?d.a.createElement(Me.a,{component:d.a.createElement(j.a,{className:Y()(Rn.a.selectButton)},d.a.createElement(U.b,{className:Rn.a.icon,name:Yn[t]}))},d.a.createElement(Me.c,{onAction:()=>n(g.s.WEEK)},Object(x.c)(Hn())),d.a.createElement(Me.c,{onAction:()=>n(g.s.DAY_3)},Object(x.c)(qn())),d.a.createElement(Me.c,{onAction:()=>n(g.s.DAY)},Object(x.c)(Bn()))):d.a.createElement(M.b,{flex:"row"},d.a.createElement(gn.c,{value:t,onChange:this.handleChange,className:bn.a.select,selectClass:bn.a.selector,iconRight:"chevron-down",iconSize:"medium","data-qa":"view-range-selector",noMargin:!0,size:"small"},d.a.createElement("option",{key:g.s.DAY,value:g.s.DAY},Object(x.c)(Fn())),d.a.createElement("option",{key:g.s.DAY_3,value:g.s.DAY_3},Object(x.c)(Ln())),d.a.createElement("option",{key:g.s.WEEK,value:g.s.WEEK},Object(x.c)(kn())))))}},i()(Mn,"propTypes",{value:T.a.string,onChange:T.a.func.isRequired,className:T.a.string,isMatch:T.a.bool}),xn=Nn))||xn,Vn=n("qGVk"),Gn=n("+aWU"),Kn=n("IsK/"),Qn=n.n(Kn);function Jn(){var e=y()(["Today"]);return Jn=function(){return e},e}var Xn,Zn,$n,ea,ta,na,aa=Object(m.b)(e=>({providerMoment:v.a.providerMoment(e)}))((_n=Wn=class extends c.PureComponent{constructor(...e){super(...e),i()(this,"handleTodayClick",()=>{var{providerMoment:e}=this.props;p.a.setForceFetchMutableCalendarPayload(!0),Gn.a(),this.props.mutateAndNavigateCalendarState("date",e()),p.a.calendarScrollToNow()})}render(){return d.a.createElement(Vn.b,{rootAction:{tooltip:Object(x.c)(Jn()),content:d.a.createElement(U.b,{name:"calendar-today",color:"original"}),buttonClassName:Qn.a.todayButton},actions:[{onAction:this.handleTodayClick}],noFillRootIcon:!0,floatClassName:Y()(Qn.a.float,{[Qn.a.desktop]:!Object(st.f)()}),transitionSelfAppear:Qn.a.floatAppear,transitionSelfAppearActive:Qn.a.floatAppearActive})}},i()(Wn,"propTypes",{mutateAndNavigateCalendarState:T.a.func,providerMoment:T.a.func}),zn=_n))||zn;function ia(){var e=y()(["New Appointment"]);return ia=function(){return e},e}function ra(){var e=y()(["New Blocked Time"]);return ra=function(){return e},e}function oa(){var e=y()(["New Sale"]);return oa=function(){return e},e}var sa,la,ca,da=(Xn=Object(ke.g)("isMatchMediumMax"),Zn=Object(ke.e)("isMatchExtraLarge"),$n=Object(m.b)((e,{location:{pathname:t}})=>({resourceType:v.a.getCalendarResourceType(e),isFloatingMenuDisabled:!!v.a.getCalendarAction(e)||v.a.isCalendarDragInProgress(e)||null!==v.a.getCalendarTimeSelectionFract(e)||t.includes(f.e),canBookAppointments:v.a.getCurrentPermissions(e)[lt.a.CAN_BOOK_APPOINTMENTS],canCheckoutSales:v.a.getCurrentPermissions(e)[lt.a.CAN_CHECKOUT_SALES]}),{openNewAppointmentModalForCalendarDate:b.k,openCheckoutForCalendarLocation:b.j,mutateAndNavigateCalendarState:b.i}),Xn(ea=Zn(ea=Object(u.f)(ea=$n((na=ta=class extends c.PureComponent{constructor(...e){super(...e),i()(this,"handleNewBlockedTimeClick",()=>{Object(D.c)(Object(f.F)())})}render(){var{canCheckoutSales:e,canBookAppointments:t,resourceType:n,isFloatingMenuDisabled:a,hideOnMobile:i,hideOnDesktop:r,isMatchExtraLarge:o,isMatchMediumMax:s}=this.props,l=[{id:"calendar-new-sale",tooltip:Object(x.c)(oa()),onAction:Object(rt.c)(e,this.props.openCheckoutForCalendarLocation),content:d.a.createElement(U.b,{name:"nav-m-sales"}),qaType:"calendar-new-sale"}];return n!==g.o.ROOM&&l.push({id:"calendar-new-blocked-time",tooltip:Object(x.c)(ra()),onAction:Object(rt.c)(t,this.handleNewBlockedTimeClick),content:d.a.createElement(U.b,{name:"clock"}),qaType:"calendar-new-blocked-time"}),l.push({id:"calendar-new-appointment",tooltip:Object(x.c)(ia()),onAction:Object(rt.c)(t,this.props.openNewAppointmentModalForCalendarDate),content:d.a.createElement(U.b,{name:"nav-m-calendar"}),qaType:"calendar-new-appointment"}),d.a.createElement(d.a.Fragment,null,d.a.createElement(Vn.a,{actions:l,disabled:a,hideOnMobile:i||a,hideOnDesktop:r,iconOnlyOnDesktop:!o,buttonSize:"small"}),s&&!a&&d.a.createElement(aa,{mutateAndNavigateCalendarState:this.props.mutateAndNavigateCalendarState}))}},i()(ta,"propTypes",{resourceType:qe.m,isFloatingMenuDisabled:qe.c.isRequired,canBookAppointments:qe.c,canCheckoutSales:qe.c,openNewAppointmentModalForCalendarDate:qe.e,openCheckoutForCalendarLocation:qe.e,hideOnMobile:qe.c,hideOnDesktop:qe.c,isMatchMediumMax:qe.c,isMatchExtraLarge:qe.c,mutateAndNavigateCalendarState:qe.e}),ea=na))||ea)||ea)||ea)||ea),ua=n("X1XK"),ma=n.n(ua),ha=Object(m.b)(e=>{var t=v.a.getCalendarLocationsList(e),n=v.a.getCalendarAction(e),a=v.a.getCalendarEmployeeList(e),i=v.a.getCalendarRoomsList(e),r=n===g.n||n===g.m;return{view:v.a.getCalendarView(e),locationId:v.a.getCalendarLocationId(e),resourceType:v.a.getCalendarResourceType(e),resourceId:v.a.getCalendarResourceId(e),disableLocationSelector:r,showLocations:t.length>1,showResources:a.length+i.length>1}},{mutateAndNavigateCalendarState:b.i})((ca=la=class extends c.PureComponent{constructor(...e){super(...e),i()(this,"onViewChange",e=>{var t=e.target?e.target.value:e;return this.setToolbarSelection("view",t)}),i()(this,"onResourceChange",e=>{var t=e.target?e.target.value:e;return this.setToolbarSelection("resource",t)}),i()(this,"onLocationChange",e=>{Object(b.l)(e).then(()=>{this.setToolbarSelection("locationId",e)})})}setToolbarSelection(e,t){this.props.mutateAndNavigateCalendarState(e,t)}render(){var{view:e,locationId:t,resourceType:n,resourceId:a,disableLocationSelector:i,showLocations:r,showResources:o}=this.props;return e?d.a.createElement(M.b,{className:ma.a.self,flex:"row",justifyContent:"space-between"},d.a.createElement(M.b,{className:ma.a.selectorGroup},r&&d.a.createElement(En,{disabled:i,value:t,onChange:this.onLocationChange,qaType:"location-selector"}),o&&d.a.createElement(Pn,{value:"".concat(n,":").concat(a||""),onChange:this.onResourceChange})),d.a.createElement(M.b,{className:ma.a.selectorGroup},d.a.createElement(Qe,null)),d.a.createElement(M.b,{className:ma.a.selectorGroup},d.a.createElement(cn,null),d.a.createElement(Un,{value:e,onChange:this.onViewChange,qaType:"view-selector"}),d.a.createElement(da,{hideOnMobile:!0}))):null}},i()(la,"propTypes",{view:qe.m,locationId:qe.f,resourceType:qe.m,resourceId:qe.m,disableLocationSelector:qe.c.isRequired,showLocations:qe.c.isRequired,showResources:qe.c.isRequired,mutateAndNavigateCalendarState:qe.e}),sa=ca))||sa,pa=n("mwIZ"),fa=n.n(pa),ga=n("Q2AE"),va=n("k2fX"),ba=n("XOuL"),Ea=n("/p01"),ya=n.n(Ea);function Oa(){var e=y()(["Shift start must be before shift end"]);return Oa=function(){return e},e}function Ta(){var e=y()(["Shift is overlapping"]);return Ta=function(){return e},e}var Sa="add",wa="edit",ja="delete",Ca="update",Da="edit-schedule-item",Ia={SHIFTS:"shifts",REPEATS:"repeats",END_REPEAT:"end_repeat",END_DATE:"end_date"},xa={DONT_REPEAT:"DONT_REPEAT",WEEKLY:"WEEKLY"},Ma={ONGOING:"ONGOING",SPECIFIC_DATE:"SPECIFIC_DATE"},Na={OVERLAPPING:Object(x.c)(Ta()),START_BEFORE_END:Object(x.c)(Oa())};function Pa(){var e=y()(["Unable to delete working hours"]);return Pa=function(){return e},e}function Aa(){var e=y()(["Working hours"]);return Aa=function(){return e},e}function Ra(){var e=y()(["Unable to update working hours"]);return Ra=function(){return e},e}function ka(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function La(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ka(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ka(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fa(){var e=y()(["Working hours"]);return Fa=function(){return e},e}var Ba,qa,Ha,za=e=>Object(dt.I)(Da,Ia.SHIFTS,e),Wa=(e,t)=>p.a.updateSchedule(e).then(()=>{ga.a.dispatch(Object(b.m)()),Object(f.u)(),p.a.addCreatedToast(Object(x.c)(Fa()))}).catch(n=>{var{collisionsConfirmationRequired:a,offlineLocationProfilesConfirmationRequired:i}=Object(va.c)(n,["collisions-confirmation-required","offline-location-profiles-confirmation-required"]);a?Object(D.c)(Object(f.C)(),La(La({},t),{},{formattedRequest:e,mode:Ca})):i?Object(D.c)(Object(f.D)(),La(La({},t),{},{formattedRequest:e,affectedLocationProfiles:i.affectedLocationProfiles})):p.a.addErrorToast(Object(x.c)(Ra()))}),_a=({locationId:e,employeeId:t,date:n,dateEnd:a,confirmCollisions:i,confirmOfflineLocationProfiles:r,employeeFirstName:o})=>p.a.deleteSchedule({locationId:e,employeeId:t,date:n,dateEnd:a,confirmCollisions:i,confirmOfflineLocationProfiles:r}).then(()=>{p.a.addDeletedToast(Object(x.c)(Aa())),p.a.deleteScheduleItemsForEmployee(t,n),ga.a.dispatch(Object(b.m)()),Object(f.u)()}).catch(r=>{var{collisionsConfirmationRequired:s,offlineLocationProfilesConfirmationRequired:l}=Object(va.c)(r,["collisions-confirmation-required","offline-location-profiles-confirmation-required"]);s?Object(D.c)(Object(f.C)(),{employeeId:t,date:n,dateEnd:a,employeeFirstName:o,locationId:e,mode:ja}):l?Object(D.c)(Object(f.D)(),{employeeId:t,date:n,dateEnd:a,confirmCollisions:i,locationId:e,affectedLocationProfiles:l.affectedLocationProfiles}):p.a.addErrorToast(Object(x.c)(Pa()))}),Ya=n("jDCS"),Ua=n("H0Qh"),Va=n.n(Ua);function Ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ka(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qa(){var e=y()(["Update"]);return Qa=function(){return e},e}function Ja(){var e=y()(["Update upcoming shifts"]);return Ja=function(){return e},e}function Xa(){var e=y()(["Update this shift only"]);return Xa=function(){return e},e}function Za(){var e=y()(["Repeating Shift"]);return Za=function(){return e},e}function $a(){var e=y()(["Delete"]);return $a=function(){return e},e}function ei(){var e=y()(["Delete upcoming shifts"]);return ei=function(){return e},e}function ti(){var e=y()(["Delete this shift only"]);return ti=function(){return e},e}function ni(){var e=y()(["Repeating Shift"]);return ni=function(){return e},e}var ai={SINGLE:"SINGLE",UPCOMING:"UPCOMING"},ii=Object(Ya.a)("collision-confirmation-modal"),ri=(e,t)=>{if(t)if(t.dateEnd){if(e===ja)return Object(x.c)("You are deleting a shift that repeats weekly. Deleting upcoming shifts will overwrite %{employeeFirstName}’s %{weekDay} schedule up to %{dateEnd}.",t);if(e===Ca)return Object(x.c)("You have edited a shift that repeats weekly. Updating upcoming shifts will overwrite %{employeeFirstName}’s ongoing %{weekDay} schedule up to %{dateEnd}.",t)}else{if(e===ja)return Object(x.c)("You are deleting a shift that repeats weekly. Deleting upcoming shifts will overwrite %{employeeFirstName}’s %{weekDay} schedule.",t);if(e===Ca)return Object(x.c)("You have edited a shift that repeats weekly. Updating upcoming shifts will overwrite %{employeeFirstName}’s ongoing %{weekDay} schedule.",t)}},oi=(e,t,n)=>({[ja]:{MESSAGE:ri(e,n),HEADER:Object(x.c)(ni()),LABEL_SINGLE_SHIFT:Object(x.c)(ti()),LABEL_UPCOMING_SHIFTS:Object(x.c)(ei()),BUTTON:Object(x.c)($a())},[Ca]:{MESSAGE:ri(e,n),HEADER:Object(x.c)(Za()),LABEL_SINGLE_SHIFT:Object(x.c)(Xa()),LABEL_UPCOMING_SHIFTS:Object(x.c)(Ja()),BUTTON:Object(x.c)(Qa())}}[e][t]),si=Object(dt.q)({form:"collision-confirmation-modal",initialValues:{confirmation:ai.SINGLE}})(Ba=Object(m.b)(e=>({confirmationValue:ii(e).confirmation,reshedulEnabled:v.a.isReshedulEnabled(e)}))(Ba=Object(ke.g)()((Ha=qa=class extends c.PureComponent{constructor(e){super(e),i()(this,"state",{deleting:!1,udpating:!1}),i()(this,"getCollisionText",()=>oi(this.mode,"MESSAGE",{weekDay:Object(mt.k)(this.date).format("dddd"),employeeFirstName:this.employeeFirstName,dateEnd:this.dateEnd?Object(mt.k)(this.dateEnd).format("dddd, D MMM YYYY"):""})),i()(this,"handleSubmit",()=>{var{confirmationValue:e}=this.props;this.mode===ja?(this.setState({deleting:!0}),_a({locationId:this.locationId,employeeId:this.employeeId,date:this.date,dateEnd:e===ai.SINGLE?this.date:void 0,confirmCollisions:!0,employeeFirstName:this.employeeFirstName}).finally(()=>{this.setState({deleting:!1})})):this.mode===Ca&&(this.setState({udpating:!0}),Wa(Ka(Ka({},this.formattedRequest),{},{data:Ka(Ka({},this.formattedRequest.data),{},{attributes:Ka(Ka({},this.formattedRequest.data.attributes),{},{dateEnd:e===ai.SINGLE?this.date:this.dateEnd,confirmCollisions:!0})})})).finally(()=>{Object(f.u)()}))}),i()(this,"handleCancel",()=>{Object(D.b)(Object(f.E)())}),this.locationId=fa()(e,"location.state.locationId"),this.employeeId=fa()(e,"location.state.employeeId"),this.date=fa()(e,"location.state.date"),this.dateEnd=fa()(e,"location.state.dateEnd"),this.employeeFirstName=fa()(e,"location.state.employeeFirstName"),this.mode=fa()(e,"location.state.mode"),this.formattedRequest=fa()(e,"location.state.formattedRequest"),this.employeeId||Object(f.u)()}render(){var{isMatch:e,reshedulEnabled:t}=this.props,{deleting:n,udpating:a}=this.state,i=this.getCollisionText();return d.a.createElement(w.i,{size:"small"},d.a.createElement(w.g,{subheader:e&&i,onClose:this.handleCancel},oi(this.mode,"HEADER")),d.a.createElement(w.c,{onlyBottomPadding:!0},d.a.createElement(gt.d,{type:"form plain"},!e&&d.a.createElement(V.d,{marginBottom:16,type:"body-1"},i),t?d.a.createElement(ct.ReduxForm.RadioGroup,{name:"confirmation",xpos:e?void 0:"single"},d.a.createElement(ct.ReduxForm.RadioGroupItem,{as:ct.Form.RadioField,xpos:e?void 0:"single",label:oi(this.mode,"LABEL_SINGLE_SHIFT"),value:ai.SINGLE}),d.a.createElement(ct.ReduxForm.RadioGroupItem,{as:ct.Form.RadioField,xpos:e?void 0:"single",label:oi(this.mode,"LABEL_UPCOMING_SHIFTS"),value:ai.UPCOMING})):d.a.createElement(d.a.Fragment,null,d.a.createElement(dt.B,{basis:"100%",label:oi(this.mode,"LABEL_SINGLE_SHIFT"),value:ai.SINGLE,name:"confirmation"}),d.a.createElement(dt.B,{basis:"100%",label:oi(this.mode,"LABEL_UPCOMING_SHIFTS"),value:ai.UPCOMING,name:"confirmation"})))),d.a.createElement(w.e,{noPadding:!0},d.a.createElement(w.b,null,this.mode===ja?t?d.a.createElement(ct.Button,{variant:"danger",onAction:this.handleSubmit,isPending:n,qaType:"schedule-item-delete-button",className:Va.a.button},oi(this.mode,"BUTTON")):d.a.createElement(j.g,{onAction:this.handleSubmit,isPending:n,qaType:"schedule-item-delete-button"},oi(this.mode,"BUTTON")):t?d.a.createElement(ct.Button,{variant:"primary",onAction:this.handleSubmit,isPending:a,qaType:"schedule-item-update-button",className:Va.a.button},oi(this.mode,"BUTTON")):d.a.createElement(j.f,{onAction:this.handleSubmit,isPending:a,qaType:"schedule-item-update-button"},oi(this.mode,"BUTTON")))))}},i()(qa,"propTypes",{confirmationValue:T.a.oneOf(Object.values(ai)),isMatch:T.a.bool,reshedulEnabled:T.a.bool}),Ba=Ha))||Ba)||Ba)||Ba,li=n("NFlB");function ci(){var e=y()(["Delete"]);return ci=function(){return e},e}function di(){var e=y()(["Cancel"]);return di=function(){return e},e}function ui(){var e=y()(["Delete Working Hours"]);return ui=function(){return e},e}class mi extends c.PureComponent{constructor(e){super(e),i()(this,"state",{deleting:!1}),i()(this,"handleDelete",()=>(this.setState({deleting:!0}),_a({locationId:this.locationId,employeeId:this.employeeId,date:this.date,dateEnd:this.dateEnd,confirmCollisions:this.confirmCollisions,confirmOfflineLocationProfiles:!0}).finally(()=>{this.setState({deleting:!1})}))),i()(this,"handleCancel",()=>{Object(D.b)(Object(f.E)())}),this.locationId=fa()(e,"location.state.locationId"),this.employeeId=fa()(e,"location.state.employeeId"),this.date=fa()(e,"location.state.date"),this.dateEnd=fa()(e,"location.state.dateEnd"),this.confirmCollisions=fa()(e,"location.state.confirmCollisions"),this.affectedLocationProfiles=fa()(e,"location.state.affectedLocationProfiles"),this.employeeId||Object(f.u)()}render(){var{deleting:e}=this.state;return d.a.createElement(w.i,{size:"small"},d.a.createElement(w.g,{onClose:this.handleCancel},Object(x.c)(ui())),d.a.createElement(w.c,{onlyBottomPadding:!0},d.a.createElement(li.a,{affectedLocationProfiles:this.affectedLocationProfiles})),d.a.createElement(w.e,{noPadding:!0},d.a.createElement(w.b,null,d.a.createElement(j.a,{grow:1,onAction:this.handleCancel,disabled:e},Object(x.c)(di())),d.a.createElement(j.g,{grow:1,onAction:this.handleDelete,withPending:!0},Object(x.c)(ci())))))}}var hi,pi,fi,gi,vi,bi,Ei=n("44Ds"),yi=n.n(Ei),Oi=n("QXy2"),Ti=n("uZ2f"),Si=n("7U8c"),wi=n.n(Si);function ji(){var e=y()(["Specific date"]);return ji=function(){return e},e}function Ci(){var e=y()(["Ongoing"]);return Ci=function(){return e},e}function Di(){var e=y()(["End repeat"]);return Di=function(){return e},e}function Ii(){var e=y()(["End repeat"]);return Ii=function(){return e},e}function xi(){var e=y()(["Weekly"]);return xi=function(){return e},e}function Mi(){var e=y()(["Don't repeat"]);return Mi=function(){return e},e}function Ni(){var e=y()(["Repeats"]);return Ni=function(){return e},e}function Pi(){var e=y()(["Add another shift"]);return Pi=function(){return e},e}function Ai(){var e=y()(["Add another shift"]);return Ai=function(){return e},e}function Ri(){var e=y()(["Shift end"]);return Ri=function(){return e},e}function ki(){var e=y()(["Shift start"]);return ki=function(){return e},e}function Li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Fi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Li(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bi,qi,Hi,zi=e=>e.timeStartInSeconds>=e.timeEndInSeconds?{timeStartInSeconds:Na.START_BEFORE_END}:{},Wi=e=>e.slice().sort((e,t)=>e.timeStartInSeconds-t.timeStartInSeconds),_i=e=>{var t=Wi(e);if(t.length<2)return!1;for(var n=1;n<t.length;n+=1)if(t[n-1].timeEndInSeconds>=t[n].timeStartInSeconds)return!0;return!1},Yi=e=>{var t=e[Ia.SHIFTS].map(zi);return _i(e[Ia.SHIFTS])&&(t[1].timeStartInSeconds=Na.OVERLAPPING),{[Ia.SHIFTS]:t}},Ui=yi()(e=>e.map(({value:e,text:t})=>d.a.createElement("option",{key:e,value:e},t))),Vi=Object(dt.W)(Da),Gi=e=>{var t=e.timeEndInSeconds>=mt.a-mt.d-mt.c?e.timeEndInSeconds+mt.c:Math.min(mt.a-mt.c,e.timeEndInSeconds+3600);return{timeStartInSeconds:t,timeEndInSeconds:Math.min(mt.a-mt.c,t+14400)}},Ki=(hi=Object(ke.g)(),pi=Object(dt.q)({form:Da,validate:Yi}),fi=Object(m.b)(e=>({formValues:Vi(e),timeFormat:v.a.getProvider(e).timeFormat,providerMoment:v.a.providerMoment(e)}),{addShift:za},(e,t,n)=>Fi(Fi(Fi(Fi({},n),e),t),{},{isDisabledDay:t=>{var{scheduleDate:a}=n,i=e.providerMoment(t);return a.day()!==i.day()||i.isBefore(a)}})),hi(gi=Object(u.f)(gi=pi(gi=fi((bi=vi=class extends c.PureComponent{constructor(...e){super(...e),i()(this,"handleRepeatDateEndChange",(e,t)=>{var{formValues:{[Ia.END_REPEAT]:n,[Ia.REPEATS]:a},scheduleDate:i}=this.props;a===xa.WEEKLY&&n===Ma.SPECIFIC_DATE&&t.isSame(i,"day")&&(e.preventDefault(),this.props.change(Ia.REPEATS,xa.DONT_REPEAT),this.props.change(Ia.END_DATE,i.clone().add(1,"week")),this.changeRepeatsToOngoing())}),i()(this,"changeRepeatsToOngoing",()=>{this.props.change(Ia.END_REPEAT,Ma.ONGOING)}),i()(this,"showSingleShiftModal",({mode:e,shift:t,shiftIndex:n})=>{var{location:{state:a}}=this.props;Object(D.c)(Object(f.N)(),Fi(Fi({},a),{},{shiftIndex:n,shift:t,mode:e}))}),i()(this,"handleAddShift",()=>{var e=this.getLastShift();this.props.addShift(Gi(e))}),i()(this,"showAddShiftModal",()=>{var e=this.getLastShift();this.showSingleShiftModal({mode:Sa,shift:Gi(e)})}),i()(this,"renderShifts",({fields:e})=>{var{timeFormat:t,isMatch:n,providerMoment:a}=this.props,i=Object(ht.c)(t),r=a().startOf("day"),o=Object(mt.q)("24h"===t);return e.map((t,a)=>{var s=e.get(a),l=r.clone().add(s.timeStartInSeconds,"seconds").format(o),c=r.clone().add(s.timeEndInSeconds,"seconds").format(o);return e.length>1&&n?d.a.createElement(q.x,{onAction:()=>this.showSingleShiftModal({mode:wa,shift:s,shiftIndex:a})},l," - ",c):d.a.createElement(M.b,{flex:"row",className:wi.a.flexRow},d.a.createElement(vt.r,{parse:Number,name:"".concat(t,".timeStartInSeconds"),label:Object(x.c)(ki()),hideInvalidLabel:!0,alwaysShowError:!0,className:wi.a.fieldStart},Ui(i)),d.a.createElement(vt.r,{parse:Number,name:"".concat(t,".timeEndInSeconds"),label:Object(x.c)(Ri()),hideInvalidLabel:!0,resetButton:!this.props.isMatch&&e.length>1,onReset:()=>e.remove(a),className:wi.a.fieldEnd},Ui(i)))})})}getLastShift(){var{formValues:{[Ia.SHIFTS]:e}}=this.props;return e[e.length-1]}renderBreakTime(){var{formValues:e}=this.props,t=Wi(e[Ia.SHIFTS]);if(2===t.length){var n=t[1].timeStartInSeconds-t[0].timeEndInSeconds;return n>0&&d.a.createElement(Ti.t,{className:wi.a.breakTime},d.a.createElement(V.d,null,Object(x.c)("%{duration} break time",{duration:mt.k.duration(n,"seconds").format("h [hour], m [minute]",{trim:"both"})})))}return null}render(){var{formValues:e,isMatch:t,isDisabledDay:n}=this.props,a=this.getLastShift(),i=_i(e[Ia.SHIFTS]),r=e[Ia.REPEATS]===xa.WEEKLY,o=e[Ia.END_REPEAT]===Ma.SPECIFIC_DATE;return d.a.createElement(gt.d,{type:"plain popup-form",className:wi.a.self},d.a.createElement(M.b,{flex:"column"},d.a.createElement(dt.o,{name:Ia.SHIFTS,component:this.renderShifts}),e[Ia.SHIFTS].length<2&&a.timeEndInSeconds<mt.a-2*mt.c&&(t?d.a.createElement(q.b,{className:wi.a.addShiftButtonMobile,onAction:this.showAddShiftModal},Object(x.c)(Ai())):d.a.createElement(dt.p,{as:j.n,onAction:this.handleAddShift,flex:"row",alignItems:"center"},d.a.createElement(U.b,{name:"plus",size:"small",marginRight:4})," ",Object(x.c)(Pi()))),!i&&this.renderBreakTime(),d.a.createElement(M.b,{className:wi.a.flexRow},d.a.createElement(vt.r,{className:r&&!o?wi.a.fieldRepeatHalf:wi.a.fieldRepeat,name:Ia.REPEATS,label:Object(x.c)(Ni())},d.a.createElement("option",{value:xa.DONT_REPEAT},Object(x.c)(Mi())),d.a.createElement("option",{value:xa.WEEKLY},Object(x.c)(xi()))),r&&(o?d.a.createElement(vt.h,{name:Ia.END_DATE,label:Object(x.c)(Ii()),condensed:t,onReset:this.changeRepeatsToOngoing,disabledDays:n,onChange:this.handleRepeatDateEndChange,className:wi.a.fieldEndRepeatDate}):d.a.createElement(vt.r,{name:Ia.END_REPEAT,label:Object(x.c)(Di()),className:wi.a.fieldEndRepeat},d.a.createElement("option",{value:Ma.ONGOING},Object(x.c)(Ci())),d.a.createElement("option",{value:Ma.SPECIFIC_DATE},Object(x.c)(ji())))))))}},i()(vi,"propTypes",{formValues:T.a.object,addShift:T.a.func,isDisabledDay:T.a.func,providerMoment:T.a.func,isMatch:T.a.bool,timeFormat:T.a.string,change:T.a.func,location:T.a.object,scheduleDate:Oi.b}),gi=bi))||gi)||gi)||gi)||gi),Qi=n("ktac"),Ji=n("3BTK"),Xi=n.n(Ji);function Zi(){var e=y()(["Save"]);return Zi=function(){return e},e}function $i(){var e=y()(["Remove this shift"]);return $i=function(){return e},e}function er(){var e=y()(["Shift end"]);return er=function(){return e},e}function tr(){var e=y()(["Shift start"]);return tr=function(){return e},e}function nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ir(){var e=y()(["Edit Shift"]);return ir=function(){return e},e}function rr(){var e=y()(["Add another Shift"]);return rr=function(){return e},e}var or,sr,lr,cr,dr,ur=yi()(e=>e.map(({value:e,text:t})=>d.a.createElement("option",{key:e,value:e},t))),mr=Object(Re.c)(),hr=Object(Re.d)(),pr={[Sa]:Object(x.c)(rr()),[wa]:Object(x.c)(ir())},fr=Object(m.b)(e=>({timeFormat:v.a.getProvider(e).timeFormat,shifts:Vi(e)[Ia.SHIFTS],reshedulEnabled:v.a.isReshedulEnabled(e)}),{addShift:za,replaceShift:(e,t)=>Object(dt.K)(Da,Ia.SHIFTS,e,1,t),removeShift:e=>Object(dt.J)(Da,Ia.SHIFTS,e)})((Hi=qi=class extends c.PureComponent{constructor(e){super(e),i()(this,"getMeta",e=>{var t=this.validateShifts(),n=this.getShiftIndex(),a=ar({},hr),i=t[Ia.SHIFTS][n][e];return i&&(a.invalid=!0,a.error=i),a}),i()(this,"handleChange",({target:{name:e,value:t}})=>{this.setState({[e]:Number(t)},()=>{var e=this.validateShifts()[Ia.SHIFTS].some(e=>Object.entries(e).length>0);this.setState({hasError:e})})}),i()(this,"handleSave",()=>{var{shifts:e}=this.props,{timeStartInSeconds:t,timeEndInSeconds:n}=this.state;switch(this.mode){case Sa:this.shiftAdded=!0,this.props.addShift({timeStartInSeconds:t,timeEndInSeconds:n});break;case wa:this.props.replaceShift(e.findIndex(({id:e})=>e===this.shift.id),ar(ar({},this.shift),{},{timeStartInSeconds:t,timeEndInSeconds:n}))}this.handleClose()}),i()(this,"handleRemoveShift",()=>{this.props.removeShift(this.props.shifts.findIndex(e=>e===this.shift)),this.handleClose()}),i()(this,"handleClose",()=>{Object(D.c)(Object(f.E)(),this.props.location.state)}),this.mode=fa()(e,"location.state.mode"),this.shift=fa()(e,"location.state.shift"),this.shiftIndex=fa()(e,"location.state.shiftIndex"),this.shiftAdded=!1,this.state={timeStartInSeconds:this.shift.timeStartInSeconds,timeEndInSeconds:this.shift.timeEndInSeconds,hasError:!1}}getShiftIndex(){var{shifts:e}=this.props;switch(this.mode){case Sa:return this.shiftAdded?e.length-1:e.length;case wa:return this.shiftIndex;default:return null}}getEditedShifts(){var{shifts:e}=this.props,{timeStartInSeconds:t,timeEndInSeconds:n}=this.state,a=[...e];return a.splice(this.shiftIndex,1,ar(ar({},this.shift),{},{timeStartInSeconds:t,timeEndInSeconds:n})),a}validateShifts(){var{shifts:e}=this.props,{timeStartInSeconds:t,timeEndInSeconds:n}=this.state;return Yi({[Ia.SHIFTS]:this.mode===Sa?[...e,!this.shiftAdded&&{timeStartInSeconds:t,timeEndInSeconds:n}].filter(Boolean):this.getEditedShifts()})}render(){var{location:{state:{mode:e}},timeFormat:t,shifts:n,reshedulEnabled:a}=this.props,{timeStartInSeconds:i,timeEndInSeconds:r,hasError:o}=this.state,s=Object(ht.c)(t),l=a?ct.Form.SelectField:Qi.a;return d.a.createElement(w.i,null,d.a.createElement(w.g,{onClose:this.handleClose,qaType:"add-shift-header-mobile"},pr[e]),d.a.createElement(w.c,{onlyBottomPadding:!0},d.a.createElement(M.b,{className:Xi.a.content},d.a.createElement(l,{label:Object(x.c)(tr()),hideInvalidLabel:!0,input:ar(ar({},mr),{},{name:"timeStartInSeconds",value:i,onChange:this.handleChange}),meta:this.getMeta("timeStartInSeconds"),className:Xi.a.fieldStartTime},ur(s)),d.a.createElement(l,{label:Object(x.c)(er()),hideInvalidLabel:!0,input:ar(ar({},mr),{},{name:"timeEndInSeconds",value:r,onChange:this.handleChange}),meta:this.getMeta("timeEndInSeconds"),className:Xi.a.fieldEndTime},ur(s))),n.includes(this.shift)&&d.a.createElement(q.w,{onAction:this.handleRemoveShift,grow:0,marginTop:"auto"},Object(x.c)($i()))),d.a.createElement(w.e,{noPadding:!0},d.a.createElement(w.b,{neutralizeOutsidePadding:!0},d.a.createElement(j.f,{disabled:o,grow:1,qaType:"save-another-shift-mobile",onAction:this.handleSave},Object(x.c)(Zi())))))}},i()(qi,"propTypes",{timeFormat:T.a.string,location:T.a.object,addShift:T.a.func,replaceShift:T.a.func,removeShift:T.a.func,shifts:T.a.array,reshedulEnabled:T.a.bool}),Bi=Hi))||Bi;function gr(){var e=y()(["Save"]);return gr=function(){return e},e}function vr(){var e=y()(["Save"]);return vr=function(){return e},e}function br(){var e=y()(["Delete"]);return br=function(){return e},e}function Er(){var e=y()(["Delete"]);return Er=function(){return e},e}var yr=(or=Object(ke.g)(),sr=Object(m.b)((e,t)=>{var n=fa()(t,"location.state.employeeId");return n||Object(f.u)(),{isSubmitting:Object(dt.bb)(Da)(e),locationId:v.a.getCalendarLocationId(e),employeeFirstName:v.a.getEmployee(e,n).firstName,providerMoment:v.a.providerMoment(e),reshedulEnabled:v.a.isReshedulEnabled(e)}},{submitForm:()=>Object(dt.hb)(Da),refreshCalendar:b.m}),or(lr=Object(u.f)(lr=sr((dr=cr=class extends c.PureComponent{constructor(e){super(e),i()(this,"state",{deleting:!1,loading:!0,scheduleRange:null}),i()(this,"getEndDateValue",e=>e[Ia.REPEATS]===xa.WEEKLY?e[Ia.END_REPEAT]===Ma.ONGOING?null:e[Ia.END_DATE].format("YYYY-MM-DD"):this.date),i()(this,"handleDelete",()=>(this.setState({deleting:!0}),_a({locationId:this.props.locationId,employeeId:this.employeeId,date:this.date,dateEnd:this.dateEnd,employeeFirstName:this.props.employeeFirstName}).finally(()=>{this.setState({deleting:!1})}))),i()(this,"handleCancel",()=>{Object(f.u)()}),i()(this,"handleSubmit",e=>{var{employeeFirstName:t,locationId:n}=this.props;return Wa(Wt.a.updateScheduleRange(this.parseFormValuesToScheduleRange(e)),{employeeId:this.employeeId,date:this.date,dateEnd:this.getEndDateValue(e),employeeFirstName:t,locationId:n,mode:Ca})}),this.employeeId=fa()(e,"location.state.employeeId"),this.date=fa()(e,"location.state.date")}componentDidMount(){p.a.readSchedule({locationId:this.props.locationId,employeeId:this.employeeId,date:this.date}).then(e=>{var t=v.a.getScheduleRangeById(ga.a.getState(),e.body.data.id);this.setState({scheduleRange:t})}).catch(e=>{Object(va.d)(e,"not-found")?this.setState({scheduleRange:null}):p.a.addErrorToast()}).finally(()=>{this.setState({loading:!1})})}parseScheduleRangeToFormValues(e){var{providerMoment:t}=this.props,n=t(this.date).add(1,"week");if(e){var{dateStart:a,dateEnd:i,shifts:r}=e,o=!i||i!==a,s=!i;return{[Ia.SHIFTS]:r,[Ia.REPEATS]:o?xa.WEEKLY:xa.DONT_REPEAT,[Ia.END_DATE]:i?t(i):n,[Ia.END_REPEAT]:s?Ma.ONGOING:Ma.SPECIFIC_DATE}}return{[Ia.REPEATS]:xa.DONT_REPEAT,[Ia.END_REPEAT]:Ma.ONGOING,[Ia.END_DATE]:n,[Ia.SHIFTS]:[{timeStartInSeconds:32400,timeEndInSeconds:61200}]}}parseFormValuesToScheduleRange(e){var t=e[Ia.REPEATS]===xa.WEEKLY,n=e[Ia.END_REPEAT]===Ma.SPECIFIC_DATE,a=this.date;return t&&(a=n?e[Ia.END_DATE].format("YYYY-MM-DD"):null),{dateStart:this.date,dateEnd:t?a:this.date,shifts:e.shifts,employee:this.employeeId,location:this.props.locationId}}render(){var{submitForm:e,isSubmitting:t,employeeFirstName:n,isMatch:a,providerMoment:i,reshedulEnabled:r}=this.props,{deleting:o,scheduleRange:s,loading:l}=this.state;if(l)return d.a.createElement(ba.a,{static:!0});var c=i(this.date);return d.a.createElement(w.i,{size:"small"},d.a.createElement(w.g,{subheaderCollapsible:!0,subheaderBold:!0,subheader:c.format("dddd, D MMM YYYY"),onClose:this.handleCancel,qaType:"schedule-item-header"},Object(x.c)("Edit %{employeeFirstName}'s Hours",{employeeFirstName:n})),d.a.createElement(w.c,{noPadding:!0},d.a.createElement(Ki,{initialValues:this.parseScheduleRangeToFormValues(s),onSubmit:this.handleSubmit,scheduleDate:c})),d.a.createElement(w.e,{noPadding:!0},d.a.createElement(w.b,{className:ya.a.footer},s&&(r?d.a.createElement(ct.Button,{variant:"danger",onAction:this.handleDelete,disabled:t,withPending:!0,qaType:"schedule-item-delete-button",className:ya.a.flex},Object(x.c)(Er())):d.a.createElement(j.g,{onAction:this.handleDelete,disabled:t,withPending:!0,grow:1,qaType:"schedule-item-delete-button"},Object(x.c)(br()))),r?d.a.createElement(ct.Button,{variant:"primary",isPending:t,disabled:o,onAction:e,qaType:"schedule-item-save-button",className:ya.a.flex},Object(x.c)(vr())):d.a.createElement(j.f,{isPending:t,disabled:o,onAction:e,grow:1,qaType:"schedule-item-save-button"},Object(x.c)(gr())))),d.a.createElement(u.b,{path:f.m,component:si}),d.a.createElement(u.b,{path:f.n,component:mi}),a&&d.a.createElement(u.b,{path:f.p,component:fr}))}},i()(cr,"propTypes",{submitForm:T.a.func,providerMoment:T.a.func,isSubmitting:T.a.bool,reshedulEnabled:T.a.bool,locationId:T.a.string,employeeFirstName:T.a.string,isMatch:T.a.bool}),lr=dr))||lr)||lr)||lr),Or=n("MbJE"),Tr=n.n(Or);class Sr extends c.PureComponent{render(){var{content:e,onClose:t,absolute:n,white:a}=this.props;return d.a.createElement(M.b,{className:Y()(Tr.a.self,{[Tr.a.desktop]:Object(st.d)(),[Tr.a.absolute]:n,[Tr.a.white]:a}),qaType:"calendar-top-bar"},e,t&&d.a.createElement(j.e,{onAction:t,className:Tr.a.closeButton,overwriteColor:!1,color:a?"gray-7":"white"}))}}i()(Sr,"propTypes",{content:T.a.node.isRequired,onClose:T.a.func,absolute:T.a.bool,white:T.a.bool});var wr,jr,Cr,Dr=n("tPa9"),Ir=n("16w6"),xr=n("VaHs"),Mr=n.n(xr);function Nr(){var e=y()(["Save"]);return Nr=function(){return e},e}function Pr(){var e=y()(["Cancel"]);return Pr=function(){return e},e}function Ar(){var e=y()(["Calendar Zoom"]);return Ar=function(){return e},e}var Rr=Object(ke.g)()(wr=Object(m.b)(e=>({timelineInterval:v.a.getTimelineInterval(e)/60,employeeID:v.a.getCurrentEmployee(e).id}))((Cr=jr=class extends c.PureComponent{constructor(...e){super(...e),i()(this,"initialTimelineInterval",null),i()(this,"handleCancel",()=>{var{employeeID:e}=this.props;Object(D.c)(Object(f.y)()),Object(Ir.d)(e,this.initialTimelineInterval),p.a.setCalendarTimeSlotMinutes(this.initialTimelineInterval)}),i()(this,"handleSave",()=>{Object(D.c)(Object(f.y)())})}componentDidMount(){var{timelineInterval:e}=this.props;this.initialTimelineInterval=e}render(){return d.a.createElement(d.a.Fragment,null,d.a.createElement(S.c,{direction:S.a.DOWN,in:!0},d.a.createElement(Sr,{white:!0,content:Object(x.c)(Ar()),onClose:this.handleCancel,absolute:!0})),d.a.createElement(S.c,{direction:S.a.UP,in:!0},d.a.createElement(M.b,{className:Mr.a.dragActions},d.a.createElement(M.b,null,d.a.createElement(Dr.a,null,d.a.createElement(an.a,null))),d.a.createElement(M.b,{className:Mr.a.buttonsWrapper},d.a.createElement(j.a,{onAction:this.handleCancel},Object(x.c)(Pr())),d.a.createElement(j.f,{onAction:this.handleSave},Object(x.c)(Nr()))))))}},i()(jr,"propTypes",{timelineInterval:T.a.number,employeeID:T.a.number}),wr=Cr))||wr)||wr,kr=n("N1om"),Lr=n.n(kr),Fr=n("DTRD"),Br=n("SSYw"),qr=n.n(Br),Hr=n("uFDq"),zr=n.n(Hr),Wr=n("mQyn"),_r=n.n(Wr),Yr=n("+STE"),Ur=n.n(Yr);class Vr extends c.PureComponent{render(){return d.a.createElement(M.b,{className:zr.a.self},d.a.createElement(qr.a,{src:Ur.a,className:zr.a.calendar,"data-qa":"image-svg-tap-and-hold"}),d.a.createElement(M.b,{className:zr.a.addAppointment}),d.a.createElement(qr.a,{src:_r.a,className:zr.a.hand}))}}var Gr=n("hvV3"),Kr=n.n(Gr),Qr=n("vHaq"),Jr=n.n(Qr),Xr=n("+VVo"),Zr=n.n(Xr),$r=n("E04k"),eo=n.n($r),to=n("2d2Z"),no=n.n(to),ao=n("cKbn"),io=n.n(ao),ro=n("ZXto"),oo=n.n(ro);class so extends c.PureComponent{render(){return d.a.createElement(M.b,{className:Kr.a.self},d.a.createElement(qr.a,{src:Zr.a,className:Kr.a.calendar,"data-qa":"image-svg-drag-and-drop"}),d.a.createElement(qr.a,{src:no.a,className:Kr.a.initialBookingRight}),d.a.createElement(qr.a,{src:io.a,className:Kr.a.initialBookingLeft}),d.a.createElement(qr.a,{src:eo.a,className:Kr.a.booking}),d.a.createElement(qr.a,{src:oo.a,className:Kr.a.draggingBooking}),d.a.createElement(qr.a,{src:Jr.a,className:Kr.a.hand}))}}var lo=n("H4lO"),co=n.n(lo),uo=n("VmgP"),mo=n.n(uo),ho=n("oMlg"),po=n.n(ho);class fo extends c.PureComponent{render(){return d.a.createElement(M.b,{className:co.a.self},d.a.createElement(qr.a,{src:mo.a,className:co.a.calendar,"data-qa":"image-svg-swipe"}),d.a.createElement(qr.a,{src:po.a,className:co.a.handSwiping}))}}var go=n("glrc"),vo=n.n(go);function bo(){var e=y()(["Next"]);return bo=function(){return e},e}function Eo(){var e=y()(["Done"]);return Eo=function(){return e},e}function yo(){var e=y()(["Press and hold"]);return yo=function(){return e},e}function Oo(){var e=y()(["Drag and drop"]);return Oo=function(){return e},e}function To(){var e=y()(["Press and hold"]);return To=function(){return e},e}function So(){var e=y()(["Book an appointment"]);return So=function(){return e},e}function wo(){var e=y()(["Swipe left and right"]);return wo=function(){return e},e}function jo(){var e=y()(["Calendar Swiping"]);return jo=function(){return e},e}var Co=[{VIEW:fo,TITLE:Object(x.c)(jo()),DESCRIPTION:Object(x.c)("%{bold} to change between dates and navigate through staff",{bold:d.a.createElement(V.d,{as:"span",className:vo.a.bold},Object(x.c)(wo()))})},{VIEW:Vr,TITLE:Object(x.c)(So()),DESCRIPTION:Object(x.c)("%{bold} on calendar slot to book an appointment",{bold:d.a.createElement(V.d,{as:"span",className:vo.a.bold},Object(x.c)(To()))})},{VIEW:so,TITLE:Object(x.c)(Oo()),DESCRIPTION:Object(x.c)("%{bold} an appointment or block time to activate drag & drop mode",{bold:d.a.createElement(V.d,{as:"span",className:vo.a.bold},Object(x.c)(yo()))})}];class Do extends c.PureComponent{constructor(...e){super(...e),i()(this,"state",{stepIndex:0}),i()(this,"handleClose",()=>{p.a.updateCalendarTipsReadAt().catch(Pe.a),Object(D.c)(Object(f.v)())}),i()(this,"handleNext",()=>{this.setState({stepIndex:this.state.stepIndex+1})})}render(){var{stepIndex:e}=this.state,t=Co[e].VIEW,n=e===Co.length-1;return d.a.createElement(Fr.a,{show:!0,onAction:this.handleClose},d.a.createElement(S.c,{direction:S.a.UP,in:!0},d.a.createElement(M.b,{className:vo.a.self},d.a.createElement(M.b,{className:vo.a.scene},d.a.createElement(t,null)),d.a.createElement(M.b,{className:vo.a.bottom},d.a.createElement(U.b,{color:"original",name:"arch",className:vo.a.arch}),d.a.createElement(M.b,{className:vo.a.textContent},d.a.createElement(V.d,{className:vo.a.title,"data-qa":Lr()(Co[e].TITLE)},Co[e].TITLE),d.a.createElement(V.d,{noMargin:!0,className:vo.a.description},Co[e].DESCRIPTION),d.a.createElement(j.f,{className:vo.a.button,onAction:n?this.handleClose:this.handleNext,qaType:"cal-tips-modal-btn"},n?Object(x.c)(Eo()):Object(x.c)(bo())))))))}}var Io=n("8pxj"),xo=n("H2c4"),Mo=n("GWDp"),No=n("auek"),Po=n.n(No);class Ao extends c.PureComponent{render(){return d.a.createElement(M.b,{className:Po.a.self},d.a.createElement(Mo.a,null),d.a.createElement(xo.f,{calendarIconTooltipContainer:!0,id:xo.a,effect:"solid",delayShow:500}))}}var Ro,ko,Lo,Fo=n("x4Xg"),Bo=n.n(Fo);function qo(){var e=y()(["Select time"]);return qo=function(){return e},e}function Ho(){var e=y()(["Save"]);return Ho=function(){return e},e}function zo(){var e=y()(["Cancel"]);return zo=function(){return e},e}function Wo(){var e=y()(["Select a time to book"]);return Wo=function(){return e},e}function _o(){var e=y()(["Select a time to block"]);return _o=function(){return e},e}var Yo,Uo,Vo,Go=Object(m.b)(e=>({action:v.a.getCalendarAction(e),isCalendarTouchDragInProgress:v.a.isCalendarTouchDragInProgress(e),isCalendarDragPending:v.a.isCalendarDragPending(e),draggingEvent:v.a.getCalendarDraggingEvent(e),timeSelectionFract:v.a.getCalendarTimeSelectionFract(e)}),{finishEventTimelineDrag:b.d})((Lo=ko=class extends c.PureComponent{render(){var{isCalendarDragPending:e,action:t,isCalendarTouchDragInProgress:n,draggingEvent:a,timeSelectionFract:i}=this.props;return t?t===g.e?d.a.createElement(S.c,{direction:S.a.DOWN,in:!0},d.a.createElement(Sr,{content:Object(x.c)(_o()),onClose:f.u,absolute:!0})):d.a.createElement(Sr,{content:Object(x.c)(Wo()),onClose:f.u}):n?d.a.createElement(d.a.Fragment,null,d.a.createElement(S.c,{direction:S.a.DOWN,in:!0},d.a.createElement(Sr,{content:Object(x.c)("Reschedule to %{date}",{date:Ke(a.start,Le.a.DAY,!0)}),onClose:p.a.stopCalendarEventDragging,absolute:!0})),d.a.createElement(S.c,{direction:S.a.UP,in:!0},d.a.createElement(M.b,{className:Bo.a.dragActions},d.a.createElement(j.a,{onAction:p.a.stopCalendarEventDragging},Object(x.c)(zo())),d.a.createElement(j.f,{isPending:e,onAction:this.props.finishEventTimelineDrag,qaType:"save-drag-button"},Object(x.c)(Ho()))))):null!==i?d.a.createElement(S.c,{direction:S.a.DOWN,in:!0},d.a.createElement(Sr,{white:!0,content:Object(x.c)(qo()),absolute:!0})):null}},i()(ko,"propTypes",{action:qe.m,isCalendarTouchDragInProgress:qe.c,isCalendarDragPending:qe.c,finishEventTimelineDrag:qe.e,draggingEvent:qe.j,timeSelectionFract:qe.i}),Ro=Lo))||Ro,Ko=n("BkP1"),Qo=n("8XHL"),Jo=n.n(Qo);function Xo(){var e=y()(["Calendar"]);return Xo=function(){return e},e}var Zo,$o,es,ts=Object(ke.i)()((Vo=Uo=class extends c.PureComponent{render(){return d.a.createElement(M.b,{className:Jo.a.self,qaType:"calendar-root-container"},Object(st.d)()?d.a.createElement(it.d,{title:Object(x.c)(Xo())}):d.a.createElement(Io.a,null),d.a.createElement(Ko.a,null,d.a.createElement(Go,null),d.a.createElement(u.b,{exact:!0,path:f.a,component:tn}),d.a.createElement(u.b,{path:f.o,component:yr}),d.a.createElement(u.b,{path:f.d,component:Rr}),d.a.createElement(u.b,{path:f.g,component:Do}),d.a.createElement(rt.b,{keys:[lt.a.ONLINE_BOOKING,lt.a.BUSINESS_SETTINGS]},d.a.createElement(u.b,{path:f.h,component:ot.a})),this.props.isMatch?d.a.createElement(d.a.Fragment,null,d.a.createElement(at,null),d.a.createElement(xe,null)):d.a.createElement(ha,null),d.a.createElement(da,{hideOnDesktop:!0}),d.a.createElement("div",{className:Jo.a.view},d.a.createElement(Ao,null))))}},i()(Uo,"propTypes",{isMatch:T.a.bool}),Yo=Vo))||Yo,ns=n("UfWW"),as=n.n(ns),is=n("8jwt"),rs=n("Rci0"),os=n.n(rs),ss=Object(m.b)(e=>({isReshedulEnabled:v.a.isReshedulEnabled(e)}))((es=$o=class extends c.PureComponent{render(){var{icon:e,iconColor:t,title:n,description:a,buttons:i,isReshedulEnabled:r}=this.props;return d.a.createElement(M.b,{className:os.a.self},d.a.createElement(U.b,{name:e,className:os.a.icon,size:"placeholder",color:t||"gray-7"}),r?d.a.createElement(ct.Text,{type:"fresha-h2",color:"gray100",className:os.a.title},n):d.a.createElement(V.d,{className:os.a.title},n),r?d.a.createElement(ct.Text,{type:"fresha-paragraph",color:"gray100"},a):d.a.createElement(V.d,{className:os.a.description},a),d.a.createElement(j.d,{className:os.a.buttons},i))}},i()($o,"propTypes",{icon:T.a.string,iconColor:T.a.string,title:T.a.string,description:T.a.string,buttons:T.a.oneOfType([T.a.arrayOf(T.a.node),T.a.node]),isReshedulEnabled:T.a.bool}),Zo=es))||Zo;function ls(){var e=y()(["In three quick steps your free account will be up and running."]);return ls=function(){return e},e}function cs(){var e=y()(["Welcome to Fresha"]);return cs=function(){return e},e}class ds extends c.PureComponent{render(){return d.a.createElement(ss,{icon:"shedul-logo-new",iconColor:"original",title:Object(x.c)(cs()),description:Object(x.c)(ls())})}}i()(ds,"id","welcome");var us=n("jWIJ"),ms=n.n(us);function hs(){var e=y()(["To start out we set your schedule for Mon-Sat, 9am to 5pm."]);return hs=function(){return e},e}function ps(){var e=y()(["Opening Hours"]);return ps=function(){return e},e}class fs extends c.PureComponent{render(){return d.a.createElement(ss,{icon:"open",title:Object(x.c)(ps()),description:Object(x.c)(hs())})}}i()(fs,"id","availability"),i()(fs,"styles",ms.a);var gs=n("Gkwd"),vs=n.n(gs);function bs(){var e=y()(["You'll see a demo staff member Wendy added to your calendar."]);return bs=function(){return e},e}function Es(){var e=y()(["Staff Members"]);return Es=function(){return e},e}class ys extends c.PureComponent{render(){return d.a.createElement(ss,{icon:"staff",title:Object(x.c)(Es()),description:Object(x.c)(bs())})}}i()(ys,"id","staff"),i()(ys,"styles",vs.a);var Os=n("wUTd"),Ts=n.n(Os);function Ss(){var e=y()(["To get going you have two demo services Haircut and Blow Dry."]);return Ss=function(){return e},e}function ws(){var e=y()(["Service Menu"]);return ws=function(){return e},e}class js extends c.PureComponent{render(){return d.a.createElement(ss,{icon:"services",title:Object(x.c)(ws()),description:Object(x.c)(Ss())})}}i()(js,"id","services"),i()(js,"styles",Ts.a);var Cs,Ds,Is,xs=n("P4YU"),Ms=n.n(xs);function Ns(){var e=y()(["Go to calendar"]);return Ns=function(){return e},e}function Ps(){var e=y()(["Go to calendar"]);return Ps=function(){return e},e}function As(){var e=y()(["Open your calendar, you'll find two demo clients already booked."]);return As=function(){return e},e}function Rs(){var e=y()(["You're All Set!"]);return Rs=function(){return e},e}var ks=Object(m.b)(e=>({isReshedulEnabled:v.a.isReshedulEnabled(e)}))((Is=Ds=class extends c.PureComponent{render(){var{isReshedulEnabled:e}=this.props,t=Object(st.f)();return d.a.createElement(ss,{title:Object(x.c)(Rs()),description:Object(x.c)(As()),buttons:e?d.a.createElement(ct.Button,{replace:!0,variant:"primary",onAction:t?null:f.x,linkTo:t?f.A:null},Object(x.c)(Ps())):d.a.createElement(j.f,{replace:!0,onAction:t?null:f.x,linkTo:t?f.A:null},Object(x.c)(Ns()))})}},i()(Ds,"id","finish"),i()(Ds,"styles",Ms.a),i()(Ds,"propTypes",{isReshedulEnabled:T.a.bool}),Cs=Is))||Cs,Ls=n("Qydi"),Fs=n.n(Ls),Bs=n("C8j+"),qs=n.n(Bs),Hs=n("P35Q"),zs=n.n(Hs),Ws=n("NeG6"),_s=n.n(Ws),Ys=n("MvFK"),Us=n.n(Ys),Vs={square:Fs.a,circle:qs.a,rectangle:zs.a,triangle:_s.a};class Gs extends c.PureComponent{render(){var{view:e,focused:t}=this.props;return d.a.createElement(M.b,{className:Us.a.self},Object.keys(Vs).map(n=>e.styles&&e.styles[n]&&d.a.createElement(qr.a,{src:Vs[n],className:Y()(Us.a.shape,e.styles[n],{[e.styles.out]:!t})})),d.a.createElement(M.b,{className:Us.a.viewWrapper},d.a.createElement(e,null)))}}i()(Gs,"propTypes",{focused:T.a.bool,view:T.a.oneOfType([T.a.node,T.a.func])});var Ks,Qs,Js,Xs=[ds,fs,ys,js,ks],Zs=n("LFRN"),$s=n.n(Zs);function el(){var e=y()(["Continue"]);return el=function(){return e},e}function tl(){var e=y()(["Continue"]);return tl=function(){return e},e}function nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function al(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nl(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var il,rl,ol,sl=Object(m.b)(e=>({isReshedulEnabled:v.a.isReshedulEnabled(e)}))((Js=Qs=class extends c.PureComponent{constructor(...e){super(...e),i()(this,"state",{stepIndex:0}),i()(this,"goForward",()=>{var{stepIndex:e}=this.state;this.goTo(e+1)}),i()(this,"goTo",e=>{Object(f.K)(fa()(Xs[e],"id"))}),i()(this,"handleNavigtionDotClick",(e,t)=>{t||this.goTo(e)})}static getDerivedStateFromProps(e,t){var n=as()(Xs,["id",e.match.params.step]);return al(al({},t),{},{stepIndex:n>=0?n:0})}render(){var{stepIndex:e}=this.state,t=e===Xs.length-1,{isReshedulEnabled:n}=this.props;return d.a.createElement(w.i,{size:"small",alignContainer:"center"},d.a.createElement(w.c,{onlyBottomPadding:!0},d.a.createElement(M.b,{className:$s.a.stepsWrapper,flex:"row",style:{transform:"translateX(".concat(100*-e,"%)")}},Xs.map((t,n)=>d.a.createElement(Gs,{view:t,focused:n===e,key:t.id}))),d.a.createElement(M.b,{flex:"row",alignItems:"center",justifyContent:"space-between",className:Y()($s.a.navigationWrapper,{[$s.a.hidden]:t})},d.a.createElement(is.b,{length:Xs.length-1,current:e,handleClick:this.handleNavigtionDotClick}),d.a.createElement(M.a,{onAction:this.goForward,className:$s.a.forwardLink},n?d.a.createElement(ct.Text,{type:"fresha-paragraph",color:"blue200"},Object(x.c)(tl())):Object(x.c)(el()),n?d.a.createElement(ct.Icon,{name:"navigation-24-chevron-right",size:16,color:"blue200",className:$s.a.forwardLinkIcon}):d.a.createElement(U.b,{name:"chevron-right",size:"medium",className:$s.a.forwardLinkIcon}))),d.a.createElement(j.e,{onAction:f.x,size:"medium",className:$s.a.closeButton})))}},i()(Qs,"propTypes",{match:T.a.shape({params:T.a.shape({step:T.a.string})}),isReshedulEnabled:T.a.bool}),Ks=Js))||Ks;var ll=Object(m.b)(e=>({providerMoment:v.a.providerMoment(e),providerMomentTZ:v.a.providerMomentTZ(e)}))((ol=rl=class extends c.PureComponent{constructor(...e){super(...e),i()(this,"state",{})}componentDidMount(){Object(b.a)()}render(){return d.a.createElement(d.a.Fragment,null,d.a.createElement(ts,null),d.a.createElement(u.b,{path:f.b,component:sl}))}},i()(rl,"getDerivedStateFromProps",(e,t)=>{var n=function(e){var t=Object(h.c)(e),n=Object(h.a)(e)||null,a=Object(h.d)(e);return{action:g.a.includes(t)?t:null,calendarActionObjectId:l()(parseInt(n,10))?n:null,locationId:Object(h.f)(e)||null,view:Object(h.i)(e)||null,date:a?e.providerMoment(a):e.providerMomentTZ(),resourceType:Object(h.g)(e)||null,roomId:Object(h.h)(e)||null,employeeId:Object(h.e)(e)||null}}(e);return t.calendarParams&&o()(t.calendarParams,n)||p.a.setCalendarParams(n),{calendarParams:n}}),il=ol))||il},"/uSU":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a extends Error{}},"16w6":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c}));var a=n("jwng"),i=n("6Ox+"),r=n("5ZU+");function o(e){var t,n={};return e.forEach(e=>{if(!e.isDraggingEvent){var i=e.start.clone(),r=e.end.clone(),{slot:o,column:s}=function(e,t,n){var i,r;!e||t.isSameOrAfter(e.end)?i={end:n,columns:[r={end:n}]}:((i=e).end=a.k.max(i.end,n),(r=function(e,t){return e.find(e=>e.end.isSameOrBefore(t))}(i.columns,t))?r.end=a.k.max(r.end,n):(r={end:n},i.columns.push(r)));return{slot:i,column:r}}(t,i,r);n[e.id]={columns:o.columns,index:o.columns.indexOf(s)},t=o}}),n}function s(e,t){if(!e)return{left:0,width:t};var{index:n}=e,a=1/e.columns.length;return{left:a*n*t,width:a*t}}var l=(e,t)=>{var n=i.b.get(i.a.calendarTimeSlotMinutes),a=n?JSON.parse(n):{};a[e]=t,i.b.set(i.a.calendarTimeSlotMinutes,JSON.stringify(a))},c=e=>{var t=(e=>{var t=i.b.get(i.a.calendarTimeSlotMinutes);return(t?JSON.parse(t):{})[e]})(e);t&&r.a.setCalendarTimeSlotMinutes(t)}},"2d2Z":function(e,t){e.exports='<svg viewBox="0 0 375 351" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g transform="translate(218 125)" fill="none" fill-rule="evenodd"><rect stroke="#A5E2F6" stroke-width="2" fill="#FFF" x="1" y="1" width="151" height="76" rx="4"></rect><text opacity=".5" font-family="Muli-Regular, Muli" font-size="13" fill="#101928"><tspan x="9.351" y="21">10:00am - 11:00am</tspan></text><text opacity=".5" font-family="Muli-Bold, Muli" font-size="14" font-weight="bold" fill="#101928"><tspan x="10" y="43">Jessie Wallback</tspan></text><text opacity=".5" font-family="Muli-Regular, Muli" font-size="13" fill="#101928"><tspan x="10" y="64">Haircut</tspan></text></g></svg>'},"7Oo8":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return F}));var a,i,r,o=n("lSNA"),s=n.n(o),l=n("9nhX"),c=n.n(l),d=n("q1tI"),u=n.n(d),m=n("TSYQ"),h=n.n(m),p=n("17x9"),f=n.n(p),g=n("/MKj"),v=n("i8i4"),b=n("tNhX"),E=n("nbpM"),y=n("yk2N"),O=n("Jje6"),T=n("5ZU+"),S=n("jwng"),w=n("i6OX"),j=n("V0dS"),C=n("X67z"),D=n("+aWU"),I=n("9wjN"),x=n("erLI"),M=n("ELpF"),N=n("KSaN"),P=n("Koft"),A=n("JWww"),R=n.n(A);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=Object(g.b)(e=>({timelineInterval:E.a.getTimelineInterval(e),action:E.a.getCalendarAction(e),extendedTimelines:E.a.getCalendarExtendedTimelines(e),canBookAppointments:E.a.getCurrentPermissions(e)[C.a.CAN_BOOK_APPOINTMENTS],calendarActionObjectId:E.a.getCalendarActionObjectId(e),resourceType:E.a.getCalendarResourceType(e),locationId:E.a.getCalendarLocationId(e)}))((r=i=class extends d.PureComponent{constructor(...t){super(...t),s()(this,"state",{isHover:!1,cachedAction:null,isMouseDown:!1,touchInProgress:!1,timeSelection:!1,timeline:null,hoverLeft:0,hoverWidth:0,startFract:null,endFract:null}),s()(this,"onTouchStart",t=>{t.target!==this.getParentElement()||this.state.touchInProgress||(this.setState({timeSelection:!1,touchInProgress:!0,cachedAction:this.props.action}),this.moveHover(t),this.timeSelectionTimeout=e.setTimeout(()=>{this.isBlockedTimeAction()?this.startBlockedTimeSelection(t):this.startTimeSelection()},300))}),s()(this,"onTouchMove",t=>{e.clearTimeout(this.timeSelectionTimeout),this.state.timeSelection&&(t.stopPropagation(),t.preventDefault(),this.context.scrollingRef.current.updateScrolling(t,!0)),this.moveHover(t)}),s()(this,"onTouchEnd",t=>{t.touches.length>0||(e.clearTimeout(this.timeSelectionTimeout),this.state.timeSelection&&(t.stopPropagation(),t.preventDefault(),this.handleTimelineSelection()),this.touchEndTimeout=e.setTimeout(()=>{this.setState({timeSelection:!1,touchInProgress:!1,isHover:!1,startFract:null,timeline:null})},100))}),s()(this,"onMouseDown",()=>{this.setState({isMouseDown:!0,mouseMoved:!1})}),s()(this,"onMouseUp",()=>{this.setState({isMouseDown:!1})}),s()(this,"onMouseOver",e=>{this.state.touchInProgress||this.startHover(e)}),s()(this,"onMouseMove",e=>{this.state.touchInProgress||(this.setState({mouseMoved:!0}),this.moveHover(e))}),s()(this,"onMouseOut",()=>{this.setState({isHover:!1})}),s()(this,"onClick",()=>{this.state.isHover&&this.handleTimelineSelection()}),s()(this,"startBlockedTimeSelection",e=>{D.c(),this.initialBlockedTimeSelectionStartFract=null,this.setState({timeSelection:!0}),this.startHover(e)}),s()(this,"startTimeSelection",()=>{D.c(),this.props.onStartTimeSelection(),this.setState({timeSelection:!0}),T.a.updateCalendarTimeSelectionFract(this.state.startFract)}),s()(this,"startHover",e=>{this.setState({isHover:!0}),this.moveHover(e)}),s()(this,"moveHover",e=>{this.updatePosition(e)}),s()(this,"updatePosition",e=>{var{timelineInterval:t}=this.props,{timeSelection:n,isMouseDown:a,touchInProgress:i}=this.state,{intervalWidth:r,intervalHeight:o}=this.context,s=this.getParentElement(),l=(a||i)&&this.isBlockedTimeAction(),d=t/S.a,u=n&&!this.isBlockedTimeAction(),{scrollLeft:m}=s,{height:h,top:p,left:f}=s.getBoundingClientRect(),{clientX:g,clientY:v}=Object(b.a)(e);if(!(g-r<=0)){var E=c()((v-p-(u?o/2:0))/h,0,1);if(this.isBlockedTimeAction()){var y=Object(M.n)(E,u?S.c:t),O=Object(M.c)(E,t);if(l)null===this.initialBlockedTimeSelectionStartFract&&(this.initialBlockedTimeSelectionStartFract=y),this.initialBlockedTimeSelectionStartFract<=y?O-(y=this.initialBlockedTimeSelectionStartFract)>d+M.b&&(O=Object(M.c)(E,S.c)):(O=this.initialBlockedTimeSelectionStartFract+t/S.a,y=Object(M.n)(E,S.c));O===y&&(O+=d);var{hoverLeft:T,hoverWidth:w,timeline:j}=l&&this.state.timeline&&i?this.state:this.findTimelineFromPosition(m+g-f);this.setState({timeline:j,hoverLeft:T,hoverWidth:w,startFract:y,endFract:O})}else this.setState(L(L({},this.findTimelineFromPosition(m+g-f)),{},{startFract:Object(M.n)(E,u?S.c:t)}))}}),s()(this,"handleTimelineSelection",()=>{var{canBookAppointments:e,action:t,calendarActionObjectId:n,resourceType:a,locationId:i,timelineInterval:r}=this.props;this.props.onEndTimeSelection(),T.a.updateCalendarTimeSelectionFract(null),this.initialBlockedTimeSelectionStartFract=null;var{startFract:o,mouseMoved:s,timeline:l,endFract:c}=this.state;if(!s||this.isBlockedTimeAction()||this.state.timeSelection)if(e){var d=Object(M.o)(o,r),[u,m]=[d,Object(M.o)(c)].map(e=>Object(S.s)(e,l.date));D.c(),Object(j.f)(u,m,l.id,{action:t,calendarActionObjectId:n,resourceType:a,locationId:i})}else T.a.addPermissionToast()}),s()(this,"events",{touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd,mousedown:this.onMouseDown,mouseup:this.onMouseUp,mouseover:this.onMouseOver,mousemove:this.onMouseMove,mouseout:this.onMouseOut,click:this.onClick}),s()(this,"timeSelectionTimeout",null),s()(this,"touchEndTimeout",null),s()(this,"initialBlockedTimeSelectionStartFract",null)}componentDidMount(){var e=this.getParentElement();Object.entries(this.events).forEach(([t,n])=>e.addEventListener(t,n))}componentDidUpdate(e,{startFract:t,endFract:n}){var{startFract:a,endFract:i,timeSelection:r}=this.state;!r||t===a&&n===i||D.a(),r&&!this.isBlockedTimeAction()&&t!==a&&T.a.updateCalendarTimeSelectionFract(a)}componentWillUnmount(){var t=this.getParentElement();Object.entries(this.events).forEach(([e,n])=>t.removeEventListener(e,n)),e.clearTimeout(this.touchEndTimeout),e.clearTimeout(this.timeSelectionTimeout),e.cancelAnimationFrame(this.rafRequest)}getParentElement(){return Object(v.findDOMNode)(this.props.parentInstance)}isBlockedTimeAction(){return this.props.action===x.e}findTimelineFromPosition(e){var{extendedTimelines:t}=this.props,{timelinesSizes:n}=this.context,a=n.findIndex(t=>e>=t.left&&e<=t.left+t.width);if(0===t[a].length)return null;var i=n[a],r=i.width/t[a].length,o=Math.floor((e-i.left)/r);return{timeline:t[a][o],hoverLeft:i.left+r*o,hoverWidth:r-1}}render(){var{timelineInterval:e}=this.props,{isHover:t,startFract:n,endFract:a,hoverWidth:i,hoverLeft:r,timeSelection:o}=this.state,{intervalHeight:s,timelineHeight:l}=this.context,c=this.state.cachedAction===x.e,d=Object(M.o)(n,e);if(t&&this.isBlockedTimeAction())return u.a.createElement(O.b,{className:h()(R.a.self,R.a.blockedTime),style:{top:"".concat(100*n,"%"),height:"".concat(100*(a-n),"%"),width:i,left:r},qaType:"hover-blocked-time"},"".concat(Object(y.d)(d,"time")," - ").concat(Object(y.d)(Object(M.o)(a),"time")));if(o&&!this.isBlockedTimeAction()){var m=l*(1-n);return u.a.createElement(O.b,{className:h()(R.a.self,R.a.timeSelection,{[R.a.blockedTime]:c}),style:{top:"".concat(100*n,"%"),height:Math.min(2*s,m),width:i,left:r}},u.a.createElement(w.b,{name:"plus",color:"gray-7"}))}return t&&Object(I.d)()?u.a.createElement(O.b,{className:h()(R.a.self,R.a.hover),style:{top:"calc(".concat(100*n,"% + 1px)"),height:s-1,width:i,left:r}},Object(y.d)(d,"time")):null}},s()(i,"contextType",P.a),s()(i,"propTypes",{timelineInterval:f.a.number,action:f.a.string,extendedTimelines:f.a.array,canBookAppointments:f.a.bool,calendarActionObjectId:f.a.string,resourceType:N.m,locationId:N.m,onStartTimeSelection:N.e,parentInstance:N.j,onEndTimeSelection:N.e}),a=r))||a}).call(this,n("yLpj"))},"7TO3":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n("pVnL"),i=n.n(a),r=n("QILm"),o=n.n(r),s=n("lSNA"),l=n.n(s),c=n("q1tI"),d=n.n(c),u=n("17x9"),m=n.n(u),h=n("TSYQ"),p=n.n(h),f=n("Jje6"),g=n("y+xo"),v=n.n(g);class b extends c.PureComponent{render(){var e=this.props,{className:t}=e,n=o()(e,["className"]);return d.a.createElement(f.b,i()({className:p()(v.a.self,t)},n))}}l()(b,"propTypes",{className:m.a.string})},"8HE8":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("lSNA"),i=n.n(a),r=n("q1tI"),o=n.n(r),s=n("17x9"),l=n.n(s),c=n("QM9d"),d=[c.a.KEYBOARD_ARROW_UP,c.a.KEYBOARD_ARROW_RIGHT,c.a.KEYBOARD_ARROW_DOWN,c.a.KEYBOARD_ARROW_LEFT];class u extends o.a.PureComponent{constructor(...e){super(...e),i()(this,"focused",!1),i()(this,"documentListener",!1),i()(this,"handleElementBlur",()=>{this.focused=!1}),i()(this,"handleElementFocus",()=>{this.focused=!0}),i()(this,"handleArrowKeys",e=>{var{focusElement:t}=this.props;!this.focused&&function(e){return-1!==d.indexOf(e.keyCode)}(e)&&t instanceof HTMLElement&&t.focus()})}componentDidUpdate(e){e.focusElement instanceof HTMLElement&&(e.focusElement.removeEventListener("blur",this.handleElementBlur),e.focusElement.removeEventListener("focus",this.handleElementFocus)),this.props.focusElement instanceof HTMLElement&&(this.documentListener||(document.addEventListener("keydown",this.handleArrowKeys,!1),this.documentListener=!0),this.props.focusElement.addEventListener("blur",this.handleElementBlur,!1),this.props.focusElement.addEventListener("focus",this.handleElementFocus,!1))}componentWillUnmount(){this.documentListener&&document.removeEventListener("keydown",this.handleArrowKeys),this.props.focusElement instanceof HTMLElement&&(this.props.focusElement.removeEventListener("blur",this.handleElementBlur),this.props.focusElement.removeEventListener("focus",this.handleElementFocus))}render(){return null}}i()(u,"propTypes",{focusElement:l.a.oneOfType([l.a.instanceOf(HTMLElement),l.a.object])})},AQgK:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var a,i,r,o=n("pVnL"),s=n.n(o),l=n("QILm"),c=n.n(l),d=n("lSNA"),u=n.n(d),m=n("VkAN"),h=n.n(m),p=n("q1tI"),f=n.n(p),g=n("/MKj"),v=n("17x9"),b=n.n(v),E=n("nbpM"),y=n("ePPS"),O=n("jwng"),T=n("yk2N"),S=n("478R"),w=n("Jje6"),j=n("7shN"),C=n.n(j);function D(){var e=h()(["Blocked"]);return D=function(){return e},e}function I(){var e=h()(["Deleted"]);return I=function(){return e},e}function x(){var e=h()(["New Client"]);return x=function(){return e},e}var M={new_customer:{badgeType:"info",formatText:()=>Object(y.c)(x())},deleted_customer:{badgeType:"danger",formatText:()=>Object(y.c)(I())},no_show_appointments:{badgeType:"danger",formatText:({count:e})=>Object(y.g)("%{count} No Show","%{count} No Shows",e,{count:e})},unpaid:{badgeType:"warning",formatText:({amount:e},{currencyCode:t})=>Object(y.c)("%{amount} Unpaid",{amount:Object(T.h)(e,{currencyCode:t})})},birthday:{badgeType:"info",formatText:({date:e})=>Object(y.c)("Birthday %{date}",{date:Object(T.d)(Object(O.k)(e),"day_of_year_short")})},blocked_customer:{badgeType:"danger",formatText:()=>Object(y.c)(D())}},N=Object(g.b)(e=>({currencyCode:E.a.getCurrencyCode(e)}),{})((r=i=class extends p.PureComponent{render(){var e=this.props,{customer:t,currencyCode:n}=e,a=c()(e,["customer","currencyCode"]);return f.a.createElement(w.b,s()({qaType:"customer-badges"},a),t.labels.map(e=>{var t=e,a=M[t.label];return null!=a?f.a.createElement(S.b,{key:t.label,className:C.a.badge,type:a.badgeType,qaType:"badge-".concat(t.label)},a.formatText(t,{currencyCode:n})):null}))}},u()(i,"propTypes",{customer:b.a.shape({labels:b.a.array}),currencyCode:b.a.string}),a=r))||a},BGhe:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));var a=n("pVnL"),i=n.n(a),r=n("lSNA"),o=n.n(r),s=n("q1tI"),l=n.n(s),c=n("17x9"),d=n.n(c),u=n("5ZU+"),m=n("jwng"),h=n("+aWU"),p=n("ELpF"),f=n("tNhX"),g=n("JqEL"),v=n("erLI"),b=n("hNyT"),E=n("Yq3D"),y=document.createElement("div"),O=null,T=e=>e.preventDefault();function S(t){class n extends s.PureComponent{constructor(...t){super(...t),o()(this,"onTouchEnd",()=>{setTimeout(this.context.scrollingRef.current.stopScrolling,100),e.clearTimeout(this.swipeLeftTimeout),this.swipeLeftTimeout=null,e.clearTimeout(this.swipeRightTimeout),this.swipeRightTimeout=null}),o()(this,"enterDragMode",()=>{var{canBookAppointments:e,event:t,timeline:n}=this.props;if(!e)return h.b(),void u.a.addPermissionToast();h.c(),u.a.startCalendarEventDrag(t,n,!1)}),o()(this,"handleDragEnd",e=>{var{isCalendarDragPending:t}=this.props;t||this.selfRef.current.contains(e.target)||this.props.finishEventTimelineDrag()}),o()(this,"handleMove",t=>{t.preventDefault(),this.updateRaf&&e.cancelAnimationFrame(this.updateRaf),this.updateRaf=e.requestAnimationFrame(()=>{this.updateDragState(t),this.context.scrollingRef.current.updateScrolling(t,!0)})}),o()(this,"switchTimeline",e=>{h.a(),u.a.moveCalendarDraggingEventByIndex(e)}),o()(this,"updateDragState",t=>{var{timelineWidth:n,timelineHeight:a,timelineLeft:i,timelineRight:r,isCalendarFetchingData:o}=this.props,{timelinesSizes:s,parentLeft:l,parentRight:c,triggerSwipeRight:d,triggerSwipeLeft:g}=this.context;if(!(o||this.eventExtendHandleRef.current&&t.target===this.eventExtendHandleRef.current)){var{top:v,left:b}=this.getTimeline().getBoundingClientRect(),{clientX:E,clientY:y}=Object(f.a)(t),T=(Math.min(Math.max(y-v,0),a)-O)/a;this.props.updateTimelineDragTimeFromPosition(Object(p.n)(T,m.c)),E<l+35?this.swipeLeftTimeout||(this.swipeLeftTimeout=e.setTimeout(()=>{var e=g();e>0&&this.switchTimeline(Math.round(-e/n)),this.swipeLeftTimeout=null},750)):E>c-35?this.swipeRightTimeout||(this.swipeRightTimeout=e.setTimeout(()=>{var e=d();e>0&&this.switchTimeline(Math.round(e/n)),this.swipeRightTimeout=null},750)):((E-b<i||E-b>r)&&(h.a(),u.a.switchCalendarDraggingEventTimeline(Math.floor((E-b-s[1].left)/n))),e.clearTimeout(this.swipeLeftTimeout),this.swipeLeftTimeout=null,e.clearTimeout(this.swipeRightTimeout),this.swipeRightTimeout=null)}}),o()(this,"updateDragDuration",e=>{var{timelineHeight:t}=this.props,{top:n}=this.getTimeline().getBoundingClientRect(),{clientY:a}=Object(f.a)(e),i=(a-n)/t;this.props.updateDurationDragTimeFromPosition(Object(p.c)(i,m.c))}),o()(this,"detachMoveEvents",()=>{y.removeEventListener("touchmove",this.handleMove),y.removeEventListener("touchend",this.onTouchEnd),y.removeEventListener("touchcancel",u.a.stopCalendarEventDragging)}),o()(this,"cancelDrag",()=>{clearTimeout(this.touchStartTimeout),y.removeEventListener("touchmove",this.cancelDrag),y.removeEventListener("touchend",this.cancelDrag)}),o()(this,"canDrag",()=>{var{event:e}=this.props;return!v.r.includes(e.status)}),o()(this,"handleInteractionStart",t=>{var{clientY:n}=Object(f.a)(t),{top:a}=this.selfRef.current.getBoundingClientRect();O=n-a,this.detachMoveEvents(),y=t.target,this.isDragActive()?this.attachMoveEvents():this.canDrag()&&(this.touchStartTimeout=e.setTimeout(this.enterDragMode,500),y.addEventListener("touchmove",this.cancelDrag),y.addEventListener("touchend",this.cancelDrag))}),o()(this,"selfRef",l.a.createRef()),o()(this,"eventExtendHandleRef",l.a.createRef()),o()(this,"updateRaf",null),o()(this,"touchStartTimeout",null),o()(this,"swipeLeftTimeout",null),o()(this,"swipeRightTimeout",null)}componentDidMount(){this.isDragActive()&&(this.tapEventListener=Object(g.b)(e,this.handleDragEnd),this.attachMoveEvents())}componentDidUpdate(e){e.event.isDraggingEvent&&!this.props.event.isDraggingEvent&&this.removeEvents()}componentWillUnmount(){this.removeEvents()}getTimeline(){return this.selfRef.current.parentElement}isDragActive(){return this.props.event.isDraggingEvent&&this.props.isCalendarTouchDragInProgress}removeEvents(){this.detachMoveEvents(),e.cancelAnimationFrame(this.updateRaf),clearTimeout(this.touchStartTimeout),this.tapEventListener&&this.tapEventListener.remove()}attachMoveEvents(){y.removeEventListener("touchmove",this.cancelDrag),y.removeEventListener("touchend",this.cancelDrag),y.addEventListener("touchmove",this.handleMove),y.addEventListener("touchend",this.onTouchEnd),y.addEventListener("touchcancel",u.a.stopCalendarEventDragging)}render(){var{event:e,timelineInterval:n}=this.props;return l.a.createElement(t,i()({onTouchStart:this.handleInteractionStart,selfRef:this.selfRef,onContextMenu:T},this.props),this.isDragActive()&&l.a.createElement(E.a,{selfRef:this.eventExtendHandleRef,onTouchMove:this.updateDragDuration,event:e,timelineInterval:n}))}}return o()(n,"contextType",b.a),o()(n,"propTypes",{isCalendarDragPending:d.a.bool,canBookAppointments:d.a.bool,isCalendarTouchDragInProgress:d.a.bool,event:d.a.object,timeline:d.a.object,finishEventTimelineDrag:d.a.func,updateTimelineDragTimeFromPosition:d.a.func,updateDurationDragTimeFromPosition:d.a.func,timelineWidth:d.a.number,timelineHeight:d.a.number,timelineLeft:d.a.number,timelineRight:d.a.number,timelineInterval:d.a.number,isCalendarFetchingData:d.a.bool}),n}}).call(this,n("yLpj"))},BkP1:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return D}));var a,i,r,o=n("9oTK"),s=n.n(o),l=n("lSNA"),c=n.n(l),d=n("q1tI"),u=n.n(d),m=n("/MKj"),h=n("17x9"),p=n.n(h),f=n("5ZU+"),g=n("XOD0"),v=n("nbpM"),b=n("zsI5"),E=n("ocZZ"),y=n("V0dS"),O=n("/uSU"),T=n("+Gzo"),S=n("zDos"),w=n("bXOm"),j=n("16w6"),C=n("wzVS"),D=Object(m.b)(e=>({providerId:v.a.getProvider(e).id,currentEmployeeId:v.a.getCurrentEmployee(e).id,initialPayloadFetched:v.a.getCalendarInitialPayloadFetched(e),locationId:v.a.getCalendarLocationId(e),date:v.a.getCalendarDate(e),resourceType:v.a.getCalendarResourceType(e),view:v.a.getCalendarView(e),roomId:v.a.getCalendarRoomId(e),employeeId:v.a.getCalendarEmployeeId(e),loggedInEmployeeID:v.a.getCurrentEmployee(e).id,action:v.a.getCalendarAction(e),calendarActionObjectId:v.a.getCalendarActionObjectId(e),forceFetchMutablePayload:v.a.shouldForceFetchCalendarMutablePayload(e),providerMoment:v.a.providerMoment(e),providerMomentTZ:v.a.providerMomentTZ(e)}),{refreshCalendar:y.m,bulkJsonApiOrmUpdate:b.a})((r=i=class extends d.PureComponent{constructor(...t){super(...t),c()(this,"state",{error:null,isFetching:!0,noLocations:!1}),c()(this,"handleFetchSuccess",t=>{var{action:n,providerId:a,currentEmployeeId:i}=this.props;f.a.deleteAllBookingLeases(),this.props.bulkJsonApiOrmUpdate(t),n||Object(y.p)(e.location.search,a,i),this.props.initialPayloadFetched||f.a.setCalendarInitialPayloadFetched(!0),this.props.refreshCalendar(),this.setState({error:null,isFetching:!1})}),c()(this,"handleFetchFail",e=>{this.setState({error:e,isFetching:!1})}),c()(this,"onFinally",()=>{f.a.finishCalendarFetchingData()}),c()(this,"fetchMutableCalendarPayload",()=>(this.setState({isFetching:!0}),new s.a(e=>{f.a.setForceFetchMutableCalendarPayload(!1),f.a.fetchMutableCalendarPayload(f.a,this.handleFetchSuccess,this.handleFetchFail,(...t)=>{e(),this.onFinally(...t)})}))),c()(this,"retryFetch",()=>{var{error:t}=this.state;t.status&&(Object(y.n)(),Object(g.f)(T.z)),e.location.reload(!0)})}componentDidMount(){var{loggedInEmployeeID:e}=this.props;Object(j.c)(e),Object(S.a)(this.props).then(()=>this.fetchMutableCalendarPayload()).catch(e=>{if(!(e instanceof O.a))throw this.setState({error:e}),e;this.setState({isFetching:!1,noLocations:!0})})}componentDidUpdate(e){if(!this.state.isFetching&&Object(w.b)(this.props)){var{locationId:t}=this.props;e.locationId!==t?Object(y.l)(t).then(()=>this.fetchMutableCalendarPayload()):this.shouldFetchMutablePayload(e)&&this.fetchMutableCalendarPayload()}}componentDidCatch(e,t){this.setState({error:e}),Object(E.b)(e,t,{errorType:"calendar PayloadController boundary error"})}shouldFetchMutablePayload(e){return this.props.forceFetchMutablePayload||!e||e.date&&!e.date.isSame(this.props.date)||e.resourceType!==this.props.resourceType||e.view!==this.props.view||e.roomId!==this.props.roomId||e.employeeId!==this.props.employeeId}render(){var{isMatch:e,children:t,initialPayloadFetched:n}=this.props,{noLocations:a,error:i,isFetching:r}=this.state;return u.a.createElement(C.a,{isFetching:r,isMatch:e,initialFetched:n,didFail:!!i,retryFetch:this.retryFetch,noLocations:a},t)}},c()(i,"propTypes",{children:p.a.node.isRequired,isMatch:p.a.bool,providerId:p.a.string,refreshCalendar:p.a.func,currentEmployeeId:p.a.string,bulkJsonApiOrmUpdate:p.a.func,initialPayloadFetched:p.a.bool,locationId:p.a.string,date:p.a.object,resourceType:p.a.string,view:p.a.string,roomId:p.a.string,employeeId:p.a.string,loggedInEmployeeID:p.a.string,action:p.a.string,forceFetchMutablePayload:p.a.bool}),a=r))||a}).call(this,n("yLpj"))},E04k:function(e,t){e.exports='<svg viewBox="0 0 375 351" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g transform="translate(218 125)" fill="none" fill-rule="evenodd"><rect fill="#A5E2F6" width="153" height="78" rx="4"></rect><text font-family="Muli-Regular, Muli" font-size="13" fill="#101928"><tspan x="9.351" y="21">10:00am - 11:00am</tspan></text><text font-family="Muli-Bold, Muli" font-size="14" font-weight="bold" fill="#101928"><tspan x="10" y="43">Jessie Wallback</tspan></text><text font-family="Muli-Regular, Muli" font-size="13" fill="#101928"><tspan x="10" y="64">Haircut</tspan></text></g></svg>'},EoPl:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a,i,r,o=n("lSNA"),s=n.n(o),l=n("VkAN"),c=n.n(l),d=n("q1tI"),u=n.n(d),m=n("17x9"),h=n.n(m),p=n("ePPS"),f=n("Qs7Y"),g=n("/Q2I"),v=n("3wSE"),b=n("dhJQ");function E(){var e=c()(["Close"]);return E=function(){return e},e}function y(){var e=c()(["Split Appointment"]);return y=function(){return e},e}function O(){var e=c()(["This appointment is part of a package. You are not able to split services from packages,\nhowever you can use the reschedule function to move the enitre appointment to a different date."]);return O=function(){return e},e}var T=Object(p.c)(O()),S=Object(b.g)()((r=i=class extends d.PureComponent{render(){var{onClose:e,isMatch:t}=this.props;return u.a.createElement(g.i,null,u.a.createElement(g.g,{subheader:t&&T,noBottomPadding:!0,onClose:e},Object(p.c)(y())),u.a.createElement(g.c,{onlyBottomPadding:t},!t&&u.a.createElement(f.d,null,T)),u.a.createElement(g.e,null,u.a.createElement(v.f,{onAction:e},Object(p.c)(E()))))}},s()(i,"propTypes",{onClose:h.a.func,isMatch:h.a.bool}),a=r))||a},F2wA:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var a,i,r,o=n("VkAN"),s=n.n(o),l=n("lSNA"),c=n.n(l),d=n("q1tI"),u=n.n(d),m=n("17x9"),h=n.n(m),p=n("/MKj"),f=n("PhEd"),g=n("ePPS"),v=n("nbpM"),b=n("ZO1O"),E=n("Jje6"),y=n("tPh7"),O=n("dhJQ"),T=n("3wSE"),S=n("/Q2I"),w=n("kZhr"),j=n("uZ2f"),C=n("etT8"),D=n("MWS2"),I=n.n(D);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(){var e=s()(["Update"]);return N=function(){return e},e}function P(){var e=s()(["Cancel"]);return P=function(){return e},e}function A(){var e=s()(["Update all upcoming appointments"]);return A=function(){return e},e}function R(){var e=s()(["Update this appointment only"]);return R=function(){return e},e}function k(){var e=s()(["Update all upcoming appointments"]);return k=function(){return e},e}function L(){var e=s()(["Update this appointment only"]);return L=function(){return e},e}function F(){var e=s()(["You have edited a repeating appointment. Select which appointments should be updated:"]);return F=function(){return e},e}function B(){var e=s()(["Update appointment"]);return B=function(){return e},e}var q="single",H="future",z=Object(O.i)()(a=Object(w.q)({form:"reschedule",initialValues:{update:q,notify:!0}})(a=Object(p.b)(e=>{var t=v.a.getCalendarDraggingEventCustomer(e),n=v.a.getBookingFlowCustomer(e),a=v.a.isReshedulEnabled(e);return{customerName:t&&t.firstName||n&&n.firstName,reshedulEnabled:a}})((r=i=class extends d.PureComponent{render(){var{errors:e,customerName:t,onCancel:n,submit:a,isMatch:i,reshedulEnabled:r}=this.props,o=e.includes(C.b.UPDATE_TYPE),s=e.includes(C.b.SEND_RESCHEDULE_NOTIFICATION)&&t;return u.a.createElement(S.i,{size:o?void 0:"small"},u.a.createElement(S.g,{onClose:n,noBottomPadding:!0},Object(g.c)(B())),u.a.createElement(S.c,{onlyBottomPadding:!0,className:I.a.self},o&&u.a.createElement(E.b,{className:I.a.topCard},u.a.createElement(y.a,{forceShow:!0},Object(g.c)(F())),u.a.createElement(b.d,{type:"plain popup-form"},r?u.a.createElement(f.ReduxForm.RadioGroup,{direction:"column",name:"update",className:I.a.fieldUpdate},u.a.createElement(f.ReduxForm.RadioGroupItem,{as:f.Form.RadioField,label:Object(g.c)(L()),value:q,layoutVariant:"default",className:I.a.fieldUpdateCurrent}),u.a.createElement(f.ReduxForm.RadioGroupItem,{as:f.Form.RadioField,label:Object(g.c)(k()),value:H,layoutVariant:"default",className:I.a.fieldUpdateUpcoming})):u.a.createElement(u.a.Fragment,null,u.a.createElement(w.B,{name:"update",value:q,basis:"100%",label:Object(g.c)(R())}),u.a.createElement(w.B,{name:"update",value:H,basis:"100%",label:Object(g.c)(A())})))),s&&u.a.createElement(b.d,{type:"plain popup-form",className:I.a.notifyCard},u.a.createElement(j.b,{name:"notify",label:Object(g.c)("Notify %{customerName} about reschedule",{customerName:t}),hint:Object(g.c)("Send a message informing %{customerName} their appointment was rescheduled",{customerName:t})}))),u.a.createElement(S.e,{noPadding:!0},u.a.createElement(T.d,null,!i&&u.a.createElement(T.a,{onAction:n,qaType:"cancel-update-appointment-button"},Object(g.c)(P())),u.a.createElement(T.f,{onAction:a,qaType:"confirm-update-appointment-button"},Object(g.c)(N())))))}},c()(i,"propTypes",M(M({},w.Q),{},{errors:h.a.arrayOf(h.a.string),customerName:h.a.string,isMatch:h.a.bool,reshedulEnabled:h.a.bool})),a=r))||a)||a)||a},GV30:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var a,i,r,o=n("pVnL"),s=n.n(o),l=n("VkAN"),c=n.n(l),d=n("QILm"),u=n.n(d),m=n("lSNA"),h=n.n(m),p=n("q1tI"),f=n.n(p),g=n("17x9"),v=n.n(g),b=n("/MKj"),E=n("TSYQ"),y=n.n(E),O=n("nbpM"),T=n("V0dS"),S=n("ePPS"),w=n("3wSE"),j=n("Jje6"),C=n("uopA"),D=n("1KWQ"),I=n("erLI"),x=n("ezqx"),M=n.n(x);function N(){var e=c()(["View All Staff"]);return N=function(){return e},e}function P(){var e=c()(["staff section"]);return P=function(){return e},e}function A(){var e=c()(["No scheduled staff"]);return A=function(){return e},e}var R=Object(b.b)(e=>({scheduleUrl:"".concat(D.d,"?location-id=").concat(O.a.getCalendarLocationId(e))}),{mutateAndNavigateCalendarState:T.i})((r=i=class extends p.PureComponent{constructor(...e){super(...e),h()(this,"onClick",()=>{this.props.mutateAndNavigateCalendarState("resource",I.c)})}render(){var e=this.props,{displayButtons:t,scheduleUrl:n,className:a}=e,i=u()(e,["displayButtons","scheduleUrl","className"]);return f.a.createElement(C.a,s()({flex:"column",justifyContent:"center",iconColor:"original",name:Object(S.c)(A()),text:f.a.createElement(j.b,null,Object(S.c)("See the %{staff} to set staff working hours",{staff:f.a.createElement(w.n,{inheritFontSize:!0,linkTo:n},Object(S.c)(P()))})),className:y()(M.a.self,a)},i),t&&f.a.createElement(f.a.Fragment,null,f.a.createElement(j.b,{className:M.a.buttons,flex:"row",justifyContent:"center"},f.a.createElement(w.f,{className:M.a.allStaff,onAction:this.onClick,alignSelf:"center"},Object(S.c)(N())))))}},h()(i,"propTypes",{className:v.a.string,scheduleUrl:v.a.string.isRequired,displayButtons:v.a.bool,mutateAndNavigateCalendarState:v.a.func}),a=r))||a},GWDp:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return ee}));var a,i,r,o=n("lSNA"),s=n.n(o),l=n("sEfC"),c=n.n(l),d=n("DzJC"),u=n.n(d),m=n("mwIZ"),h=n.n(m),p=n("q1tI"),f=n.n(p),g=n("/MKj"),v=n("TSYQ"),b=n.n(v),E=n("17x9"),y=n.n(E),O=n("zELP"),T=n.n(O),S=n("nbpM"),w=n("5ZU+"),j=n("F2wA"),C=n("jwng"),D=n("V0dS"),I=n("Jje6"),x=n("dhJQ"),M=n("IeCe"),N=n("3wSE"),P=n("9wjN"),A=n("fJus"),R=n("a0lR"),k=n("JN5D"),L=n("ELpF"),F=n("HaKP"),B=n("oOVh"),q=n("8HE8"),H=n("b8zI"),z=n("EoPl"),W=n("ek2v"),_=n("Koft"),Y=n("g5Wf"),U=n("wrAE"),V=n.n(U);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=parseInt(M.defaultIntervalHeight,10),J=parseInt(M.intervalsWidth,10),X=parseInt(M.intervalsWidthDesktop,10);var Z=Object(R.a)("div"),$=()=>0,ee=Object(x.i)()(a=Object(g.b)(e=>({timepickingEvent:S.a.getBooking(e,S.a.getCalendarActionObjectId(e)),draggingShowConfirmationModal:S.a.getCalendarDraggingShowConfirmationModal(e),showPackageSplittingModal:S.a.getCalendarShowPackageSplittingModal(e),calendarBookingHintsModal:S.a.getCalendarBookingHintsModal(e),calendarRescheduleErrors:S.a.getCalendarRescheduleErrors(e),scrollTopPosition:S.a.getCalendarScrollTopPosition(e),extendedTimelines:S.a.getCalendarExtendedTimelines(e),timelineInterval:S.a.getTimelineInterval(e),calendarView:S.a.getCalendarView(e),calendarSizes:S.a.getCalendarSizes(e),isCalendarFetchingData:S.a.isCalendarFetchingData(e),isCalendarDragPending:S.a.isCalendarDragPending(e),navbarOpen:S.a.getCalendarNavbarOpen(e),calendarAppBannerHiddenAt:S.a.getCalendarAppBannerHiddenAt(e),providerMoment:S.a.providerMoment(e)}),{finishEventTimelineDrag:D.d,refreshCalendar:D.m,confirmResheduleDrag:D.b})((r=i=class extends f.a.Component{constructor(...e){super(...e),s()(this,"scrollToNow",e=>{var{timepickingEvent:t,providerMoment:n}=this.props,a=t?function(e){var{start:t,end:n}=e;return t.isSame(n,"day")?Object(C.i)(t,n):t.endOf("day")}(t):n(),i=this.getScrollingDivRef(),r=i.scrollHeight*Object(L.f)(a)-.5*i.clientHeight;e?T.a.top(i,r):i.scrollTop=r}),s()(this,"handleResize",u()(()=>{this.props.refreshCalendar()},100)),s()(this,"confirmReschedule",({update:e,notify:t})=>{this.props.isCalendarDragPending?this.props.confirmResheduleDrag(!!t):(w.a.updateBookingFlow({skipRescheduleNotification:!t,updateType:e}),this.clearCalendarRescheduleErrors(),Object(D.h)())}),s()(this,"clearCalendarRescheduleErrors",()=>{this.props.isCalendarDragPending?w.a.stopCalendarEventDragging():w.a.setCalendarRescheduleErrors(null)}),s()(this,"handleLeftArrowClick",()=>{this.swipeableTimelinesRef.current.getWrappedInstance().triggerSwipeLeft()}),s()(this,"handleRightArrowClick",()=>{this.swipeableTimelinesRef.current.getWrappedInstance().triggerSwipeRight()}),s()(this,"scrollingRef",f.a.createRef()),s()(this,"sizeDivRef",f.a.createRef()),s()(this,"swipeableTimelinesRef",f.a.createRef()),s()(this,"positionIndicatorRef",f.a.createRef()),s()(this,"arrowLeftRef",f.a.createRef()),s()(this,"arrowRightRef",f.a.createRef()),s()(this,"scrollTopPosition",0),s()(this,"saveScrollPosition",c()(()=>{this.scrollTopPosition=this.getScrollingDivRef().scrollTop},150))}componentDidMount(){e.addEventListener("resize",this.handleResize),this.setInitialTimelineScroll(),w.a.registerCalendarScrollToNow(this.scrollToNow)}shouldComponentUpdate(e){return!e.isCalendarFetchingData&&!Object(A.h)(this.props,e)}componentDidUpdate(e){var{timelineInterval:t}=e,{timelineInterval:n}=this.props;t!==n&&this.adjustScrollAfterIntervalChange({currentTimelineInterval:n,prevTimelineInterval:t})}componentWillUnmount(){e.removeEventListener("resize",this.handleResize),w.a.setCalendarSizesAndScroll(this.getSizes(),this.getScrollTopPosition()),e.cancelAnimationFrame(this.scrollRaf),w.a.registerCalendarScrollToNow(null)}getScrollTopPosition(){return this.getScrollingDivRef().scrollTop}getHeaderHeight(){var{calendarView:e}=this.props;return Object(k.b)(e)?80:60}getIntervalHeight({headersHeight:e,timelineIntervals:t}){var n=this.sizeDivRef.current.clientHeight-e;return Math.max(Q,n/t.length)}getSizes(){var{extendedTimelines:e,timelineInterval:t,calendarView:n,isMatch:a,calendarSizes:i}=this.props;if(!this.sizeDivRef.current)return i||{};var r=this.getHeaderHeight(),o=Object(L.g)(t),s=a?J:X,l=this.getIntervalHeight({headersHeight:r,timelineIntervals:o}),{clientWidth:c,clientHeight:d,offsetWidth:u}=this.sizeDivRef.current,m=o.length*l,h=m>d,p=this.sizeDivRef.current.getBoundingClientRect(),f=(h?c:u)-s+16,g=p.top+r,v=p.left+s,b=v+f,E=Object(L.i)(f,e,n);return{timelinesSizes:E,parentWidth:f,parentTop:g,parentLeft:v,parentRight:b,timelineHeight:m,timelinesWidthsSum:E.reduce((e,t)=>e+t.width,0),intervalHeight:l,intervalWidth:s,headersHeight:r}}setInitialTimelineScroll(){var{scrollTopPosition:e}=this.props;null!==e?this.getScrollingDivRef().scrollTop=e:this.scrollToNow(!1)}getScrollingDivRef(){return h()(this,"scrollingRef.current.wrappedInstanceEl",document.createElement("div"))}adjustScrollAfterIntervalChange({currentTimelineInterval:t,prevTimelineInterval:n}){var a=Object(L.g)(t),i=this.getIntervalHeight({headersHeight:this.getHeaderHeight(),timelineIntervals:a}),r=Object(L.g)(n).length*i,o=a.length*i,s=this.scrollTopPosition/r*o;this.scrollRaf=e.requestAnimationFrame(()=>{this.getScrollingDivRef().scrollTop=s})}renderModals(){var{calendarBookingHintsModal:e,calendarRescheduleErrors:t,draggingShowConfirmationModal:n,showPackageSplittingModal:a}=this.props;return n?f.a.createElement(H.a,{onConfirm:this.props.finishEventTimelineDrag,onCancel:w.a.stopCalendarEventDragging}):a?f.a.createElement(z.a,{onClose:w.a.stopCalendarEventDragging}):e?f.a.createElement(W.a,null):t?f.a.createElement(j.a,{onSubmit:this.confirmReschedule,onCancel:this.clearCalendarRescheduleErrors,errors:t}):null}render(){var{extendedTimelines:e,timelineInterval:t}=this.props,n=K(K({},this.getSizes()),{},{extendedTimelines:e,scrollingRef:this.scrollingRef}),{timelineHeight:a,timelinesSizes:i,parentTop:r,headersHeight:o,intervalHeight:s}=n,l=C.a/t*Q;return f.a.createElement("div",{className:b()(V.a.self)},f.a.createElement(q.a,{focusElement:this.scrollingRef}),this.renderModals(),f.a.createElement(I.b,{style:{height:o},className:V.a.rect}),f.a.createElement(Z,{onScroll:this.saveScrollPosition,className:V.a.intervalsWrapper,ref:this.scrollingRef,scrollEnabled:!1,scrollFakeEvents:!1,horizontalStrength:$,"data-qa":"calendar-scrolling-div"},f.a.createElement(F.a,{intervalHeight:s,headersHeight:o,timelineHeight:a,qaType:"intervals-with-time"}),f.a.createElement(I.b,{className:V.a.sizeDiv,selfRef:this.sizeDivRef}),f.a.createElement(N.b,{onAction:this.handleLeftArrowClick,name:"chevron-left",color:"gray-7",className:b()(V.a.arrow,V.a.left),ref:this.arrowLeftRef}),f.a.createElement(N.b,{onAction:this.handleRightArrowClick,name:"chevron-right",color:"gray-7",className:b()(V.a.arrow,V.a.right),ref:this.arrowRightRef}),Object(P.f)()&&f.a.createElement(I.b,{style:{top:r+10},selfRef:this.positionIndicatorRef,className:V.a.positionIndicator},f.a.createElement(I.b,{className:V.a.positionIndicatorInner})),f.a.createElement(I.b,{className:V.a.timelinesWrapper,style:{height:a||l}},i&&f.a.createElement(_.a.Provider,{value:n},f.a.createElement(Y.a,{timelinesSizes:i,extendedTimelines:e,headersHeight:o}),f.a.createElement(B.a,{timelinesSizes:i,ref:this.swipeableTimelinesRef,positionIndicatorRef:this.positionIndicatorRef,arrowLeftRef:this.arrowLeftRef,arrowRightRef:this.arrowRightRef})))))}},s()(i,"propTypes",{timepickingEvent:y.a.object,draggingShowConfirmationModal:y.a.bool,showPackageSplittingModal:y.a.bool,calendarBookingHintsModal:y.a.bool,calendarRescheduleErrors:y.a.array,finishEventTimelineDrag:y.a.func,scrollTopPosition:y.a.number,extendedTimelines:y.a.arrayOf(y.a.oneOfType([y.a.object,y.a.array])),isMatch:y.a.bool,calendarView:y.a.string,timelineInterval:y.a.number,calendarSizes:y.a.object,isCalendarFetchingData:y.a.bool,isCalendarDragPending:y.a.bool,refreshCalendar:y.a.func,confirmResheduleDrag:y.a.func,providerMoment:y.a.func}),a=r))||a)||a}).call(this,n("yLpj"))},HaKP:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return D}));var a,i,r,o=n("pVnL"),s=n.n(o),l=n("QILm"),c=n.n(l),d=n("lSNA"),u=n.n(d),m=n("q1tI"),h=n.n(m),p=n("/MKj"),f=n("TSYQ"),g=n.n(f),v=n("17x9"),b=n.n(v),E=n("yk2N"),y=n("nbpM"),O=n("Jje6"),T=n("erLI"),S=n("ELpF"),w=n("XG7Q"),j=n("ft1W"),C=n.n(j),D=Object(p.b)(e=>{var t=y.a.getCalendarView(e)===T.s.DAY,n=y.a.providerMoment(e),a=y.a.getCalendarDate(e).isSame(n(),"day");return{timelineInterval:y.a.getTimelineInterval(e),isProviderTimeFormat24h:y.a.isProviderTimeFormat24h(e),shouldDisplayCurrentTime:t&&a,providerMoment:n}})((r=i=class extends h.a.PureComponent{constructor(...e){super(...e),u()(this,"interval",null)}componentDidMount(){this.handleUpdateInterval()}componentDidUpdate(){this.handleUpdateInterval()}componentWillUnmount(){clearInterval(this.interval)}getTimeText(e){var{isProviderTimeFormat24h:t}=this.props,n=Object(E.d)(e,"time");return t?n:h.a.createElement(O.b,{className:C.a.timeText},h.a.createElement(O.b,null,n.substring(0,n.length-2)),h.a.createElement(O.b,{className:C.a.textSmaller},n.slice(-2)))}handleUpdateInterval(){var{shouldDisplayCurrentTime:t}=this.props;t?this.interval||(this.interval=setInterval(()=>{this.forceUpdate()},5e3)):(e.clearInterval(this.interval),this.interval=null)}render(){var e=this.props,{shouldDisplayCurrentTime:t,isProviderTimeFormat24h:n,timelineInterval:a,timelineHeight:i,headersHeight:r,intervalHeight:o,providerMoment:l}=e,d=c()(e,["shouldDisplayCurrentTime","isProviderTimeFormat24h","timelineInterval","timelineHeight","headersHeight","intervalHeight","providerMoment"]),u=Object(S.m)(l()),m=Object(S.g)(a),p=0;m.some(({displayTime:e},t)=>(e||(p+=o),e&&t>0));var f=m.filter(({displayTime:e})=>e).map(e=>h.a.createElement(O.b,s()({key:e.seconds,className:g()(C.a.interval,{[C.a.hourStart]:e.hourStart}),marginBottom:p},e.hourStart&&{qaType:"interval-hour-start"}),e.displayTime&&this.getTimeText(e.moment)));return h.a.createElement(O.b,s()({className:C.a.self},d,{style:{height:i,paddingTop:r}}),h.a.createElement(O.b,{className:C.a.intervalsWrapper},f,t&&h.a.createElement(O.b,{className:C.a.currentTime,style:{top:"".concat(u,"%")},qaType:"current-time-pill"},Object(E.d)(l(),"time_no_meridiem")),h.a.createElement(w.a,null)))}},u()(i,"propTypes",{isProviderTimeFormat24h:b.a.bool,timelineInterval:b.a.number,shouldDisplayCurrentTime:b.a.bool,headersHeight:b.a.number,intervalHeight:b.a.number,timelineHeight:b.a.number,providerMoment:b.a.func}),a=r))||a}).call(this,n("yLpj"))},ILui:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n("pVnL"),i=n.n(a),r=n("QILm"),o=n.n(r),s=n("lSNA"),l=n.n(s),c=n("q1tI"),d=n.n(c),u=n("17x9"),m=n.n(u),h=n("TSYQ"),p=n.n(h),f=n("fJus"),g=n("Jje6"),v=n("7TQR"),b=n.n(v),E={VERTICAL:"vertical",HORIZONTAL:"horizontal"};class y extends c.PureComponent{render(){var e=this.props,{className:t,type:n,color:a,withMargin:r,inForm:s}=e,l=o()(e,["className","type","color","withMargin","inForm"]),c=n===E.HORIZONTAL;return d.a.createElement(g.b,i()({className:p()(b.a.self,{[b.a.horizontal]:c,[b.a.vertical]:!c,[b.a.withMargin]:r,[b.a.inForm]:s},t)},l),d.a.createElement(g.b,{className:p()(b.a.line,b.a["color-".concat(a)])}))}}l()(y,"TYPES",E),l()(y,"propTypes",{className:m.a.string,type:m.a.oneOf(Object.values(E)),color:m.a.oneOf(Object(f.f)(b.a,"color-")),withMargin:m.a.bool,inForm:m.a.bool}),l()(y,"defaultProps",{color:"gray-3",type:E.HORIZONTAL})},KSaN:function(e,t,n){"use strict";n.d(t,"m",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"l",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return v})),n.d(t,"h",(function(){return E})),n.d(t,"j",(function(){return y})),n.d(t,"g",(function(){return O})),n.d(t,"f",(function(){return T})),n.d(t,"d",(function(){return w})),n.d(t,"k",(function(){return j}));var a=n("17x9"),i=n.n(a),r=n("QXy2"),o=n("jwng"),s=n("erLI"),l=n("sQHA"),{string:c,number:d,bool:u,func:m,shape:h,oneOf:p,oneOfType:f,array:g,arrayOf:v,element:b,node:E,object:y}=i.a,O=(i.a.number,i.a.number,Object(r.a)("moment",e=>o.k.isMoment(e))),T=(f([O,m]),c),S=c,w=h({id:T.isRequired,type:c.isRequired,timelineId:T.isRequired,start:O.isRequired,end:O.isRequired,endOfService:O,duration:c,serviceName:c,employeeId:T,roomId:T,status:c,isRecurring:u,employeeIsRequested:u,isOnline:u,appointmentChannelVariant:p(Object.values(l.k)),hasSale:u,isFullyPaid:u,saleTooltip:c,bookingTooltip:c,price:d,basePrice:d,notes:c,humanStatus:c}),j=(h({id:T,type:p(Object.values(s.p)),key:c,date:O.isRequired,name:c,highlights:v(y),events:v(y)}),h({key:S,start:O.isRequired,end:O.isRequired}),h({id:f([T,c]).isRequired,name:c.isRequired}))},Koft:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("q1tI"),i=n.n(a).a.createContext({})},NFlB:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a,i,r,o=n("VkAN"),s=n.n(o),l=n("lSNA"),c=n.n(l),d=n("q1tI"),u=n.n(d),m=n("17x9"),h=n.n(m),p=n("PhEd"),f=n("/MKj"),g=n("nbpM"),v=n("5o92"),b=n("ePPS"),E=n("SFs4"),y=n("3wSE");function O(){var e=s()(["Online booking will be disabled for"]);return O=function(){return e},e}function T(){var e=s()(["Online booking will be disabled for"]);return T=function(){return e},e}var S=Object(f.b)(e=>({isServicesRevampEnabled:g.a.isServicesRevampEnabled(e)}))((r=i=class extends d.PureComponent{render(){var{affectedLocationProfiles:e,isServicesRevampEnabled:t}=this.props;return t?u.a.createElement(p.MediaCardNote,{title:u.a.createElement(u.a.Fragment,null,Object(b.c)(T())," ",e.map(({locationName:t,locationUrl:n},a)=>u.a.createElement(u.a.Fragment,null,u.a.createElement(y.n,{linkTo:Object(v.a)(n,!0),key:n},t),a!==e.length-1&&", ")))}):u.a.createElement(E.b,{icon:"light-bulb-yellow",title:u.a.createElement(u.a.Fragment,null,Object(b.c)(O())," ",e.map(({locationName:t,locationUrl:n},a)=>u.a.createElement(u.a.Fragment,null,u.a.createElement(y.n,{linkTo:Object(v.a)(n,!0),key:n},t),a!==e.length-1&&", ")))})}},c()(i,"propTypes",{affectedLocationProfiles:h.a.array,isServicesRevampEnabled:h.a.bool}),a=r))||a},NeG6:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 94 47"><polygon fill="#FFDE78" points="294 46.5 341 0 388 46.5" transform="translate(-294)"></polygon></svg>'},Tuuo:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n("VkAN"),i=n.n(a),r=n("lSNA"),o=n.n(r),s=n("q1tI"),l=n.n(s),c=n("17x9"),d=n.n(c),u=n("TSYQ"),m=n.n(u),h=n("ePPS"),p=n("Jje6"),f=n("zvOQ"),g=n.n(f);function v(){var e=i()(["Small"]);return v=function(){return e},e}function b(){var e=i()(["Large"]);return b=function(){return e},e}class E extends s.PureComponent{render(){var{isMatch:e}=this.props;return l.a.createElement(p.b,{className:m()(g.a.options,{[g.a.desktop]:!e})},l.a.createElement(p.b,{className:m()(g.a.option)},l.a.createElement(p.b,null,Object(h.c)(b()))),l.a.createElement(p.b,{className:m()(g.a.option)},l.a.createElement(p.b,null,Object(h.c)(v()))),l.a.createElement(p.b,{className:g.a.breakpoints},l.a.createElement(p.b,{className:g.a.breakpoint}),l.a.createElement(p.b,{className:g.a.breakpoint})))}}o()(E,"propTypes",{isMatch:d.a.bool})},VmgP:function(e,t){e.exports='<svg viewBox="0 0 540 384" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="#F3F3F4" d="M0 0h539v384H0z"></path><g transform="translate(381 128)"><rect fill="#A5E2F6" width="154" height="78" rx="4"></rect><text font-family="Muli-Regular, Muli" font-size="13" fill="#101928"><tspan x="9.351" y="21">10:00am - 11:00am</tspan></text><text font-family="Muli-Bold, Muli" font-size="14" font-weight="bold" fill="#101928"><tspan x="10" y="43">Martin Dairy</tspan></text><text font-family="Muli-Regular, Muli" font-size="13" fill="#101928"><tspan x="10" y="64">Haircut</tspan></text></g><path fill="#D8D8D8" d="M51 36h489v1H51zM51 123h489v1H51zM51 210h489v1H51zM51 297h489v1H51z"></path><path fill="#D8D8D8" d="M376 1h1v383h-1zM539 1h1v383h-1zM213 1h1v383h-1z"></path><g transform="translate(218 41)"><rect fill="#FFBF69" width="154" height="78" rx="4"></rect><text font-family="Muli-Regular, Muli" font-size="13" fill="#101928"><tspan x="9" y="21">9:00am - 10:00am</tspan></text><text font-family="Muli-Bold, Muli" font-size="14" font-weight="bold" fill="#101928"><tspan x="10" y="43">Jessie Wallback</tspan></text><text font-family="Muli-Regular, Muli" font-size="13" fill="#101928"><tspan x="10" y="64">Haircut</tspan></text></g><g transform="translate(55 215)"><rect fill="#D9D9D9" width="154" height="78" rx="4"></rect><text font-family="Muli-Regular, Muli" font-size="13" fill="#101928"><tspan x="9" y="21">11:00am - 12:00pm</tspan></text><text font-family="Muli-Bold, Muli" font-size="14" font-weight="bold" fill="#101928"><tspan x="10" y="43">Anne Marie</tspan></text><text font-family="Muli-Regular, Muli" font-size="13" fill="#101928"><tspan x="10" y="64">Haircut</tspan></text></g><g transform="translate(382 302)"><rect fill="#F898B6" width="154" height="78" rx="4"></rect><text font-family="Muli-Regular, Muli" font-size="13" fill="#101928"><tspan x="9" y="21">12:00pm - 1:00pm</tspan></text><text font-family="Muli-Bold, Muli" font-size="14" font-weight="bold" fill="#101928"><tspan x="10" y="43">Kevin Gray</tspan></text><text font-family="Muli-Regular, Muli" font-size="13" fill="#101928"><tspan x="10" y="64">Haircut</tspan></text></g></g><g fill="none" fill-rule="evenodd"><path fill="#F3F3F4" d="M0 0h50v384H0z"></path><path fill="#D8D8D8" d="M50 1h1v383h-1z"></path><text font-family="Muli-Bold, Muli" font-size="13" font-weight="bold" fill="#101928"><tspan x="12.956" y="44">9:00</tspan><tspan x="20.535" y="59" font-family="Muli-Regular, Muli" font-weight="normal">am</tspan></text><text font-family="Muli-Bold, Muli" font-size="13" font-weight="bold" fill="#101928"><tspan x="5.497" y="132">10:00</tspan><tspan x="20.535" y="147" font-family="Muli-Regular, Muli" font-weight="normal">am</tspan></text><text font-family="Muli-Bold, Muli" font-size="13" font-weight="bold" fill="#101928"><tspan x="5.497" y="219">11:00</tspan><tspan x="20.535" y="234" font-family="Muli-Regular, Muli" font-weight="normal">am</tspan></text><text font-family="Muli-Bold, Muli" font-size="13" font-weight="bold" fill="#101928"><tspan x="5.497" y="306">12:00</tspan><tspan x="20.313" y="321" font-family="Muli-Regular, Muli" font-weight="normal">pm</tspan></text></g></svg>'},XG7Q:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a,i,r,o=n("lSNA"),s=n.n(o),l=n("q1tI"),c=n.n(l),d=n("17x9"),u=n.n(d),m=n("/MKj"),h=n("Jje6"),p=n("yk2N"),f=n("nbpM"),g=n("ELpF"),v=n("ft1W"),b=n.n(v),E=Object(m.b)(e=>{var t=f.a.getCalendarDraggingEvent(e),n=t?Object(g.f)(t.start):null,a=f.a.getCalendarTimeSelectionFract(e);return null!==n?{startFract:n}:null!==a?{startFract:a}:{startFract:null}})((r=i=class extends l.PureComponent{render(){var{startFract:e}=this.props;return null!==e&&c.a.createElement(h.b,{className:b.a.timeSelectionIndicator,style:{top:"".concat(100*e,"%")}},Object(p.d)(Object(g.o)(e),"time_no_meridiem"))}},s()(i,"propTypes",{startFract:u.a.number}),a=r))||a},Yq3D:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n("pVnL"),i=n.n(a),r=n("QILm"),o=n.n(r),s=n("lSNA"),l=n.n(s),c=n("q1tI"),d=n.n(c),u=n("TSYQ"),m=n.n(u),h=n("17x9"),p=n.n(h),f=n("Jje6"),g=n("ELpF"),v=n("D/hG"),b=n.n(v);class E extends c.PureComponent{constructor(...e){super(...e),l()(this,"state",{})}render(){var e=this.props,{event:t,timelineInterval:n}=e,a=o()(e,["event","timelineInterval"]);return d.a.createElement(f.b,i()({className:m()(b.a.self,{[b.a.squeezed]:t.end.diff(t.start,"minutes")<=g.a/60,[b.a.small]:Object(g.l)(n,t)<2}),qaType:"event-extend-handle"},a))}}l()(E,"propTypes",{event:p.a.object,timelineInterval:p.a.number})},ZXto:function(e,t){e.exports='<svg viewBox="0 0 375 351" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><rect id="s5QB65bPHf" width="153" height="78" rx="4"></rect><filter x="-20.4%" y="-29.5%" width="140.8%" height="179.5%" filterUnits="objectBoundingBox" id="GPDcSsZLCi"><feOffset dy="8" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation="9" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0.062745098 0 0 0 0 0.0980392157 0 0 0 0 0.156862745 0 0 0 0.4 0" in="shadowBlurOuter1"></feColorMatrix></filter></defs><g transform="translate(218 125)" fill="none" fill-rule="evenodd"><g fill="none" fill-rule="evenodd"><use fill="#000" filter="url(#GPDcSsZLCi)" xlink:href="#s5QB65bPHf"></use><use fill="#A5E2F6" xlink:href="#s5QB65bPHf"></use><text font-family="Muli-Regular, Muli" font-size="13" fill="#101928"><tspan x="9.351" y="21">10:00am - 11:00am</tspan></text><text font-family="Muli-Bold, Muli" font-size="14" font-weight="bold" fill="#101928"><tspan x="10" y="43">Jessie Wallback</tspan></text><text font-family="Muli-Regular, Muli" font-size="13" fill="#101928"><tspan x="10" y="64">Haircut</tspan></text></g></g></svg>'},b8zI:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a,i,r,o=n("lSNA"),s=n.n(o),l=n("VkAN"),c=n.n(l),d=n("q1tI"),u=n.n(d),m=n("17x9"),h=n.n(m),p=n("ePPS"),f=n("Qs7Y"),g=n("/Q2I"),v=n("3wSE"),b=n("dhJQ");function E(){var e=c()(["Cancel"]);return E=function(){return e},e}function y(){var e=c()(["Split Appointment"]);return y=function(){return e},e}function O(){var e=c()(["Split Appointment"]);return O=function(){return e},e}function T(){var e=c()(["This appointment is part of a group, moving it to another day will split it to become a separate booking. Are you sure?"]);return T=function(){return e},e}var S=Object(p.c)(T()),w=Object(b.i)("isSmallMatch")(a=Object(b.g)("isMediumMatch")((r=i=class extends d.PureComponent{render(){var{onConfirm:e,onCancel:t,isMediumMatch:n,isSmallMatch:a}=this.props;return u.a.createElement(g.i,null,u.a.createElement(g.g,{subheader:n&&S,onClose:t},Object(p.c)(O())),u.a.createElement(g.c,{onlyBottomPadding:n},!n&&u.a.createElement(f.d,null,S)),u.a.createElement(g.e,null,u.a.createElement(v.f,{onAction:e},Object(p.c)(y())),!a&&u.a.createElement(v.a,{onAction:t},Object(p.c)(E()))))}},s()(i,"propTypes",{onCancel:h.a.func,onConfirm:h.a.func,isMediumMatch:h.a.bool,isSmallMatch:h.a.bool}),a=r))||a)||a},cKbn:function(e,t){e.exports='<svg viewBox="0 0 375 351" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g transform="translate(53 125)" fill="none" fill-rule="evenodd"><rect stroke="#A5E2F6" stroke-width="2" fill="#FFF" x="1" y="1" width="151" height="76" rx="4"></rect><text opacity=".5" font-family="Muli-Regular, Muli" font-size="13" fill="#101928"><tspan x="9.351" y="21">10:00am - 11:00am</tspan></text><text opacity=".5" font-family="Muli-Bold, Muli" font-size="14" font-weight="bold" fill="#101928"><tspan x="10" y="43">Jessie Wallback</tspan></text><text opacity=".5" font-family="Muli-Regular, Muli" font-size="13" fill="#101928"><tspan x="10" y="64">Haircut</tspan></text></g></svg>'},ek2v:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var a,i,r,o=n("VkAN"),s=n.n(o),l=n("lSNA"),c=n.n(l),d=n("TYy9"),u=n.n(d),m=n("q1tI"),h=n.n(m),p=n("17x9"),f=n.n(p),g=n("/MKj"),v=n("ePPS"),b=n("nbpM"),E=n("5ZU+"),y=n("erLI"),O=n("9PdY"),T=n("V0dS"),S=n("/Q2I"),w=n("3wSE"),j=n("bbQa"),C=n.n(j);function D(){var e=s()(["Rebook"]);return D=function(){return e},e}function I(){var e=s()(["Reschedule"]);return I=function(){return e},e}function x(){var e=s()(["Rebook Appointment"]);return x=function(){return e},e}function M(){var e=s()(["Reschedule Appointment"]);return M=function(){return e},e}var N=Object(g.b)(e=>({bookingHints:u()(b.a.getBookingFlowHints(e)).filter(Boolean),calendarAction:b.a.getCalendarAction(e)}))((r=i=class extends m.PureComponent{constructor(...e){super(...e),c()(this,"handleCancel",()=>{E.a.hideCalendarBookingHintsModal()}),c()(this,"handleSubmit",()=>{var{calendarAction:e}=this.props;this.handleCancel(),e===y.n?Object(T.h)():Object(T.g)()})}render(){var{bookingHints:e,calendarAction:t}=this.props;return h.a.createElement(S.i,{containerClassName:C.a.self,size:"small"},h.a.createElement(S.g,{onClose:this.handleCancel},t===y.n?Object(v.c)(M()):Object(v.c)(x())),h.a.createElement(S.c,null,e.map(e=>h.a.createElement(O.a,{className:C.a.bubble,color:"blue"},e))),h.a.createElement(S.e,{embeddedToaster:!1},h.a.createElement(w.f,{qaType:"confirm-action",onAction:this.handleSubmit,grow:1},t===y.n?Object(v.c)(I()):Object(v.c)(D()))))}},c()(i,"propTypes",{bookingHints:f.a.array,calendarAction:f.a.string}),a=r))||a},g5Wf:function(e,t,n){"use strict";n.d(t,"a",(function(){return Oe}));var a,i,r,o,s,l,c=n("lSNA"),d=n.n(c),u=n("6ajc"),m=n.n(u),h=n("Y+p1"),p=n.n(h),f=n("q1tI"),g=n.n(f),v=n("/MKj"),b=n("17x9"),E=n.n(b),y=n("TSYQ"),O=n.n(y),T=n("nbpM"),S=n("Jje6"),w=n("dhJQ"),j=n("erLI"),C=n("pVnL"),D=n.n(C),I=n("QILm"),x=n.n(I),M=n("VkAN"),N=n.n(M),P=n("5ZU+"),A=n("X67z"),R=n("rfSq"),k=n("ePPS"),L=n("XOD0"),F=n("Q2AE"),B=n("TSDZ"),q=n("i6OX"),H=n("Qs7Y"),z=n("g5rd"),W=n("V0dS"),_=n("+Gzo"),Y=n("df8d"),U=n("N1om"),V=n.n(U),G=n("jLFJ"),K=n("8AQc"),Q=n.n(K);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=(a=Object(w.i)(),i=Object(G.f)(["isHover","isActive"]),r=Object(v.b)(e=>({providerMoment:T.a.providerMoment(e)}),null,(e,t,n)=>{var{providerMoment:a}=e,i=x()(e,["providerMoment"]),{timelineDate:r,timelineType:o}=n,s=a().isSame(r,"day"),l=o===j.p.WEEKDAY,c=l&&r.isBefore(a(),"day");return X(X(X(X({},n),i),t),{},{isToday:s,isInPast:c,isWeekDay:l})}),a(o=Object(G.d)(o=i(o=r((l=s=class extends g.a.PureComponent{render(){var e=this.props,{children:t,className:n,isActive:a,isHover:i,timelineDate:r,menuOpen:o,timelineName:s,isMatch:l,avatar:c,avatarColor:d,timelineType:u,width:m,shortenedDayNames:h,isToday:p,isInPast:v,isWeekDay:b}=e,E=x()(e,["children","className","isActive","isHover","timelineDate","menuOpen","timelineName","isMatch","avatar","avatarColor","timelineType","width","shortenedDayNames","isToday","isInPast","isWeekDay"]),y=u===j.p.EMPLOYEE;return g.a.createElement(S.b,D()({},E,{className:O()(Q.a.self,n,{[Q.a.hover]:a||i||o,[Q.a.selfDate]:b,[Q.a.isToday]:b&&p,[Q.a.isInPast]:v}),style:{minWidth:m,maxWidth:m},qaType:"calendar-timeline-header-".concat(V()(s))}),b?g.a.createElement(S.b,{className:Q.a.date},g.a.createElement(S.b,{className:O()(Q.a.dayNumber,{[Q.a.isToday]:p})},r.format("D")),g.a.createElement(S.b,{className:Q.a.dayOfWeek,qaType:"calendar-week-day"},r.format(h?"ddd":"dddd"))):g.a.createElement(f.Fragment,null,y&&g.a.createElement(z.b,{name:s,avatar:c,size:"medium",color:d}),g.a.createElement(H.d,{qaType:"calendar-timeline-text-".concat(V()(s)),nativeClamp:2,as:"span",className:O()(Q.a.name,{[Q.a.withAvatar]:y})},s)),!l&&g.a.createElement(q.b,{className:O()(Q.a.icon,{[Q.a.visible]:i||o,[Q.a.menuOpen]:o,[Q.a.withAvatar]:y}),name:"chevron-down",size:"standard",color:"gray-7"}),t)}},d()(s,"propTypes",{isActive:E.a.bool,isHover:E.a.bool,isMatch:E.a.bool,className:E.a.string,menuOpen:E.a.bool,timelineName:E.a.string,timelineType:E.a.string,timelineDate:E.a.object,children:E.a.node,shortenedDayNames:E.a.bool,avatar:E.a.object,avatarColor:E.a.string,width:E.a.number,isToday:E.a.bool,isInPast:E.a.bool,isWeekDay:E.a.bool}),o=l))||o)||o)||o)||o),$=n("Gy93"),ee=n.n($);function te(){var e=N()(["Quick jump"]);return te=function(){return e},e}function ne(){var e=N()(["Edit working hours"]);return ne=function(){return e},e}function ae(){var e=N()(["Add blocked time"]);return ae=function(){return e},e}function ie(){var e=N()(["Switch to working staff"]);return ie=function(){return e},e}function re(){var e=N()(["3 days view"]);return re=function(){return e},e}function oe(){var e=N()(["Day view"]);return oe=function(){return e},e}function se(){var e=N()(["Switch to all resources"]);return se=function(){return e},e}function le(){var e=N()(["Week view"]);return le=function(){return e},e}var ce=(e,t)=>"".concat(t,":").concat(e.id),de={[R.a.WEEK]:{label:({firstName:e,name:t},n)=>n?Object(k.c)(le()):Object(k.c)("Week view - %{name}",{name:e||t}),qaType:"staff-actions-week",icon:"calendar-drawer-week",onAction:(e,t)=>{F.a.dispatch(Object(W.i)("quickJump",{view:R.a.WEEK,resource:ce(e,t),date:e.date}))}},ALL_RESOURCES:{label:()=>Object(k.c)(se()),qaType:"staff-actions-day",icon:"resource",onAction:e=>{F.a.dispatch(Object(W.i)("quickJump",{resource:j.d,date:e.date}))}},[R.a.DAY]:{label:({firstName:e,name:t},n)=>n?Object(k.c)(oe()):Object(k.c)("Day view - %{name}",{name:e||t}),qaType:"staff-actions-day",icon:"calendar-drawer-day",onAction:(e,t)=>{F.a.dispatch(Object(W.i)("quickJump",{view:R.a.DAY,resource:ce(e,t),date:e.date}))}},[R.a.DAY_3]:{label:({firstName:e,name:t},n)=>n?Object(k.c)(re()):Object(k.c)("3 days view - %{name}",{name:e||t}),qaType:"staff-actions-3-day",icon:"calendar-drawer-days-3",onAction:(e,t)=>{F.a.dispatch(Object(W.i)("quickJump",{view:R.a.DAY_3,resource:ce(e,t),date:e.date}))}},WORKING_STAFF:{label:()=>Object(k.c)(ie()),qaType:"staff-actions-day",icon:"working-staff",onAction:e=>{F.a.dispatch(Object(W.i)("quickJump",{resource:j.t,date:e.date}))}},SETTINGS:[{label:()=>Object(k.c)(ae()),url:"add-blocked-time",qaType:"staff-actions-blocked-time",icon:"blocked",onAction:e=>{var t=F.a.getState();if(T.a.getCurrentPermissions(t)[A.a.CAN_BOOK_APPOINTMENTS]){var n=T.a.getTimelineInterval(t),a=Object(Y.b)(t,n,e.date);P.a.createTemporaryBlockedTime({employee:e.id,start:a.format(),end:a.add(n,"seconds").format()}),Object(L.c)(Object(_.q)(j.b))}else P.a.addPermissionToast()}},{label:()=>Object(k.c)(ne()),url:"edit-working-hours",qaType:"staff-actions-working-hours",icon:"pen",onAction:e=>{T.a.getCurrentPermissions(F.a.getState())[A.a.ROSTER]?Object(L.c)(Object(_.E)(),{employeeId:e.id,date:e.date.format("YYYY-MM-DD")}):P.a.addPermissionToast()}}]};class ue extends f.PureComponent{constructor(...e){super(...e),d()(this,"renderActions",(e,t,n)=>e.map(({onAction:e,label:a,qaType:i,icon:r})=>{var o=a(t,this.props.isMatch);return g.a.createElement(B.c,{key:o,className:ee.a.dropdownAction,resource:"".concat(t.type,":").concat(t.id),qaType:i,onAction:()=>{e(t,n)}},g.a.createElement(H.d,{as:"span",className:ee.a.actionLabel},o),this.props.isMatch&&g.a.createElement(q.b,{name:r,size:"large"}))}))}render(){var e=this.props,{isMatch:t,timeline:n,resourceType:a,resourceId:i,view:r,isWeekDay:o}=e,s=x()(e,["isMatch","timeline","resourceType","resourceId","view","isWeekDay"]),l=a===j.o.EMPLOYEE,c=this.renderActions((({currentView:e,currentResourceId:t,timelineId:n,resourceType:a})=>[(e!==R.a.DAY||t!==n)&&de[R.a.DAY],e!==R.a.DAY_3&&de[R.a.DAY_3],e!==R.a.WEEK&&de[R.a.WEEK],a===j.o.EMPLOYEE&&t&&t!==j.u&&de.WORKING_STAFF,a===j.o.ROOM&&t&&de.ALL_RESOURCES].filter(Boolean))({currentView:r,currentResourceId:i,timelineId:n.id,resourceType:a}),n,a),d=l?this.renderActions(de.SETTINGS,n,a):[];return g.a.createElement(B.g,D()({forwardState:!0,as:Z,contentClassName:ee.a.actionsPopup,align:"center",isWeekDay:o,timelineDate:o?n.date:void 0,timelineName:n.name,timelineType:n.type,avatar:n.avatar,avatarColor:n.avatarColor},s),t?g.a.createElement(S.b,{flex:"column",className:ee.a.content},g.a.createElement(S.b,{className:ee.a.nameContainer},l?g.a.createElement(z.b,{name:n.name,avatar:n.avatar,size:"large",color:n.avatarColor}):g.a.createElement(S.b,{className:ee.a.resourcePlaceholderContainer},g.a.createElement(q.b,{name:"resource",color:"gray-7",size:"larger"})),g.a.createElement(H.d,{type:"section-header"},n.name)),[...c,...d]):g.a.createElement(g.a.Fragment,null,g.a.createElement(B.e,{label:Object(k.c)(te())},c),d.length>0&&g.a.createElement(B.e,{label:Object(k.c)("%{firstName}'s schedule",{firstName:n.firstName})},d)))}}d()(ue,"propTypes",{isMatch:E.a.bool,timeline:E.a.object,resourceType:E.a.string,resourceId:E.a.string,view:E.a.string,isWeekDay:E.a.bool});var me=n("9WP6"),he=n.n(me);function pe(){var e=N()(["Working staff"]);return pe=function(){return e},e}class fe extends f.PureComponent{render(){var{width:e}=this.props;return g.a.createElement(Z,{width:e,className:he.a.self},g.a.createElement(S.b,{className:he.a.iconWrapper},g.a.createElement(q.b,{name:"working-staff",size:"big"})),Object(k.c)(pe()))}}d()(fe,"propTypes",{width:E.a.number});var ge,ve,be,Ee=n("wrAE"),ye=n.n(Ee),Oe=Object(w.g)()(ge=Object(v.b)(e=>({resourceType:T.a.getCalendarResourceType(e),view:T.a.getCalendarView(e),resourceId:T.a.getCalendarResourceId(e),isCalendarDragInProgress:T.a.isCalendarDragInProgress(e),isCalendarFetchingData:T.a.isCalendarFetchingData(e)}))((be=ve=class extends f.Component{shouldComponentUpdate(e){return!e.isCalendarFetchingData&&!p()(this.props,e)}render(){var{isMatch:e,resourceType:t,view:n,resourceId:a,isCalendarDragInProgress:i,timelinesSizes:r,extendedTimelines:o,headersHeight:s}=this.props;return g.a.createElement(S.b,{className:O()(ye.a.headers,{[ye.a.disabled]:i}),style:{height:s}},m()(o,(i,o)=>{if(0===i.length)return g.a.createElement(fe,{width:r[o].width});var s=i[0].type===j.p.WEEKDAY,l=e&&n===j.s.WEEK,c=r[o].width/i.length;return i.map(i=>g.a.createElement(ue,{key:i.key,timeline:i,width:c,isWeekDay:s,resourceType:t,view:n,resourceId:a,isMatch:e,shortenedDayNames:l}))}))}},d()(ve,"propTypes",{isMatch:E.a.bool,resourceType:E.a.string,view:E.a.string,resourceId:E.a.string,isCalendarDragInProgress:E.a.bool,timelinesSizes:E.a.array,extendedTimelines:E.a.array,headersHeight:E.a.number,isCalendarFetchingData:E.a.bool}),ge=be))||ge)||ge},hNyT:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("q1tI"),i=n.n(a).a.createContext({})},lqMl:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var a=n("pVnL"),i=n.n(a),r=n("lSNA"),o=n.n(r),s=n("q1tI"),l=n.n(s),c=n("17x9"),d=n.n(c),u=n("5ZU+"),m=n("jwng"),h=n("ELpF"),p=n("tNhX"),f=n("erLI"),g=n("hNyT"),v=n("Yq3D"),b=null,E=!1;function y(t){class n extends s.PureComponent{constructor(...t){super(...t),o()(this,"state",{isHover:!1}),o()(this,"onMouseEnter",()=>{this.setState({isHover:!0})}),o()(this,"onMouseLeave",()=>{this.setState({isHover:!1})}),o()(this,"interactionStartCoordinates",{x:0,y:0}),o()(this,"enterDragMode",t=>{var{canBookAppointments:n,event:a,timeline:i}=this.props;this.verifyDistanceFromStart(t)&&(e.removeEventListener("mousemove",this.enterDragMode),n?(E=!1,u.a.startCalendarEventDrag(a,i,!0)):u.a.addPermissionToast())}),o()(this,"handleDragEnd",()=>{this.removeEvents(),this.props.finishEventTimelineDrag(),setTimeout(this.context.scrollingRef.current.stopScrolling,100),e.clearTimeout(this.swipeLeftTimeout),this.swipeLeftTimeout=null,e.clearTimeout(this.swipeRightTimeout),this.swipeRightTimeout=null}),o()(this,"handleMove",t=>{this.updateRaf&&e.cancelAnimationFrame(this.updateRaf),this.updateRaf=e.requestAnimationFrame(()=>{this.context.scrollingRef.current.updateScrolling(t,!0),this.updateDragState(t)})}),o()(this,"switchTimeline",e=>{u.a.moveCalendarDraggingEventByIndex(e)}),o()(this,"updateDragState",t=>{var{timelineWidth:n,timelineHeight:a,timelineLeft:i,timelineRight:r,isCalendarFetchingData:o}=this.props,{timelinesSizes:s,parentLeft:l,parentRight:c,triggerSwipeRight:d,triggerSwipeLeft:f}=this.context;if(!o){var{top:g,left:v}=this.getTimeline().getBoundingClientRect(),{clientX:E,clientY:y}=Object(p.a)(t),O=(Math.min(Math.max(y-g,0),a)-b)/a;this.props.updateTimelineDragTimeFromPosition(Object(h.n)(O,m.c)),E<l+35?this.swipeLeftTimeout||(this.swipeLeftTimeout=e.setTimeout(()=>{var e=f();e>0&&this.switchTimeline(Math.round(-e/n)),this.swipeLeftTimeout=null},750)):E>c-35?this.swipeRightTimeout||(this.swipeRightTimeout=e.setTimeout(()=>{var e=d();e>0&&this.switchTimeline(Math.round(e/n)),this.swipeRightTimeout=null},750)):((E-v<i||E-v>r)&&u.a.switchCalendarDraggingEventTimeline(Math.floor((E-v-s[1].left)/n)),e.clearTimeout(this.swipeLeftTimeout),this.swipeLeftTimeout=null,e.clearTimeout(this.swipeRightTimeout),this.swipeRightTimeout=null)}}),o()(this,"enterExtendMode",t=>{var{canBookAppointments:n,event:a,timeline:i}=this.props;this.verifyDistanceFromStart(t)&&(e.removeEventListener("mousemove",this.enterExtendMode),e.removeEventListener("mouseup",this.cancelDrag),n?(E=!0,u.a.startCalendarEventDrag(a,i,!0)):u.a.addPermissionToast())}),o()(this,"extendHandleMouseMove",e=>{var{timelineHeight:t}=this.props,{top:n}=this.getTimeline().getBoundingClientRect(),{clientY:a}=Object(p.a)(e),i=(a-n)/t;this.props.updateDurationDragTimeFromPosition(Object(h.c)(i,m.c))}),o()(this,"extendHandleMouseUp",()=>{e.removeEventListener("mousemove",this.extendHandleMouseMove),e.removeEventListener("mouseup",this.extendHandleMouseUp),this.props.finishEventTimelineDrag()}),o()(this,"detachMoveEvents",()=>{e.removeEventListener("mousemove",this.enterDragMode),e.removeEventListener("mouseup",this.cancelDrag),e.removeEventListener("mousemove",this.handleMove),e.removeEventListener("mouseup",this.handleDragEnd)}),o()(this,"detachExtendEvents",()=>{e.removeEventListener("mousemove",this.extendHandleMouseMove),e.removeEventListener("mouseup",this.extendHandleMouseUp),e.removeEventListener("mousemove",this.enterExtendMode)}),o()(this,"cancelDrag",()=>{e.removeEventListener("mousemove",this.enterDragMode),e.removeEventListener("mousemove",this.enterExtendMode),e.removeEventListener("mouseup",this.cancelDrag)}),o()(this,"canDrag",()=>{var{event:e}=this.props;return!f.r.includes(e.status)}),o()(this,"handleDragInteractionStart",t=>{if(t.stopPropagation(),this.canDrag()){var{clientY:n,clientX:a}=Object(p.a)(t);this.interactionStartCoordinates={x:a,y:n};var{top:i}=this.props.selfRef.current.getBoundingClientRect();b=n-i,e.addEventListener("mousemove",this.enterDragMode),e.addEventListener("mouseup",this.cancelDrag)}}),o()(this,"handleExtendInteractionStart",t=>{t.stopPropagation();var{clientY:n,clientX:a}=Object(p.a)(t);this.interactionStartCoordinates={x:a,y:n},e.addEventListener("mousemove",this.enterExtendMode),e.addEventListener("mouseup",this.cancelDrag)}),o()(this,"updateRaf",null),o()(this,"swipeLeftTimeout",null),o()(this,"swipeRightTimeout",null)}componentDidMount(){this.isDragActive()&&(E?this.attachExtendEvents():this.attachMoveEvents())}componentWillUnmount(){this.removeEvents()}getTimeline(){return this.props.selfRef.current.parentElement}verifyDistanceFromStart(e){var{clientY:t,clientX:n}=Object(p.a)(e);return Math.hypot(this.interactionStartCoordinates.x-n,this.interactionStartCoordinates.y-t)>10}isDragActive(){return this.props.event.isDraggingEvent&&this.props.isCalendarMouseDragInProgress}removeEvents(){this.detachMoveEvents(),this.detachExtendEvents(),e.cancelAnimationFrame(this.updateRaf)}attachMoveEvents(){e.addEventListener("mousemove",this.handleMove),e.addEventListener("mouseup",this.handleDragEnd)}attachExtendEvents(){e.addEventListener("mousemove",this.extendHandleMouseMove),e.addEventListener("mouseup",this.extendHandleMouseUp)}render(){var{isHover:e}=this.state,{children:n,event:a,timelineInterval:r}=this.props;return l.a.createElement(t,i()({onMouseDown:this.handleDragInteractionStart,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,isHover:e},this.props),n,this.canDrag()&&e&&l.a.createElement(v.a,{onMouseDown:this.handleExtendInteractionStart,event:a,timelineInterval:r}))}}return o()(n,"contextType",g.a),o()(n,"propTypes",{isCalendarDragPending:d.a.bool,canBookAppointments:d.a.bool,isCalendarMouseDragInProgress:d.a.bool,event:d.a.object,timeline:d.a.object,finishEventTimelineDrag:d.a.func,updateTimelineDragTimeFromPosition:d.a.func,updateDurationDragTimeFromPosition:d.a.func,timelineWidth:d.a.number,timelineHeight:d.a.number,timelineLeft:d.a.number,timelineRight:d.a.number,timelineInterval:d.a.number,isCalendarFetchingData:d.a.bool,selfRef:d.a.object,children:d.a.node}),n}}).call(this,n("yLpj"))},mQyn:function(e,t){e.exports='<svg viewBox="0 0 375 351" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g transform="translate(218 125)"><g transform="translate(2 -6)" stroke="#101928" stroke-width="2.016" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><path d="M2.694 15.667A9.211 9.211 0 0 1 1 10.333C1 5.18 5.23 1 10.45 1c5.22 0 9.45 4.179 9.45 9.333a9.211 9.211 0 0 1-1.694 5.334" opacity=".4"></path></g><path d="M29.76 19.463L15.77 17V5.333C15.77 3.493 14.229 2 12.327 2c-1.9 0-3.442 1.492-3.442 3.333V22H5.442C3.542 22 2 23.492 2 25.333v4.826c0 2.27.798 4.474 2.263 6.247L8.885 42H31.26l2.678-16.857c.426-2.677-1.428-5.196-4.18-5.68z" fill="#FFF" stroke="#101928" stroke-width="2.52" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></g></svg>'},nXwL:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k}));var a,i,r,o=n("lSNA"),s=n.n(o),l=n("sEfC"),c=n.n(l),d=n("WjpJ"),u=n.n(d),m=n("q1tI"),h=n.n(m),p=n("17x9"),f=n.n(p),g=n("i8i4"),v=n.n(g),b=n("/MKj"),E=n("TSYQ"),y=n.n(E),O=n("5ZU+"),T=n("nbpM"),S=n("tNhX"),w=n("erLI"),j=n("Jje6"),C=n("dhJQ"),D=n("16w6"),I=n("7TO3"),x=n("Tuuo"),M=n("+TY/"),N=n.n(M),P=Object.keys(w.q).map(Number),A=100/(P.length-1),R=u()(P.length).map(e=>Math.round(A*e)),k=Object(C.g)()(a=Object(b.b)(e=>({initialTimelineInterval:T.a.getTimelineInterval(e)/60,employeeID:T.a.getCurrentEmployee(e).id}))((r=i=class extends m.PureComponent{constructor(...t){super(...t),s()(this,"onStepChange",e=>{var{employeeID:t}=this.props;Object(D.d)(t,e),O.a.setCalendarTimeSlotMinutes(e)}),s()(this,"debouncedClientRect",c()(this.calculateBoundingClientRect,100)),s()(this,"addEventListeners",()=>{document.body.addEventListener("mousemove",this.processDragging,{passive:!1}),document.body.addEventListener("touchmove",this.processDragging,{passive:!1}),document.body.addEventListener("mouseup",this.finishDragging),document.body.addEventListener("touchend",this.finishDragging),document.body.addEventListener("touchcancel",this.finishDragging)}),s()(this,"removeEventListeners",()=>{document.body.removeEventListener("mousemove",this.processDragging,{passive:!1}),document.body.removeEventListener("touchmove",this.processDragging,{passive:!1}),document.body.removeEventListener("mouseup",this.finishDragging),document.body.removeEventListener("touchend",this.finishDragging),document.body.removeEventListener("touchcancel",this.finishDragging)}),s()(this,"onMouseDown",()=>{this.isMouseDown=!0,this.addEventListeners()}),s()(this,"onTouchStart",()=>{this.isTouchDown=!0,this.addEventListeners()}),s()(this,"processDragging",e=>{e.preventDefault();var{isMouseDown:t,isTouchDown:n}=this;if(t||n){var a=t?e.clientX:e.touches[0].clientX;this.setPositions(this.getCurrentCompleteness(a))}}),s()(this,"finishDragging",t=>{this.isMouseDown=!1,this.isTouchDown=!1,this.removeEventListeners();var n,a,i,{clientX:r}=Object(S.a)(t),o=this.getCurrentCompleteness(r),{position:s,option:l}=(n=o,a=R.map(e=>Math.abs(n-e)),i=a.findIndex(e=>e===Math.min(...a)),{position:R[i],option:P[i]});this.onStepChange(l),this.raf=e.requestAnimationFrame(()=>{this.triggerAnimation(()=>{this.setPositions(s)})})}),s()(this,"animationTimeout",null),s()(this,"raf",null),s()(this,"indicatorEl",null),s()(this,"indicatorRef",h.a.createRef()),s()(this,"barEl",null),s()(this,"barRef",h.a.createRef()),s()(this,"selfEl",null),s()(this,"selfRef",h.a.createRef()),s()(this,"selfWidth",null),s()(this,"isMouseDown",!1),s()(this,"isTouchDown",!1)}componentDidMount(){var{initialTimelineInterval:t}=this.props;this.indicatorEl=v.a.findDOMNode(this.indicatorRef.current),this.barEl=v.a.findDOMNode(this.barRef.current),this.selfEl=v.a.findDOMNode(this.selfRef.current),this.calculateBoundingClientRect();var n=R[P.findIndex(e=>e===t)];this.setPositions(n),e.addEventListener("resize",this.debouncedClientRect)}componentWillUnmount(){this.removeEventListeners(),e.removeEventListener("resize",this.debouncedClientRect),e.cancelAnimationFrame(this.raf),e.clearTimeout(this.animationTimeout)}setPositions(t){this.raf=e.requestAnimationFrame(()=>{this.indicatorEl.style.left="".concat(t,"%"),this.barEl.style.width="".concat(t,"%")})}getCurrentCompleteness(e){var t,n=this.selfLeft,a=this.selfLeft+this.selfWidth;return e<n?t=0:e>a?t=100:e<=a&&e>=n&&(t=Math.round((e-n)/this.selfWidth*100)),t}calculateBoundingClientRect(){this.raf=e.requestAnimationFrame(()=>{var e=this.selfEl.getBoundingClientRect();this.selfLeft=e.left,this.selfWidth=e.width})}triggerAnimation(t){this.indicatorEl.style.transition="left ".concat(100,"ms ease-out"),this.barEl.style.transition="width ".concat(100,"ms ease-out"),this.animationTimeout=e.setTimeout(()=>{this.raf=e.requestAnimationFrame(()=>{this.indicatorEl.style.transition=null,this.barEl.style.transition=null})},100),this.raf=e.requestAnimationFrame(t)}render(){var{isMatch:e}=this.props;return h.a.createElement(j.b,{className:y()(N.a.self,{[N.a.desktop]:!e}),ref:this.selfRef,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},h.a.createElement(j.b,{className:N.a.barBackground},h.a.createElement(j.b,{ref:this.barRef,className:N.a.bar})),h.a.createElement(j.b,{className:N.a.indicatorWrapper},h.a.createElement(I.a,{className:N.a.indicator,ref:this.indicatorRef})),h.a.createElement(x.a,{isMatch:e}))}},s()(i,"propTypes",{initialTimelineInterval:f.a.number,isMatch:f.a.bool,employeeID:f.a.string}),a=r))||a)||a}).call(this,n("yLpj"))},oMlg:function(e,t){e.exports='<svg viewBox="0 0 375 351" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g transform="translate(250 250)"><g fill="none" fill-rule="evenodd"><path d="M52.417 21.463L38.6 19V7.333C38.6 5.493 37.078 4 35.2 4s-3.4 1.492-3.4 3.333V24h-3.4c-1.878 0-3.4 1.492-3.4 3.333v4.826c0 2.27.788 4.474 2.235 6.247L31.8 44h22.1l2.645-16.857c.42-2.677-1.41-5.196-4.128-5.68z" fill="#FFF" stroke="#101928" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.52"></path><path d="M65.65 6.382H47.618a1.618 1.618 0 0 0 0 3.236H65.65l-3.564 3.62a1.63 1.63 0 0 0 0 2.288 1.58 1.58 0 0 0 2.252 0l6.195-6.292c.336-.34.49-.791.467-1.234a1.627 1.627 0 0 0-.467-1.234L64.338.474a1.58 1.58 0 0 0-2.252 0 1.63 1.63 0 0 0 0 2.288l3.564 3.62zM5.35 6.382h18.032a1.618 1.618 0 1 1 0 3.236H5.35l3.564 3.62a1.63 1.63 0 0 1 0 2.288 1.58 1.58 0 0 1-2.252 0L.467 9.234A1.627 1.627 0 0 1 0 8a1.627 1.627 0 0 1 .467-1.234L6.662.474a1.58 1.58 0 0 1 2.252 0 1.63 1.63 0 0 1 0 2.288L5.35 6.382z" fill="#101928"></path></g></g></svg>'},oOVh:function(e,t,n){"use strict";n.d(t,"a",(function(){return at}));var a=n("lSNA"),i=n.n(a),r=n("vN+2"),o=n.n(r),s=n("Y+p1"),l=n.n(s),c=n("q1tI"),d=n.n(c),u=n("17x9"),m=n.n(u),h=n("i8i4"),p=n("/MKj"),f=n("nbpM"),g=n("5ZU+"),v=n("tNhX"),b=n("V0dS"),E=n("erLI"),y=n("+aWU"),O=n("Jje6"),T=n("9wjN"),S=n("KSaN"),w=n("hNyT"),j=n("Koft"),C=n("wrAE"),D=n.n(C),I=n("6ajc"),x=n.n(I),M=n("ELpF"),N=n("pxCg"),P=n.n(N),A=n("TSYQ"),R=n.n(A);class k extends d.a.PureComponent{render(){var{timelineInterval:e,intervalHeight:t}=this.props;return d.a.createElement(O.b,{qaType:"grid-intervals",className:P.a.intervals},Object(M.g)(e).map(e=>d.a.createElement(O.b,{style:{height:t},key:e.seconds,className:R()(P.a.interval,{[P.a.hourStart]:e.hourStart})})))}}i()(k,"propTypes",{timelineInterval:m.a.number,intervalHeight:m.a.number});class L extends d.a.PureComponent{constructor(...e){super(...e),i()(this,"selfRef",d.a.createRef())}renderHighlights(){var{timelineHeight:e,extendedTimelines:t,timelinesSizes:n}=this.context;return x()(t,a=>a.map(a=>{var{width:i,left:r}=Object(M.h)(t,n,a);return d.a.createElement(d.a.Fragment,null,a.highlights.map(t=>{var n=Object(M.p)(t,{timelineWidth:i,timelineHeight:e,timelineLeft:r});return d.a.createElement(O.b,{className:P.a.highlight,style:n,key:t.key,qaType:"working-slot"})}))}))}renderTimelines(){var{extendedTimelines:e,timelinesSizes:t}=this.context;return x()(e,n=>n.map(n=>{var{width:a,left:i}=Object(M.h)(e,t,n);return d.a.createElement(d.a.Fragment,null,d.a.createElement(O.b,{key:n.key,className:P.a.timeline,style:{width:a,left:i}}))}))}render(){var{intervalHeight:e}=this.context,{timelineInterval:t}=this.props;return d.a.createElement(d.a.Fragment,null,this.renderHighlights(),d.a.createElement(O.b,{qaType:"timelines-wrapper",className:P.a.timelines},this.renderTimelines()),d.a.createElement(k,{intervalHeight:e,timelineInterval:t}))}}i()(L,"contextType",j.a),i()(L,"propTypes",{timelineInterval:m.a.number});var F=n("X67z"),B=n("16w6"),q=n("BGhe"),H=n("lqMl"),z=n("pVnL"),W=n.n(z),_=n("QILm"),Y=n.n(_),U=n("H2c4"),V=n("JqEL"),G=n("jXSx"),K=n("mwIZ"),Q=n.n(K),J=n("ePPS"),X=n("yk2N"),Z=n("jwng"),$=n("i6OX"),ee=n("ILui"),te=n("Qs7Y"),ne=n("Vows"),ae=n("AQgK"),ie=n("9fVE"),re=n("sQHA"),oe=n("wims"),se=n.n(oe);class le extends c.PureComponent{renderBookingPopover(){var{event:e}=this.props,{start:t,end:n,endOfService:a,serviceName:i,status:r,employeeIsRequested:o,price:s,basePrice:l,priceType:c,notes:u,customer:m,serviceCaption:h,roomName:p,employeeName:f,packageInstance:g}=e,v=Q()(m,"labels.length",[])>0,b=Q()(m,"note"),E=r!==re.v.COMPLETED&&c;return d.a.createElement(O.b,{className:se.a.self},d.a.createElement(ne.f,{forceMobileFonts:!0,noBorder:!0,className:se.a.clientRowButton,customer:m}),v&&d.a.createElement(ae.a,{className:se.a.badges,customer:m}),b&&d.a.createElement(te.a,{qaType:"customerNote",className:se.a.customerNote},b),d.a.createElement(ee.a,{color:"gray-4",className:se.a.line}),d.a.createElement(ne.d,{className:se.a.bookingRowButton,leftLabel:Object(J.c)("%{serviceCaption}%{duration} with %{icon}%{employeeName}%{room}",{serviceCaption:h?"".concat(h,", "):"",duration:Object(Z.l)(n.diff(t,"seconds")),icon:o?d.a.createElement(d.a.Fragment,null,d.a.createElement($.b,{className:se.a.icon,name:"heart",size:"small",key:"icon"})," "):"",employeeName:f,room:p?", ".concat(p):""}),notes:u,price:s,basePrice:l,priceType:E,start:t,endOfService:a,status:r},Object(ie.d)(i,g)))}renderBlockedTimePopover(){var{event:e}=this.props,{start:t,end:n,notes:a}=e;return d.a.createElement(O.b,{className:R()(se.a.self,{[se.a.small]:!a})},d.a.createElement(O.b,{className:R()(se.a.blockedTimeContent)},d.a.createElement(O.b,{marginBottom:8},Object(X.d)(t,"time")," - ",Object(X.d)(n,"time")),d.a.createElement(te.a,null,a)))}render(){var{event:e}=this.props,{type:t,status:n}=e;return t===E.k.BOOKING?n===E.i.PENDING?null:this.renderBookingPopover():t===E.k.BLOCKED_TIME?this.renderBlockedTimePopover():null}}i()(le,"propTypes",{event:S.d.isRequired});var ce,de,ue,me=n("w/pq"),he=n.n(me),pe=n("VkAN"),fe=n.n(pe),ge=n("I9ky"),ve=n.n(ge);function be(){var e=fe()(["Online booking in progress"]);return be=function(){return e},e}function Ee(){var e=fe()(["Blocked Time"]);return Ee=function(){return e},e}function ye(){var e=fe()(["Confirmed with card"]);return ye=function(){return e},e}function Oe(){var e=fe()(["Repeating appointment"]);return Oe=function(){return e},e}function Te(){var e=fe()(["Online booking"]);return Te=function(){return e},e}function Se(){var e=fe()(["Appointment with notes"]);return Se=function(){return e},e}class we extends c.PureComponent{constructor(...e){super(...e),i()(this,"mapIcons",(e,t)=>{var n=[],a=ve.a["statusIcon".concat(e.status)];return E.j[e.status]&&n.push({icon:E.j[e.status],label:e.bookingTooltip,className:a}),e.hasSale&&n.push({icon:e.isFullyPaid?"calendar-event-fully-paid":"calendar-event-part-paid",label:e.saleTooltip,className:a}),e.notes&&e.type===E.k.BOOKING&&n.push({icon:"calendar-event-note",label:Object(J.c)(Se()),className:a}),e.isOnline&&e.status!==E.i.PENDING&&n.push({icon:"calendar-event-online",label:Object(J.c)(Te()),className:a}),e.employeeIsRequested&&n.push({icon:"heart",label:Object(J.c)("%{name} requested",{name:t}),className:ve.a.statusIconRequested}),e.isRecurring&&n.push({icon:"calendar-event-recurring",label:Object(J.c)(Oe())}),e.cardRequired&&n.push({icon:"calendar-event-credit-card",label:Object(J.c)(ye())}),n}),i()(this,"renderIcons",(e,t)=>0===e.length?null:d.a.createElement(O.b,{className:R()(ve.a.statusIcons,t)},e.map(({icon:e,label:t,className:n})=>d.a.createElement(U.g,{content:t,for:U.a,key:e},d.a.createElement($.b,{key:e,size:"small",name:e,label:t,className:R()(ve.a.statusIcon,n)})))))}render(){var e=this.props,{event:t,wrapTitleLine:n,roomName:a,className:i,children:r}=e,o=Y()(e,["event","wrapTitleLine","roomName","className","children"]),{type:s,customer:l,serviceName:c,packageInstance:u,serviceCaption:m,status:h,color:p}=t,f=s===E.k.BOOKING,g=this.mapIcons(t,t.employeeName),v=s&&ve.a["self-".concat(s)],b=p&&ve.a["self-color-".concat(p)],y=l&&l.name;return f?h===E.i.PENDING&&(y=null):y=Object(J.c)(Ee()),d.a.createElement(O.b,W()({className:R()(ve.a.self,v,b,i,{[ve.a.initialDraggingEvent]:t.initialDraggingEvent})},o),d.a.createElement(O.b,{className:ve.a.paddingBox},d.a.createElement(O.b,{flex:"row",wrap:n?"wrap":"nowrap"},d.a.createElement(O.b,{className:ve.a.time,qaType:"event-time"},Object(X.d)(t.start,"time_no_meridiem")," -"," ",Object(X.d)(t.end,"time_no_meridiem")),d.a.createElement(O.b,{className:ve.a.title,qaType:"appointment-title",paddingRight:16*g.length},y)),g.length>0&&d.a.createElement(O.b,{className:ve.a.statusIconsContainer},this.renderIcons(g,b)),d.a.createElement(O.b,{className:ve.a.descriptionLine,qaType:"appointment-service"},h===E.i.PENDING?d.a.createElement("strong",null,Object(J.c)(be()),": "):null,f?Object(ie.d)(c,u):t.notes,m&&", ".concat(m),d.a.createElement(O.b,{className:ve.a.roomName},a)),r))}}i()(we,"propTypes",{event:S.d.isRequired,wrapTitleLine:S.c,roomName:S.m,className:S.m,children:S.h});class je extends c.PureComponent{constructor(...e){super(...e),i()(this,"state",{}),i()(this,"onClick",e=>{e.stopPropagation();var{isCalendarDragInProgress:t,canBookAppointments:n}=this.props;if(!t&&!this.isPendingEvent()){var{type:a,id:i}=this.props.event;Object(b.e)(a,i,n)}})}componentDidMount(){var{selfRef:e}=this.props;this.tapEventListener=Object(V.b)(e.current,this.onClick),e.current.addEventListener("click",this.onClick)}componentDidUpdate(e){e.selfRef.current.removeEventListener("click",this.onClick),this.props.selfRef.current.addEventListener("click",this.onClick)}componentWillUnmount(){this.tapEventListener&&this.tapEventListener.remove()}isPendingEvent(){return this.props.event.status===E.i.PENDING}render(){var e=this.props,{event:t,slot:n,calendarAction:a,calendarBookingId:i,timelineInterval:r,isCalendarDragInProgress:o,renderExtendHandle:s,children:l,isHover:c,timelineWidth:u,timelineLeft:m,timelineHeight:h,timelineRight:p,timeline:f}=e,g=Y()(e,["event","slot","calendarAction","calendarBookingId","timelineInterval","isCalendarDragInProgress","renderExtendHandle","children","isHover","timelineWidth","timelineLeft","timelineHeight","timelineRight","timeline"]),v=Object(T.d)()&&c,b=t.id===i||t.parentId&&t.parentId===i,E=Object(B.a)(n,u),y=Object(M.p)(t,{timelineDate:f.date,timelineWidth:u,timelineLeft:m,timelineHeight:h}),O=R()(he.a.self,{[he.a.isDraggingEvent]:t.isDraggingEvent,[he.a.selfPending]:this.isPendingEvent(),[he.a.selfForTimepickingAction]:!!a||o&&!t.isDraggingEvent,[he.a.selfForTimepickingContext]:b,[he.a.initialDraggingEvent]:t.initialDraggingEvent,[he.a.isHover]:v}),S=y.top+1,w=Math.max(E.width-3,1),j=Math.min(p-w,y.left+E.left+1),C=Math.max(y.height-1),D=d.a.createElement(we,W()({className:O,event:t,roomName:t.roomName,employeeName:t.employeeName,wrapTitleLine:Object(M.l)(r,t)>=2,style:{top:S,width:w,left:j,height:C},qaType:"calendar-event-".concat(t.type,"-").concat(t.id).concat(t.isDraggingEvent?"-dragging":"").concat(t.initialDraggingEvent?"-initial":"")},g),t.end.isSame(f.date,"day")&&l);if(this.isPendingEvent()||o)return D;var I="event:".concat(t.type,":").concat(t.id);return d.a.createElement(d.a.Fragment,null,Object(T.f)()?D:d.a.createElement(U.g,{for:I},D),v&&d.a.createElement(G.b,null,d.a.createElement(U.f,{calendarEventTooltipContainer:!0,className:he.a.popoverContainer,id:I,type:"light",place:"right",effect:"solid"},d.a.createElement(le,this.props))))}}i()(je,"propTypes",{event:S.d.isRequired,employeeName:S.m,timelineInterval:S.i,roomName:S.m,slot:S.l({index:S.i.isRequired,columns:S.a.isRequired}),connectDragSource:S.e,initialClientOffset:S.l({x:S.i.isRequired,y:S.i.isRequired}),finishEventTimelineDrag:S.e,onCancelDrag:S.e,calendarAction:S.m,calendarBookingId:S.m,canBookAppointments:S.c,isCalendarDragInProgress:S.c,renderExtendHandle:S.c,timelineWidth:S.i,timelineHeight:S.i,timelineLeft:S.i,timelineRight:S.i,timeline:S.l({date:S.j}),isCalendarFetchingData:S.c,selfRef:S.j,children:S.h,isHover:S.c});var Ce,De,Ie,xe=Object(q.a)(Object(H.a)(je)),Me=Object(p.b)(e=>({initialDraggingEvent:f.a.getInitialDraggingEvent(e)}))((ue=de=class extends c.PureComponent{renderEvent(e,t,n){var{isCalendarDragInProgress:a,canBookAppointments:i,calendarAction:r,calendarBookingId:o,timelineInterval:s,isCalendarDragPending:l,isCalendarMouseDragInProgress:c,isCalendarTouchDragInProgress:u}=this.props,{timelineHeight:m,timelinesSizes:h,extendedTimelines:p}=this.context,{width:f,left:g,right:v}=Object(M.h)(p,h,t);return d.a.createElement(xe,{key:"".concat(e.type,":").concat(e.id,":").concat(e.initialDraggingEvent,":").concat(t.date.isSame(e.start,"day"),":").concat(t.date.isSame(e.end,"day")),canBookAppointments:i,calendarBookingId:o,event:e,calendarAction:r,timelineInterval:s,isCalendarDragPending:l,isCalendarMouseDragInProgress:c,isCalendarTouchDragInProgress:u,updateTimelineDragTimeFromPosition:this.props.updateTimelineDragTimeFromPosition,updateDurationDragTimeFromPosition:this.props.updateDurationDragTimeFromPosition,finishEventTimelineDrag:this.props.finishEventTimelineDrag,isCalendarDragInProgress:a,timelineHeight:m,timelineWidth:f,timelineLeft:g,timelineRight:v,slot:n[e.id],timeline:t})}render(){var{initialDraggingEvent:e}=this.props,{extendedTimelines:t}=this.context;return d.a.createElement(d.a.Fragment,null,x()(t,e=>x()(e,e=>{var t=Object(B.b)(e.events);return e.events.map(n=>this.renderEvent(n,e,t))})),e&&Object(M.k)(t,e.timeline)&&this.renderEvent(e,e.timeline,Object(B.b)(e.timeline.events)))}},i()(de,"contextType",j.a),i()(de,"propTypes",{isCalendarDragInProgress:m.a.bool,canBookAppointments:m.a.bool,calendarAction:m.a.string,calendarBookingId:m.a.string,timelineInterval:m.a.number,isCalendarDragPending:m.a.bool,isCalendarMouseDragInProgress:m.a.bool,isCalendarTouchDragInProgress:m.a.bool,updateTimelineDragTimeFromPosition:m.a.func,updateDurationDragTimeFromPosition:m.a.func,finishEventTimelineDrag:m.a.func,initialDraggingEvent:m.a.object}),ce=ue))||ce,Ne=Object(q.a)(Object(H.a)(je)),Pe=Object(p.b)(e=>({calendarAction:f.a.getCalendarAction(e),calendarBookingId:f.a.getCalendarActionObjectId(e),timelineInterval:f.a.getTimelineInterval(e),isCalendarDragInProgress:f.a.isCalendarDragInProgress(e),isCalendarDragPending:f.a.isCalendarDragPending(e),isCalendarMouseDragInProgress:f.a.isCalendarMouseDragInProgress(e),isCalendarTouchDragInProgress:f.a.isCalendarTouchDragInProgress(e),canBookAppointments:f.a.getCurrentPermissions(e)[F.a.CAN_BOOK_APPOINTMENTS],draggingEvent:f.a.getCalendarDraggingEvent(e),extendedTimelines:f.a.getCalendarExtendedTimelines(e),isCalendarFetchingData:f.a.isCalendarFetchingData(e)}),{updateTimelineDragTimeFromPosition:b.r,updateDurationDragTimeFromPosition:b.q,finishEventTimelineDrag:b.d})((Ie=De=class extends d.a.PureComponent{render(){var e,{isCalendarDragInProgress:t,canBookAppointments:n,calendarAction:a,calendarBookingId:i,timelineInterval:r,isCalendarDragPending:o,isCalendarMouseDragInProgress:s,isCalendarTouchDragInProgress:l,draggingEvent:c,extendedTimelines:u,isCalendarFetchingData:m}=this.props,{timelineHeight:h,timelinesSizes:p}=this.context;if(c){var{width:f,left:g,right:v}=Object(M.h)(u,p,c.timeline);e=d.a.createElement(Ne,{key:"".concat(c.type,":").concat(c.id,":").concat(c.initialDraggingEvent),canBookAppointments:n,calendarBookingId:i,event:c,calendarAction:a,timelineInterval:r,isCalendarDragPending:o,isCalendarMouseDragInProgress:s,isCalendarTouchDragInProgress:l,updateTimelineDragTimeFromPosition:this.props.updateTimelineDragTimeFromPosition,updateDurationDragTimeFromPosition:this.props.updateDurationDragTimeFromPosition,finishEventTimelineDrag:this.props.finishEventTimelineDrag,isCalendarDragInProgress:t,timelineHeight:h,timeline:c.timeline,timelineWidth:f,timelineLeft:g,timelineRight:v,isCalendarFetchingData:m})}return d.a.createElement(d.a.Fragment,null,d.a.createElement(Me,{canBookAppointments:n,calendarBookingId:i,calendarAction:a,timelineInterval:r,isCalendarDragPending:o,isCalendarMouseDragInProgress:s,isCalendarTouchDragInProgress:l,updateTimelineDragTimeFromPosition:this.props.updateTimelineDragTimeFromPosition,updateDurationDragTimeFromPosition:this.props.updateDurationDragTimeFromPosition,finishEventTimelineDrag:this.props.finishEventTimelineDrag,isCalendarDragInProgress:t}),e)}},i()(De,"contextType",j.a),i()(De,"propTypes",{extendedTimelines:m.a.array,canBookAppointments:m.a.bool,isCalendarDragInProgress:m.a.bool,updateTimelineDragTimeFromPosition:m.a.func,updateDurationDragTimeFromPosition:m.a.func,finishEventTimelineDrag:m.a.func,draggingEvent:m.a.object,isCalendarTouchDragInProgress:m.a.bool,isCalendarMouseDragInProgress:m.a.bool,isCalendarDragPending:m.a.bool,timelineInterval:m.a.number,calendarBookingId:m.a.string,calendarAction:m.a.string,isCalendarFetchingData:m.a.bool}),Ce=Ie))||Ce,Ae=n("GV30"),Re=n("0Hnt"),ke=n.n(Re),Le=e=>e.stopPropagation();class Fe extends c.PureComponent{render(){var{extendedTimelines:e}=this.props,{timelinesSizes:t,timelineHeight:n}=this.context;return e.map((e,a)=>{var i=t[a];return 0===e.length?d.a.createElement(O.b,{onClick:Le,className:ke.a.placeholder,style:{left:i.left,width:i.width,height:n}},d.a.createElement(Ae.a,{displayButtons:!0})):null})}}i()(Fe,"contextType",j.a),i()(Fe,"propTypes",{extendedTimelines:m.a.array});var Be,qe,He,ze,We,_e,Ye,Ue,Ve,Ge=n("ofiU"),Ke=n.n(Ge),Qe=Object(p.b)(e=>({calendarView:f.a.getCalendarView(e)}))((He=qe=class extends c.PureComponent{render(){var{timelinesSizes:e}=this.context,{calendarView:t}=this.props;return t===E.s.DAY_3?null:e.reduce((e,t,n,a)=>(e.push(Math.round(t.left)),n===a.length-1&&e.push(t.left+t.width),e),[]).map(e=>d.a.createElement(O.b,{className:Ke.a.shadow,style:{left:e}}))}},i()(qe,"contextType",j.a),i()(qe,"propTypes",{calendarView:m.a.string}),Be=He))||Be,Je=n("7Oo8"),Xe=n("iJfq"),Ze=n.n(Xe),$e=Object(p.b)(e=>({providerMoment:f.a.providerMoment(e)}))((_e=We=class extends d.a.PureComponent{constructor(...e){super(...e),i()(this,"interval",null)}componentDidMount(){this.interval=setInterval(()=>{this.forceUpdate()},5*Z.f)}componentWillUnmount(){clearInterval(this.interval)}render(){var{extendedTimelines:e,providerMoment:t}=this.props,{timelinesSizes:n}=this.context,a=t(),i=Object(M.m)(a),r=null,o=0;return e.forEach((e,t)=>{var i=n[t];e.forEach((t,n)=>{var s=i.width/e.length,l=i.left;t.date.isSame(a,"day")&&(null===r&&(r=l+n*s),o+=s)})}),o>0&&d.a.createElement(O.b,{className:Ze.a.self,style:{top:"".concat(i,"%"),left:r,width:o},qaType:"now-timeline"})}},i()(We,"contextType",j.a),i()(We,"propTypes",{extendedTimelines:m.a.array,providerMoment:m.a.func}),ze=_e))||ze;function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nt=e=>e.preventDefault(),at=Object(p.b)(e=>({calendarDate:f.a.getCalendarDate(e),calendarView:f.a.getCalendarView(e),isBlockedTimeAction:f.a.getCalendarAction(e)===E.e,calendarTranslateLeft:f.a.getCalendarTranslateLeft(e),isCalendarDragInProgress:f.a.isCalendarDragInProgress(e),timelineInterval:f.a.getTimelineInterval(e)}),{mutateAndNavigateCalendarState:b.i},(e,t,n)=>tt(tt(tt({},e),t),n),{withRef:!0})((Ve=Ue=class extends c.PureComponent{constructor(...e){super(...e),i()(this,"currentTranslate",0),i()(this,"delta",{x:0,y:0}),i()(this,"resetTranslate",()=>{var{timelinesSizes:e,parentWidth:t}=this.context;this.swipedLeft?this.move(-(e[1].left+e[1].width-t),0):this.move(-e[1].left,0),this.swipedLeft=!1}),i()(this,"onTransitionEnd",()=>{this.transitionEndHandler()}),i()(this,"transitionEndHandler",o.a),i()(this,"onTouchStart",e=>{this.touchInProgress||(this.touchInProgress=!0,this.startSwiping(e),this.getCurrentNode().addEventListener("touchmove",this.onTouchMove),this.getCurrentNode().addEventListener("touchend",this.onTouchEnd,{passive:!0}))}),i()(this,"onTouchMove",e=>{this.props.isCalendarDragInProgress||this.moveSwiping(e)}),i()(this,"onTouchEnd",e=>{e.touches.length>0||(this.touchInProgress=!1,this.endSwiping(e),this.getCurrentNode().removeEventListener("touchmove",this.onTouchMove),this.getCurrentNode().removeEventListener("touchend",this.onTouchEnd))}),i()(this,"onMouseDown",e=>{this.startSwiping(e),this.getCurrentNode().addEventListener("mousemove",this.onMouseMove),this.getCurrentNode().addEventListener("mouseup",this.onMouseUp),this.getCurrentNode().addEventListener("mouseleave",this.onMouseUp)}),i()(this,"onMouseMove",e=>{this.moveSwiping(e)}),i()(this,"onMouseUp",e=>{this.endSwiping(e),this.getCurrentNode().removeEventListener("mousemove",this.onMouseMove),this.getCurrentNode().removeEventListener("mouseup",this.onMouseUp),this.getCurrentNode().removeEventListener("mouseleave",this.onMouseUp)}),i()(this,"startSwiping",e=>{var{clientX:t,clientY:n}=Object(v.a)(e);this.initialState={x:t,y:n},this.delta={x:0,y:0},this.isScrolling=null,this.swipeStartDate=new Date}),i()(this,"moveSwiping",e=>{var{clientX:t,clientY:n}=Object(v.a)(e);this.delta={x:t-this.initialState.x,y:n-this.initialState.y},null!==this.isScrolling||0===this.delta.x&&0===this.delta.y||(this.isScrolling=!!(Math.abs(this.delta.x)<Math.abs(this.delta.y))),this.isScrolling||this.timeSelection||this.preventSwiping||this.isBlockingTimeOnDesktop()||(e.preventDefault(),this.translate(this.delta.x+this.currentTranslate,0))}),i()(this,"endSwiping",()=>{if(!this.isScrolling&&!this.preventSwiping){var e=this.delta.x<0,t=new Date-this.swipeStartDate>300,{left:n,right:a}=this.getTimelineBounds(),{parentWidth:i}=this.context,r=t&&[E.s.DAY,E.s.WEEK].includes(this.props.calendarView)&&(e&&this.currentTranslate===a||!e&&this.currentTranslate===n);Math.abs(this.delta.x)>(r?i/2:40)?e?this.swipeTimelinesRight(t):this.swipeTimelinesLeft(t):this.move(this.currentTranslate,300)}}),i()(this,"getTranslatedElement",()=>this.getCurrentNode().parentElement),i()(this,"translate",(e,t)=>{var n=this.getTranslatedElement();n&&(n.style.transitionDuration="".concat(t,"ms"),n.style.transform="translate3d(".concat(e,"px, 0, 0)"),this.handlePositionIndicator(e,t),this.handleArrows(e,t))}),i()(this,"move",(e,t)=>{var n=this.roundToBounds(e),a=Math.abs(n-this.currentTranslate);return this.translate(n,t),this.currentTranslate=n,a}),i()(this,"triggerSwipeLeft",()=>{var{parentWidth:e,extendedTimelines:t}=this.context,{left:n}=this.getTimelineBounds();if(this.currentTranslate===n){if(0===t[0].length)return 0;this.transitionEndHandler=()=>this.navigateCalendar()}return this.move(this.currentTranslate+e,300)}),i()(this,"triggerSwipeRight",()=>{var{parentWidth:e,extendedTimelines:t}=this.context,{right:n}=this.getTimelineBounds();if(this.currentTranslate===n){if(0===t[2].length)return 0;this.transitionEndHandler=()=>this.navigateCalendar({right:!0})}return this.move(this.currentTranslate-e,300)}),i()(this,"swipeTimelinesLeft",e=>{var{left:t}=this.getTimelineBounds(),{nextTranslate:n,timelinesOffset:a}=this.getNextTranslateValue(!1,e);this.currentTranslate===t&&n!==this.currentTranslate&&(this.preventSwiping=!0,this.transitionEndHandler=()=>this.navigateCalendar({days:a})),this.move(n,300)}),i()(this,"swipeTimelinesRight",e=>{var{right:t}=this.getTimelineBounds(),{nextTranslate:n,timelinesOffset:a}=this.getNextTranslateValue(!0,e);this.currentTranslate===t&&n!==this.currentTranslate&&(this.preventSwiping=!0,this.transitionEndHandler=()=>this.navigateCalendar({right:!0,days:a})),this.move(n,300)}),i()(this,"onStartTimeSelection",()=>{this.timeSelection=!0}),i()(this,"onEndTimeSelection",()=>{this.timeSelection=!1}),i()(this,"selfRef",d.a.createRef())}componentDidMount(){var{calendarTranslateLeft:e}=this.props;e?this.move(e,0):this.resetTranslate(),this.getTranslatedElement().addEventListener("transitionend",this.onTransitionEnd)}componentDidUpdate(e){!this.resetTranslateAtUpdate&&l()(e.timelinesSizes,this.props.timelinesSizes)||(this.preventSwiping=!1,this.resetTranslate(),this.resetTranslateAtUpdate=!1,this.selfRef.current.classList.remove("noDraggingEventTransition"))}componentWillUnmount(){this.getTranslatedElement().removeEventListener("transitionend",this.onTransitionEnd),g.a.setCalendarTranslateLeft(this.currentTranslate)}isBlockingTimeOnDesktop(){return this.props.isBlockedTimeAction&&Object(T.d)()}handleArrows(e){var{timelinesSizes:t,parentWidth:n}=this.context,a=t[1].width,i=Object(h.findDOMNode)(this.props.arrowLeftRef.current),r=Object(h.findDOMNode)(this.props.arrowRightRef.current);if(i&&r){var{left:o,right:s}=this.getTimelineBounds();a>n&&e<o?(i.style.opacity=1,i.style.pointerEvents=""):(i.style.opacity=0,i.style.pointerEvents="none"),a>n&&e>s?(r.style.opacity=1,r.style.pointerEvents=""):(r.style.opacity=0,r.style.pointerEvents="none")}}handlePositionIndicator(e,t){var{timelinesSizes:n,parentWidth:a}=this.context,i=this.props.positionIndicatorRef.current;if(i)if(n[1].width<=a)i.style.opacity=0;else{var r=e+n[1].left,o=a/n[1].width*100,s=-r/n[1].width*100;i.style.opacity=1,i.firstChild.style.transitionDuration="".concat(t,"ms"),i.firstChild.style.width="".concat(o,"%"),i.firstChild.style.left="".concat(s,"%")}}navigateCalendar({right:e,days:t}={}){var{calendarDate:n,calendarView:a}=this.props,i=n.clone();this.selfRef.current.classList.add("noDraggingEventTransition"),a===E.s.DAY?this.props.mutateAndNavigateCalendarState("date",i.add(e?1:-1,"day")):a===E.s.DAY_3?this.props.mutateAndNavigateCalendarState("date",i.add((t||3)*(e?1:-1),"day")):a===E.s.WEEK&&this.props.mutateAndNavigateCalendarState("date",i.add(e?1:-1,"week")),y.a(),this.swipedLeft=!e,this.resetTranslateAtUpdate=!0,this.transitionEndHandler=o.a}getCurrentNode(){return this.selfRef.current||document.createElement("div")}getTimelineBounds(){var{timelinesSizes:e,parentWidth:t}=this.context,n=e[1];return{left:Math.round(-n.left),right:Math.round(-n.left-n.width+t)}}roundToBounds(e){var t,n,{left:a,right:i}=this.getTimelineBounds();return t=this.currentTranslate===a?0:a,n=this.currentTranslate===i?Math.round(-this.context.timelinesWidthsSum+this.context.parentWidth):i,Math.round(Math.max(Math.min(e,t),n))}getNextTranslateValue(e,t){var{calendarView:n}=this.props,{parentWidth:a,timelinesSizes:i}=this.context,{left:r,right:o}=this.getTimelineBounds(),s=i[1],l=Math.round(this.delta.x/s.timelineWidth)*s.timelineWidth,c=a;t&&(n===E.s.DAY_3||e&&o!==this.currentTranslate||!e&&r!==this.currentTranslate)&&(c=Math.abs(l));var d=e?this.currentTranslate-c:this.currentTranslate+c;return{nextTranslate:d,timelinesOffset:Math.round(Math.abs((this.currentTranslate-d)/s.timelineWidth))}}render(){var{timelineInterval:e,isCalendarDragInProgress:t}=this.props,{timelineHeight:n,timelinesWidthsSum:a,extendedTimelines:i}=this.context;return d.a.createElement(w.a.Provider,{value:tt(tt({},this.context),{},{triggerSwipeLeft:this.triggerSwipeLeft,triggerSwipeRight:this.triggerSwipeRight})},d.a.createElement(O.b,{className:D.a.timelinesInner1,style:{width:a,height:n},onMouseDown:this.onMouseDown,onTransitionEnd:this.onTransitionEnd,onTouchStart:this.onTouchStart,onContextMenu:nt,selfRef:this.selfRef,qaType:"swipeable-timelines"},d.a.createElement(L,{timelineInterval:e}),d.a.createElement(Pe,null),d.a.createElement(Fe,{extendedTimelines:i}),d.a.createElement(Qe,null),i[1].length>0&&!t&&d.a.createElement(Je.a,{onEndTimeSelection:this.onEndTimeSelection,onStartTimeSelection:this.onStartTimeSelection,parentInstance:this}),d.a.createElement($e,{extendedTimelines:i})))}},i()(Ue,"contextType",j.a),i()(Ue,"propTypes",{timelineInterval:S.i,calendarDate:m.a.object,calendarView:m.a.string,mutateAndNavigateCalendarState:m.a.func,isCalendarDragInProgress:m.a.bool,isBlockedTimeAction:m.a.bool,timelinesSizes:m.a.oneOfType([m.a.object,m.a.array]),calendarTranslateLeft:m.a.number,positionIndicatorRef:m.a.object,arrowLeftRef:m.a.object,arrowRightRef:m.a.object}),Ye=Ve))||Ye},qGVk:function(e,t,n){"use strict";n.d(t,"b",(function(){return L})),n.d(t,"a",(function(){return ee}));var a=n("pVnL"),i=n.n(a),r=n("QILm"),o=n.n(r),s=n("lSNA"),l=n.n(s),c=n("lSCD"),d=n.n(c),u=n("pZt1"),m=n.n(u),h=n("q1tI"),p=n.n(h),f=n("17x9"),g=n.n(f),v=n("TSYQ"),b=n.n(v),E=n("pQ8y"),y=n("VeD8"),O=n("JqEL");class T extends h.PureComponent{constructor(e){super(e),this.state={isRendered:!1}}componentDidMount(){this.timeout=setTimeout(()=>this.setState({isRendered:!0}),this.props.delay)}componentWillUnmount(){Object(O.d)(this.timeout)}render(){return this.state.isRendered?h.Children.only(this.props.children):null}}l()(T,"propTypes",{delay:g.a.number,children:g.a.node}),l()(T,"defaultProps",{delay:500});n("uHid");var S=n("DTRD"),w=n("jXSx"),j=n("i6OX"),C=n("Jje6"),D=n("9wjN"),I=n("ww3E"),x=n("R3Cl"),M=n.n(x);class N extends h.Component{constructor(e){super(e),this.state={showTooltip:!1},this.handleActionRef=this.handleActionRef.bind(this)}UNSAFE_componentWillMount(){this.props.tooltip&&(this.timeout=setTimeout(()=>{this.setState({showTooltip:!0})},300))}componentWillUnmount(){clearTimeout(this.timeout)}handleActionRef(e){if(Object(O.h)(e)){"object"==typeof this.actionRefListener&&this.actionRefListener.remove();var{action:t}=this.props;this.actionRefListener=Object(O.a)(e,"touchstart",e=>{e.preventDefault(),"function"==typeof t&&t(e)},{passive:!1})}}render(){var e=this.props,{content:t,disabled:n,tooltip:a,expanded:r,action:s,qaType:l,buttonClassName:c,noFillIcon:d}=e,u=o()(e,["content","disabled","tooltip","expanded","action","qaType","buttonClassName","noFillIcon"]),{showTooltip:m}=this.state;return p.a.createElement(C.b,{className:b()(M.a.self,{[M.a.expanded]:r,[M.a.whiteIcon]:!d}),onClick:s,selfRef:this.handleActionRef,qaType:l},p.a.createElement(I.a,i()({disabled:n,type:"info float",className:b()(M.a.action,c),noFillIcon:d},u),t),p.a.createElement(y.a,null,r&&m?p.a.createElement(E.a,{classNames:{enter:M.a.tooltipAppear,enterActive:M.a.tooltipAppearActive,exit:M.a.tooltipLeave,exitActive:M.a.tooltipLeaveActive},timeout:200},p.a.createElement("div",{className:M.a.tooltip},a)):null))}}l()(N,"propTypes",{content:g.a.node.isRequired,disabled:g.a.bool,expanded:g.a.bool,tooltip:g.a.string,action:g.a.func,qaType:C.b.propTypes.qaType,buttonClassName:g.a.string,noFillIcon:g.a.bool});var P=n("tdHr"),A=n.n(P);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class L extends p.a.PureComponent{constructor(...e){super(...e),l()(this,"state",{isOpen:!1,showOverlay:!1}),l()(this,"onRootActionTouchStart",()=>{this.setState({showOverlay:!0})}),l()(this,"onRootActionMouseEnter",()=>{this.props.disabled||(this.setState({showOverlay:!1}),this.showActions())}),l()(this,"hideActions",()=>{this.setState({isOpen:!1})}),l()(this,"showActions",()=>{this.setState({isOpen:!0})}),l()(this,"renderActions",()=>this.props.actions.map((e,t)=>{var n=t,{onAction:a}=e,r=o()(e,["onAction"]);return p.a.createElement(E.a,{key:n,classNames:{enter:A.a.actionEnter,enterActive:A.a.actionEnterActive,exit:A.a.actionLeave,exitActive:A.a.actionLeaveActive},timeout:{enter:250,exit:200}},p.a.createElement(N,i()({},r,{action:()=>{this.hideActions(),"function"==typeof a&&a()},expanded:!0})))}))}UNSAFE_componentWillReceiveProps(e){!this.props.disabled&&e.disabled&&this.setState({isOpen:!1,showOverlay:!1})}get isOpen(){return this.state.isOpen&&this.state.showOverlay}render(){var{rootAction:e,disabled:t,noFillRootIcon:n,floatClassName:a,transitionSelfAppear:r,transitionSelfAppearActive:s,inModal:l}=this.props,{isOpen:c}=this.state,{onAction:u}=e,h=o()(e,["onAction"]);return p.a.createElement(w.b,{stopActionEvents:!1},p.a.createElement(S.a,{show:this.isOpen,onAction:this.hideActions},p.a.createElement(T,{delay:800},p.a.createElement(y.a,{appear:!0,enter:!1,exit:!1},p.a.createElement(E.a,{classNames:{appear:r,appearActive:s},timeout:500},p.a.createElement(C.b,{className:b()(A.a.self,a,{[A.a.mobile]:Object(D.f)(),[A.a.inModal]:l}),qaType:"floating-menu-button"},p.a.createElement(y.a,{appear:!0,enter:!1},c||t?null:p.a.createElement(E.a,{classNames:{appear:A.a.rootActionEnter,appearActive:A.a.rootActionEnterActive,exit:A.a.rootActionLeave,exitActive:A.a.rootActionLeaveActive},timeout:200},p.a.createElement(N,i()({action:()=>{if(this.props.actions.length>1)this.showActions();else{var e=m()(this.props.actions);e&&d()(e.onAction)&&e.onAction()}"function"==typeof u&&u()},onMouseEnter:this.onRootActionMouseEnter,onTouchStart:this.onRootActionTouchStart,noFillIcon:n,"data-qa":"floating-root-menu-button"},h)))))))),p.a.createElement("div",{className:b()(A.a.self,A.a.open,{[A.a.mobile]:Object(D.f)(),[A.a.inModal]:l}),onMouseLeave:this.hideActions},p.a.createElement(y.a,null,c&&this.renderActions()))))}}l()(L,"defaultProps",{rootAction:{content:p.a.createElement(j.b,{name:"plus"})},transitionSelfAppear:A.a.selfAppear,transitionSelfAppearActive:A.a.selfAppearActive}),l()(L,"propTypes",{actions:g.a.arrayOf(g.a.shape(k(k({},N.propTypes),{},{content:g.a.node,onAction:g.a.func}))).isRequired,rootAction:g.a.shape(N.propTypes),disabled:g.a.bool,noFillRootIcon:g.a.bool,floatClassName:g.a.string,transitionSelfAppear:g.a.string,transitionSelfAppearActive:g.a.string,inModal:g.a.bool});var F,B,q,H=n("VkAN"),z=n.n(H),W=n("/MKj"),_=n("PhEd"),Y=n("ePPS"),U=n("dhJQ"),V=n("3wSE"),G=n("TSDZ"),K=n("nbpM"),Q=n("3+wM"),J=n.n(Q);function X(){var e=z()(["Add New"]);return X=function(){return e},e}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=Object(U.g)()(F=Object(W.b)(e=>({isReshedulEnabled:K.a.isReshedulEnabled(e)}))((q=B=class extends h.PureComponent{render(){var{isMatch:e,hideOnDesktop:t,hideOnMobile:n,iconOnlyOnDesktop:a,actions:i,label:r,className:o,inModal:s,isReshedulEnabled:l,buttonSize:c}=this.props;if(e&&!n)return p.a.createElement(L,{actions:i,inModal:s});if(!e&&!t){var d=i.slice();d.reverse();var u={as:_.Button,variant:"primary",size:c,iconSize:"16",iconColor:"white",wrapChildren:!0,showRipple:!1};if(d.length>1){var m=$(a?{label:null,as:V.f,showIcon:!0,icon:"plus",size:"large",className:b()(J.a.self,J.a.iconOnly,o),iconClassName:J.a.iconOnlyIcon,align:"right",qaType:"floating-menu-button"}:{label:r,as:V.f,showIcon:!1,className:b()(J.a.self,o),align:"right",qaType:"floating-menu-button"},l?u:{});return p.a.createElement(G.g,m,d.map(({id:e,onAction:t,tooltip:n,linkTo:a,qaType:i})=>p.a.createElement(G.c,{key:e,onAction:t,linkTo:a,qaType:i},n)))}if(1===i.length){var{tooltip:h,onAction:f}=i[0],g=a?{showIcon:!0,icon:"plus",size:"large",className:b()(J.a.iconOnly,o),iconClassName:J.a.iconOnlyIcon,onAction:f,qaType:"floating-menu-button"}:{showIcon:!1,onAction:f,className:o,qaType:"floating-menu-button"};return p.a.createElement(V.f,g,a?null:h)}return null}return null}},l()(B,"propTypes",{isMatch:g.a.bool,hideOnDesktop:g.a.bool,hideOnMobile:g.a.bool,iconOnlyOnDesktop:g.a.bool,actions:g.a.arrayOf(g.a.object),label:g.a.string,className:g.a.string,inModal:g.a.bool,isReshedulEnabled:g.a.bool,buttonSize:g.a.oneOf(["small","default","large"])}),l()(B,"defaultProps",{hideOnDesktop:!1,hideOnMobile:!1,iconOnlyOnDesktop:!1,actions:[],label:Object(Y.c)(X()),buttonSize:"default"}),F=q))||F)||F},tNhX:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("UB5X"),i=n.n(a),r=n("JZM8"),o=n.n(r),s=e=>o()(i()(e.clientY)?e:e.changedTouches[0],["clientX","clientY"])},uHid:function(e,t,n){"use strict";(function(e){var t=n("lSNA"),a=n.n(t),i=n("q1tI"),r=n("17x9"),o=n.n(r);class s extends i.PureComponent{constructor(e){super(e),this.state={isRendered:!1}}componentDidMount(){this.timeout=e.requestAnimationFrame(()=>{e.requestAnimationFrame(()=>{this.setState({isRendered:!0})})})}componentWillUnmount(){e.cancelAnimationFrame(this.timeout)}render(){var e=this.state.isRendered?this.props:{};return this.props.children(e)}}a()(s,"propTypes",{children:o.a.func})}).call(this,n("yLpj"))},vHaq:function(e,t){e.exports='<svg viewBox="0 0 375 351" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g transform="translate(218 125)"><g transform="translate(2 -6)" stroke="#101928" stroke-width="2.016" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><path d="M2.694 15.667A9.211 9.211 0 0 1 1 10.333C1 5.18 5.23 1 10.45 1c5.22 0 9.45 4.179 9.45 9.333a9.211 9.211 0 0 1-1.694 5.334" opacity=".4"></path></g><path d="M29.76 19.463L15.77 17V5.333C15.77 3.493 14.229 2 12.327 2c-1.9 0-3.442 1.492-3.442 3.333V22H5.442C3.542 22 2 23.492 2 25.333v4.826c0 2.27.798 4.474 2.263 6.247L8.885 42H31.26l2.678-16.857c.426-2.677-1.428-5.196-4.18-5.68z" fill="#FFF" stroke="#101928" stroke-width="2.52" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></g></svg>'},wzVS:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var a,i,r,o=n("pVnL"),s=n.n(o),l=n("VkAN"),c=n.n(l),d=n("QILm"),u=n.n(d),m=n("lSNA"),h=n.n(m),p=n("q1tI"),f=n.n(p),g=n("17x9"),v=n.n(g),b=n("TSYQ"),E=n.n(b),y=n("XOuL"),O=n("Jje6"),T=n("3wSE"),S=n("dhJQ"),w=n("Na4G"),j=n("ePPS"),C=n("GV30"),D=n("soI7"),I=n.n(D);function x(){var e=c()(["Retry"]);return x=function(){return e},e}function M(){var e=c()(["Your request couldn’t be processed at this point. Please try again later or contact our support."]);return M=function(){return e},e}function N(){var e=c()(["Unable to load data"]);return N=function(){return e},e}var P=Object(S.g)()((r=i=class extends p.PureComponent{render(){var e,t=this.props,{noLocations:n,children:a,isFetching:i,isMatch:r,initialFetched:o,didFail:l,retryFetch:c}=t,d=u()(t,["noLocations","children","isFetching","isMatch","initialFetched","didFail","retryFetch"]);if(l)e=f.a.createElement(O.b,{className:I.a.loadingError},f.a.createElement(w.a,{basis:400,iconName:"connection-error",title:Object(j.c)(N()),description:Object(j.c)(M())},f.a.createElement(T.f,{onAction:c,withPending:!0,alignSelf:r?"stretch":"center"},Object(j.c)(x()))));else if(i){if(!o)return f.a.createElement(y.a,{static:!0});e=f.a.createElement(y.a,{static:!0})}else n&&(e=f.a.createElement(C.a,null));return f.a.createElement(O.b,s()({className:E()(I.a.self)},d),e,o&&!n&&a)}},h()(i,"propTypes",{className:v.a.string,children:v.a.node,isFetching:v.a.bool,isMatch:v.a.bool,initialFetched:v.a.bool,didFail:v.a.bool,retryFetch:v.a.func,noLocations:v.a.bool}),a=r))||a},zDos:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n("9oTK"),i=n("vN+2"),r=n.n(i),o=n("Qyje"),s=n.n(o),l=n("Q2AE"),c=n("unan"),d=n("5ZU+"),u=n("nbpM"),m=n("6Ox+"),h=n("ocZZ"),p=n("erLI"),f=n("+Gzo"),g=n("V0dS"),v=n("/uSU"),b=n("df8d"),E=n("bXOm");function y(e){var{action:t}=e;return t===p.n||t===p.m?function(e){var{calendarActionObjectId:t,providerMoment:n}=e,i=u.a.getCalendarInitialPayloadFetched(l.a.getState());return d.a.readBooking(t).then(()=>{var e=l.a.getState(),o=u.a.getBooking(e,t).location;if(i){var c=JSON.parse(m.b.get(m.a.calendarSearch,null)),h=Object(g.c)(c.searchString),v=s.a.parse(h);if(v.location_id===o)return Object(f.J)({view:v.view,location_id:v.location_id,resource:v.resource,employee_id:v.employee_id,room_id:v.room_id,date:v.date},!0),Object(a.resolve)()}return Object(a.all)([S(),Object(g.l)(o),d.a.readNoShowSettings().catch(r.a)]).then(()=>{var t=u.a.getCalendarEmployeeList(e),a={view:1===t.length?p.s.WEEK:p.s.DAY,location_id:o,resource:"employee",employee_id:1===t.length?t[0].id:p.u,date:n().format("YYYY-MM-DD")};Object(f.J)(a,!0)})})}(e):t===p.g?function(e){var{calendarActionObjectId:t,providerMoment:n}=e;return d.a.bulk([S,[d.a.readCustomerBookings,t,{limit:1}]]).then(()=>{var e=l.a.getState(),a=u.a.getCustomerLastBookingLocation(e,t),i=a?a.id:u.a.getDefaultLocation(e).id;return Object(g.l)(i).then(()=>{var t=u.a.getCalendarEmployeeList(e),a={view:1===t.length?p.s.WEEK:p.s.DAY,location_id:i,resource:"employee",employee_id:1===t.length?t[0].id:p.u,date:n().format("YYYY-MM-DD")};Object(f.J)(a,!0)})})}(e):function(e){var t,n,{view:i,date:r,resourceType:o,roomId:c,employeeId:h,locationId:p,providerMoment:v}=e,b=l.a.getState(),y=JSON.parse(m.b.get(m.a.calendarSearch,null)),O=u.a.getProvider(b).id,w=u.a.getCurrentEmployee(b).id;if(y&&y.providerId===O&&(!y.employeeId||y.employeeId===w)){var j=Object(g.c)(y.searchString);t=s.a.parse(j)}if(Object(E.b)(e))return n={view:i,location_id:p,resource:o,employee_id:h,room_id:c,date:r.format("YYYY-MM-DD")},Object(a.all)([d.a.readOfferCatalog(),Object(g.l)(p),T()]).then(()=>{Object(f.J)(n,!0)});if(Object(E.d)(t))return n={view:t.view,location_id:t.location_id,resource:t.resource,employee_id:t.employee_id,room_id:t.room_id,date:v().format("YYYY-MM-DD")},Object(a.all)([d.a.readOfferCatalog(),Object(g.l)(n.location_id),T()]).then(()=>{Object(f.J)(n,!0)});return S().then(()=>{var e=u.a.getDefaultLocation(l.a.getState()).id;return Object(g.l)(e)}).then(()=>{Object(f.J)(Object(E.a)(),!0)})}(e).then(O)}function O(){return window.location.pathname===f.h&&Object(b.j)()||Object(b.k)()?Object(a.all)([d.a.readBusinessTypesList(),d.a.readLocationProfilesList(),l.a.dispatch(Object(c.e)())]).catch(()=>{Object(h.d)("Fetch business types related data in calendar error",{},{},h.a.Severity.Warning)}):Object(a.resolve)()}function T(){return d.a.readLocationList({filterWithoutEmployees:!0}).then(e=>{if(d.a.setCalendarLocations(e.body.data.map(({id:e})=>e)),0===u.a.getCalendarLocationsList(l.a.getState()).length)throw new v.a})}function S(){return Object(a.all)([d.a.bulk([d.a.readOfferCatalog]),T()])}}}]);